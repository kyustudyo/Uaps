# 커스텀 코드 통합 메모 (Custom Code Integration Memo)

**작성일**: 2025-10-17
**목적**: Phase 2 커스텀 코드 통합을 위한 작업 메모 및 체크리스트

---

## 📋 전략 개요

### Phase 1 (현재 진행 중) - 강의 체리픽
```
목표: 모든 강의 커밋을 순차적으로 체리픽
기간: 강의 완료까지
주의사항: ⚠️ 절대 커스텀 코드 추가하지 말 것!
```

### Phase 2 (미래) - 커스텀 코드 통합
```
목표: 모든 강의 완료 후 커스텀 작업 한 번에 통합
예상: 충돌 N회 → 1회로 감소
장점: Unity 캐시 문제 방지, Git 히스토리 깔끔
```

---

## ⚠️ Phase 1 진행 시 철칙

### 절대 하지 말 것
- ❌ 커스텀 코드 추가
- ❌ 강의 원본 코드 수정
- ❌ "이번 한 번만" 커스텀 기능 넣기
- ❌ WorkerThreeRobot에 추가 기능 구현

### 꼭 지킬 것
- ✅ 강의 체리픽은 순수하게
- ✅ 충돌 시 강의 원본 우선
- ✅ 커스텀 아이디어는 이 메모에 기록
- ✅ 완료된 강의 번호 체크

---

## 🎯 Phase 2에서 추가할 커스텀 작업 목록

### 1. 🤖 로봇 시스템 커스텀
- [ ] WorkerThreeRobot 개선사항
  - [ ] 3-파트 회전 시스템 최적화 (50+ 유닛 대응)
  - [ ] 부품 조합 시스템 개선
  - [ ] 커스텀 애니메이션 시스템
- [ ] 부품당 애니메이션 처리
  - [ ] head 파트 애니메이션
  - [ ] body 파트 애니메이션
  - [ ] legs 파트 애니메이션
- [ ] 추가 로봇 파트 타입
  - [ ] 무기 (weapons)
  - [ ] 방어구 (shields)
  - [ ] 특수 능력 파트

### 2. 🗺️ 맵 및 환경
- [ ] 맵 모델링
  - [ ] 지형 설계
  - [ ] 건물 배치
  - [ ] 오브젝트 배치
- [ ] NavMesh 설정
  - [ ] 걸어갈 수 있는 범위 지정
  - [ ] 공중 유닛 범위
  - [ ] 지상 유닛 범위
  - [ ] 물 영역 제외

### 3. ⚙️ 게임플레이 시스템
- [ ] Action 정의
  - [ ] 유닛 행동 시스템
  - [ ] 명령 시스템
  - [ ] 특수 능력
- [ ] 전투 시스템
  - [ ] 공격 시스템
  - [ ] 체력/데미지 시스템
  - [ ] 파트별 특수 능력

### 4. 🎨 UI/UX 개선
- [ ] 파트 커스터마이징 UI
- [ ] 파트 등급/레어도 시스템
- [ ] 인벤토리 시스템

### 5. 🐛 버그 수정
- [ ] 공중 유닛 더블클릭 시 드래그 박스 미해제 버그
  - 원인: Rigidbody + Worker 중복
  - 해결 방법: (메모 추가)

---

## 💾 백업 및 참고 위치

### 현재 브랜치 상태 (Phase 1 시작 전)
```
브랜치: urts-course (dev2)
커밋: 9457271 (05_BB_URTS Parallel Execution in the Behavior Tree)
```

### 커스텀 코드 백업 위치
```
백업 브랜치: (생성 필요)
백업 폴더: (지정 필요)
```

### 중요 파일 백업
- [ ] `/Users/hankyulee/Desktop/Uaps/lecture/.claude/` (완료 ✅)
- [ ] `/Users/hankyulee/Desktop/Uaps/lecture/ARCHITECTURE*.html` (완료 ✅)
- [ ] 커스텀 스크립트 파일들 (필요 시)

---

## 🔥 통합 시 예상 충돌 파일

### 확실히 충돌 예상
1. **BuildBuildingAction.cs**
   - 이유: 매 강의마다 수정되는 핵심 파일
   - 예상 충돌: 8+ 코드 변경

2. **Worker BT.asset**
   - 이유: Unity Behavior Tree 직렬화 문제
   - 예상 충돌: RefID 변경, Missing Node

3. **WorkerThreeRobot.cs** (커스텀 추가 시)
   - 이유: 커스텀 로직 vs 강의 로직
   - 예상 충돌: 중~고

### 충돌 가능성 있음
- PlayerInput.cs
- BaseUnit.cs
- AbstractUnit.cs
- Command Post.asset
- Unity 씬 파일들

---

## ✅ Phase 2 통합 체크리스트

### 준비 단계
- [ ] 모든 강의 체리픽 완료 확인
- [ ] 현재 브랜치 상태 백업
- [ ] 커스텀 코드 목록 정리
- [ ] 충돌 해결 계획 수립
- [ ] Unity Editor 버전 확인

### 통합 시작
- [ ] 새 브랜치 생성 (custom-integration)
- [ ] 커스텀 코드 하나씩 통합
- [ ] 각 통합 후 Unity 컴파일 확인
- [ ] 각 통합 후 테스트

### 충돌 해결
- [ ] BuildBuildingAction.cs 충돌 해결
- [ ] Worker BT.asset 충돌 해결
- [ ] Unity 캐시 클리어 (필요 시)
  - ScriptAssemblies 삭제
  - Bee/artifacts 삭제
- [ ] 기타 충돌 해결

### 최종 검증
- [ ] 전체 프로젝트 빌드
- [ ] 모든 씬 테스트
- [ ] 로봇 생성 테스트
- [ ] 부품 시스템 테스트
- [ ] 성능 테스트 (50+ 유닛)

---

## 📝 진행 메모

### 아이디어 기록
```
(Phase 1 진행 중 떠오른 아이디어를 여기 기록)

- 2025-10-17: 유닛 죽었을 때 다른 유닛으로 resume - 68강
- 2025-10-17: 부품별 애니메이션을 Animator Controller로 관리하면 좋을 듯
```

### 충돌 해결 방법 기록
```
(Phase 2에서 충돌 해결 시 방법을 기록)

예시:
- BuildBuildingAction.cs: TryGetComponent 버전 선택 (null check 포함)
- ...
```

### 특이사항
```
(예상치 못한 문제나 발견한 사항 기록)

예시:
- Unity Behavior Tree는 스크립트 변경 후 Reimport All 필요
- ...
```

---

## 🎓 강의 진행 현황

**총 강의 수**: (확인 필요)
**완료한 강의**: 15개 (11-12시간)

### 체리픽 완료 목록
- [x] 강의 1-15
- [ ] 강의 16
- [ ] 강의 17
- [ ] ...

---

## 🚀 다음 단계

**Phase 1 완료 후**:
1. 이 메모 파일 다시 읽기
2. 백업 확인
3. 새 브랜치 생성
4. 커스텀 코드 통합 시작

**Phase 2 완료 후**:
1. 모든 테스트 통과 확인
2. 최종 커밋
3. 메인 브랜치 머지

---

**마지막 업데이트**: 2025-10-17
**다음 업데이트 예정**: Phase 1 완료 시
