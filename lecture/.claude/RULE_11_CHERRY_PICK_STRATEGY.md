# Rule 11: CHERRY_PICK_STRATEGY_RULE ⭐⭐⭐

## 전략 변경: 강의 먼저, 커스텀 코드 나중에

### 🔴 문제점

**현재 방식의 문제:**
```
강의 체리픽 → 커스텀 코드 추가 → 다음 강의 체리픽 → 충돌 발생 → 해결 반복
```

**주요 충돌 파일:**
- `BuildBuildingAction.cs` - 계속 코드 충돌
- `Worker BT.asset` - Unity Behavior Tree 직렬화 문제
- Unity asset 파일들 - GUID/RefID 변경으로 충돌

**Unity 특수 문제:**
- Unity Behavior Tree는 노드 변경 시 전체 재직렬화
- 스크립트 수정 후 캐시 타이밍 문제로 "Missing Node" 발생
- RefID 자동 재생성으로 git diff 복잡

### ✅ 해결 전략

**새로운 워크플로우:**

```
Phase 1: 강의 체리픽 (원본 그대로)
├── 강의 1 체리픽
├── 강의 2 체리픽
├── ...
└── 강의 N 체리픽 (모든 강의 완료)

Phase 2: 커스텀 코드 통합 (한 번에)
├── 커스텀 브랜치에서 변경사항 추출
├── 최종 강의 상태에 통합
└── 충돌 한 번만 해결
```

**단계별 실행:**

1. **강의 체리픽 단계**
   - 모든 강의 커밋을 순차적으로 체리픽
   - 원본 강의 내용만 적용 (커스텀 코드 추가 ❌)
   - 충돌 발생 시 원본 우선 (강의 내용 유지)

2. **커스텀 코드 준비**
   - 현재 커스텀 코드를 별도 브랜치에 백업
   - 변경사항 목록 문서화
   - 통합 계획 수립

3. **최종 통합 단계**
   - 모든 강의 완료 후 커스텀 코드 머지
   - 충돌은 이 시점에 한 번만 해결
   - Unity Editor에서 최종 검증

### 🎯 장점

1. **충돌 최소화**
   - 반복 충돌 제거 (N번 → 1번)
   - 강의 내용은 깔끗하게 유지

2. **Unity 안정성**
   - Behavior Tree 캐시 문제 없음
   - RefID 재생성 최소화
   - Missing Node 문제 방지

3. **Git 히스토리 정리**
   - 강의 커밋 히스토리 명확
   - 커스텀 변경사항 추적 용이

4. **개발 효율성**
   - 충돌 해결 시간 대폭 감소
   - 강의 학습에 집중 가능

### 📋 체크리스트

**Phase 1 시작 전:**
- [ ] 현재 커스텀 코드를 별도 브랜치에 백업
- [ ] 커스텀 변경사항 문서화 완료
- [ ] 체리픽할 강의 커밋 리스트 확인

**Phase 1 진행 중:**
- [ ] 강의 커밋만 순수하게 체리픽
- [ ] 커스텀 코드 추가 충동 억제 ⚠️
- [ ] 충돌 시 강의 원본 우선

**Phase 1 완료 후:**
- [ ] 모든 강의 체리픽 완료 확인
- [ ] Unity 프로젝트 정상 작동 확인
- [ ] 커밋 히스토리 검증

**Phase 2 진행:**
- [ ] 백업 브랜치에서 커스텀 코드 추출
- [ ] 최종 상태에 통합
- [ ] 충돌 해결 (한 번만!)
- [ ] Unity Editor 최종 테스트

### 🚨 주의사항

**절대 하지 말 것:**
- ❌ Phase 1 중간에 커스텀 코드 추가
- ❌ "이번 한 번만" 커스텀 기능 넣기
- ❌ 강의 원본 코드 수정

**꼭 지킬 것:**
- ✅ 강의 체리픽은 순수하게
- ✅ 충돌 시 강의 원본 우선
- ✅ 커스텀 코드는 백업 브랜치에 안전하게 보관

### 📝 관련 룰

- **Rule 6**: LECTURE_COMMAND_PROCESSING_RULE - 강의 처리 워크플로우
- **Rule 5**: GIT_COMMIT_MESSAGE_RULE - 커밋 메시지 형식
- **Rule 7**: MODULAR_ARCHITECTURE_RULE - 모듈화 아키텍처 (통합 시 중요)

---

**생성일**: 2025-10-17
**적용일**: Phase 1 즉시 시작
