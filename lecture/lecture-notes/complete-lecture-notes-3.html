<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URTS ê°•ì˜ ë…¸íŠ¸ - 3í˜ì´ì§€</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .content {
            padding: 30px;
        }
        
        .lecture-section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        
        .lecture-title {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.8em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .lecture-goal {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .lecture-goal h3 {
            color: #2980b9;
            margin-top: 0;
        }
        
        .content-section {
            margin: 25px 0;
        }
        
        .content-section h3 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 8px;
        }
        
        .tech-stack {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }
        
        .tech-stack h4 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .content-list {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .content-list li {
            margin: 8px 0;
            color: #2c3e50;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            white-space: pre;
        }
        
        .code-block .comment {
            color: #95a5a6;
            font-style: italic;
        }
        
        .code-block .keyword {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .code-block .class-name {
            color: #3498db;
            font-weight: bold;
        }
        
        .code-block .method-name {
            color: #f39c12;
            font-weight: bold;
        }
        
        .code-block .property-name {
            color: #2ecc71;
            font-weight: bold;
        }
        
        .code-block .field-name {
            color: #9b59b6;
        }
        
        .code-block .string {
            color: #e67e22;
        }
        
        .code-block .number {
            color: #e67e22;
        }
        
        .code-block .parameter {
            color: #f39c12;
        }
        
        .info-box {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .info-box h4 {
            color: #27ae60;
            margin-top: 0;
        }
        
        .warning-box {
            background: #fdf2e9;
            border: 2px solid #e67e22;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #e67e22;
            margin-top: 0;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .toc ul {
            list-style: none;
            padding: 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
        }
        
        .toc a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ® URTS ê°•ì˜ ë…¸íŠ¸</h1>
            <p>Unity RTS ê²Œì„ ê°œë°œ ê°•ì˜ ì •ë¦¬ - 3í˜ì´ì§€</p>
        </div>
        
        <div class="content">
            <!-- ëª©ì°¨ -->
            <div class="toc">
                <h3>ğŸ“š ëª©ì°¨</h3>
                <ul>
                    <li><a href="#lecture-39">ğŸ¯ ê°•ì˜ 39: Unit Commands in Behavior Tree</a></li>
                    <li><a href="#lecture-40">â›ï¸ ê°•ì˜ 40: Gathering Supplies with Behavior Tree</a></li>
                    <li><a href="#lecture-41">ğŸ  ê°•ì˜ 41: Return Supplies to Command Post</a></li>
                    <li><a href="#lecture-42">ğŸš¶ ê°•ì˜ 42: Smooth Gathering Movement</a></li>
                    <li><a href="#lecture-43">ğŸ¯ ê°•ì˜ 43: Pick Better Gathering Locations</a></li>
                </ul>
            </div>

            <!-- ê°•ì˜ 39: Unit Commands in Behavior Tree (Behavior Treeì—ì„œ ìœ ë‹› ëª…ë ¹) -->
            <div class="lecture-section" id="lecture-39">
                <h2 class="lecture-title">ğŸ¯ ê°•ì˜ 39: Unit Commands in Behavior Tree (Behavior Treeì—ì„œ ìœ ë‹› ëª…ë ¹)</h2>
                
                <div class="tech-stack" style="margin-top: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                    <h4 style="color: #2c3e50; margin-top: 0;">ğŸ¯ ì´ë²ˆ ê°•ì˜ë¥¼ ì™œ í•´ì•¼ í•˜ëŠ”ê°€?</h4>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ëª…ë ¹ ì²´ê³„ êµ¬ì¶•</strong>: <span style="color: #2c3e50;">ìœ ë‹›ì˜ ë‹¤ì–‘í•œ í–‰ë™ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ ì‹œìŠ¤í…œ</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">í™•ì¥ì„± í–¥ìƒ</strong>: <span style="color: #2c3e50;">ìƒˆë¡œìš´ ìœ ë‹› ê¸°ëŠ¥ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ë°˜ì‘ì„± ê°œì„ </strong>: <span style="color: #2c3e50;">ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì‘í•˜ëŠ” ìœ ë‹› ì‹œìŠ¤í…œ</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ì½”ë“œ ë¶„ë¦¬</strong>: <span style="color: #2c3e50;">Behavior Treeì™€ ëª…ë ¹ ë¡œì§ì˜ ëª…í™•í•œ ë¶„ë¦¬</span></p>
                </div>
                
                <div class="tech-stack" style="margin-top: 15px; background: #e8f5e8; border: 2px solid #28a745; border-radius: 8px;">
                    <h4 style="color: #155724; margin-top: 0;">ğŸ§’ ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h4>
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ¯ ëª…ë ¹ì´ ë­ì•¼?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ê²Œì„ì—ì„œ ìœ ë‹›ì—ê²Œ "ì´ë™í•´!", "ë©ˆì¶°!", "ê³µê²©í•´!" ê°™ì€ ì§€ì‹œë¥¼ ë‚´ë¦¬ëŠ” ì‹œìŠ¤í…œì´ì—ìš”. ë§ˆì¹˜ ë¦¬ëª¨ì»¨ìœ¼ë¡œ TVë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒê³¼ ê°™ì•„ìš”!</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ® ì™œ í•„ìš”í•œê°€ìš”?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ë‹¤ì–‘í•œ í–‰ë™</strong>: ìœ ë‹›ì´ í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê°€ì§€ í–‰ë™ì„ ê´€ë¦¬í•´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ì¦‰ì‹œ ë°˜ì‘</strong>: ìƒˆë¡œìš´ ëª…ë ¹ì„ ë‚´ë¦¬ë©´ ë°”ë¡œ í–‰ë™ì„ ë°”ê¿”ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ì²´ê³„ì  ê´€ë¦¬</strong>: ëª¨ë“  ëª…ë ¹ì„ í•˜ë‚˜ì˜ ì‹œìŠ¤í…œìœ¼ë¡œ ê´€ë¦¬í•´ìš”</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ì§‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ì§‘ì—ì„œ "TV ì¼œì¤˜!", "ë¼ë””ì˜¤ êº¼ì¤˜!" ê°™ì€ ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” ê²ƒì²˜ëŸ¼, ê²Œì„ì—ì„œë„ ìœ ë‹›ì—ê²Œ ëª…ë ¹ì„ ë‚´ë ¤ìš”!</p>
                </div>

                <div class="lecture-goal">
                    <h3>ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="content-list">
                        <li>UnitCommands ì—´ê±°í˜• ìƒì„± ë° ì„¤ì •</li>
                        <li>Behavior Treeì—ì„œ Switch ë…¸ë“œ í™œìš©</li>
                        <li>StopAgentAction ì»¤ìŠ¤í…€ ë…¸ë“œ êµ¬í˜„</li>
                        <li>StopCommand ì•¡ì…˜ ë² ì´ìŠ¤ êµ¬í˜„</li>
                        <li>ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì‘í•˜ëŠ” ì‹œìŠ¤í…œ</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ¯ ëª…ë ¹ ì²´ê³„ ì„¤ê³„</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ</h4>
                        <ul class="content-list">
                            <li><strong>UnitCommands</strong>: ìœ ë‹› ëª…ë ¹ ì—´ê±°í˜• (Stop, Move)</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬</li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>StopAgentAction</strong>: ìœ ë‹› ì •ì§€ ì»¤ìŠ¤í…€ ë…¸ë“œ</li>
                            <li><strong>StopCommand</strong>: ì •ì§€ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”„ ëª…ë ¹ ì²˜ë¦¬ í”Œë¡œìš°</h4>
                        <ol class="content-list">
                            <li><strong>ëª…ë ¹ ì„¤ì •</strong>: Blackboardì— ëª…ë ¹ ê°’ ì„¤ì •</li>
                            <li><strong>Abort íŠ¸ë¦¬ê±°</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ í˜„ì¬ ì‹¤í–‰ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë¶„ê¸°</strong>: ëª…ë ¹ì— ë”°ë¼ ë‹¤ë¥¸ ë¸Œëœì¹˜ ì‹¤í–‰</li>
                            <li><strong>ì•¡ì…˜ ì‹¤í–‰</strong>: í•´ë‹¹ ëª…ë ¹ì˜ í–‰ë™ ìˆ˜í–‰</li>
                            <li><strong>ìƒíƒœ ê´€ë¦¬</strong>: ëª…ë ¹ ì™„ë£Œ ë˜ëŠ” ëŒ€ê¸°</li>
                        </ol>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ“ UnitCommands ì—´ê±°í˜•</h3>
                    
                    <div class="code-block">
<span class="comment">// UnitCommands.cs - ìœ ë‹› ëª…ë ¹ ì—´ê±°í˜•</span>
<span class="comment">// BlackboardEnum: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—´ê±°í˜•</span>

<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Units</span>
{
    <span class="comment">// BlackboardEnum: Unity Behavior Treeì˜ Blackboardì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// ì´ ì†ì„±ì´ ìˆìœ¼ë©´ Behavior Tree ì—ë””í„°ì—ì„œ ì´ ì—´ê±°í˜•ì„ ì„ íƒí•  ìˆ˜ ìˆìŒ</span>
    [<span class="class-name">BlackboardEnum</span>]
    
    <span class="comment">// UnitCommands: ìœ ë‹›ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ë“¤ì˜ ì—´ê±°í˜•</span>
    <span class="comment">// enum: ìƒìˆ˜ë“¤ì˜ ì§‘í•©ì„ ì •ì˜í•˜ëŠ” C# í‚¤ì›Œë“œ</span>
    <span class="keyword">public enum</span> <span class="class-name">UnitCommands</span>
    {
        <span class="comment">// Stop: ìœ ë‹›ì„ ì •ì§€ì‹œí‚¤ëŠ” ëª…ë ¹</span>
        <span class="comment">// ì²« ë²ˆì§¸ ê°’ì´ë¯€ë¡œ ê¸°ë³¸ê°’ì€ 0</span>
        <span class="property-name">Stop</span>,
        
        <span class="comment">// Move: ìœ ë‹›ì„ ì´ë™ì‹œí‚¤ëŠ” ëª…ë ¹</span>
        <span class="comment">// ë‘ ë²ˆì§¸ ê°’ì´ë¯€ë¡œ ê¸°ë³¸ê°’ì€ 1</span>
        <span class="property-name">Move</span>
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ›‘ StopAgentAction êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// StopAgentAction.cs - ìœ ë‹› ì •ì§€ ì•¡ì…˜ ë…¸ë“œ</span>
<span class="comment">// Unity Behavior Treeì˜ ì»¤ìŠ¤í…€ ì•¡ì…˜ ë…¸ë“œ</span>

<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine.AI</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸ (AgentëŠ” Blackboard ë³€ìˆ˜)</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(<span class="parameter">name</span>: <span class="string">"Stop Agent"</span>, <span class="parameter">story</span>: <span class="string">"[Agent] stops moving."</span>, <span class="parameter">category</span>: <span class="string">"Action/Navigation"</span>, <span class="parameter">id</span>: <span class="string">"b4af498b0656fc524515ec0b094c06a9"</span>)]
    
    <span class="comment">// StopAgentAction: ìœ ë‹›ì„ ì •ì§€ì‹œí‚¤ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">StopAgentAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Agent: ì •ì§€ì‹œí‚¬ ìœ ë‹›ì˜ GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// Agent.Value: Blackboardì—ì„œ ê°€ì ¸ì˜¨ GameObject</span>
            <span class="comment">// TryGetComponent: í•´ë‹¹ GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out agent: ê°€ì ¸ì˜¨ NavMeshAgentë¥¼ agent ë³€ìˆ˜ì— ì €ì¥</span>
            <span class="keyword">if</span> (<span class="property-name">Agent</span>.<span class="property-name">Value</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">NavMeshAgent</span> <span class="field-name">agent</span>))
            {
                <span class="comment">// ResetPath: NavMeshAgentì˜ í˜„ì¬ ê²½ë¡œë¥¼ ì´ˆê¸°í™”í•˜ê³  ì •ì§€</span>
                <span class="comment">// ì´ë™ ì¤‘ì´ë˜ ìœ ë‹›ì„ ì¦‰ì‹œ ì •ì§€ì‹œí‚´</span>
                <span class="field-name">agent</span>.<span class="method-name">ResetPath</span>();
                
                <span class="comment">// Success: ì•¡ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// Failure: NavMeshAgentë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ì„œ ì•¡ì…˜ ì‹¤íŒ¨</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Failure</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® StopCommand êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// StopCommand.cs - ì •ì§€ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</span>
<span class="comment">// ActionBase: ëª¨ë“  ëª…ë ¹ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>

<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Units</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Commands</span>
{
    <span class="comment">// CreateAssetMenu: Unity Editorì—ì„œ ì´ í´ë˜ìŠ¤ë¡œë¶€í„° ScriptableObjectë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•¨</span>
    <span class="comment">// fileName: ìƒì„±ë  íŒŒì¼ì˜ ê¸°ë³¸ ì´ë¦„</span>
    <span class="comment">// menuName: Unity Editor ë©”ë‰´ì—ì„œì˜ ê²½ë¡œ</span>
    <span class="comment">// order: ë©”ë‰´ì—ì„œì˜ ìˆœì„œ (ë‚®ì„ìˆ˜ë¡ ìœ„ì— í‘œì‹œ)</span>
    [<span class="class-name">CreateAssetMenu</span>(<span class="parameter">fileName</span> = <span class="string">"Stop Action"</span>, <span class="parameter">menuName</span> = <span class="string">"AI/Commands/Stop"</span>, <span class="parameter">order</span> = <span class="number">101</span>)]
    
    <span class="comment">// StopCommand: ìœ ë‹›ì„ ì •ì§€ì‹œí‚¤ëŠ” ëª…ë ¹</span>
    <span class="comment">// ActionBase: ëª¨ë“  ëª…ë ¹ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">StopCommand</span> : <span class="class-name">ActionBase</span>
    {
        <span class="comment">// CanHandle: ì´ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸</span>
        <span class="comment">// CommandContext: ëª…ë ¹ì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´</span>
        <span class="comment">// ë°˜í™˜ê°’: ì´ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©´ true, ì•„ë‹ˆë©´ false</span>
        <span class="keyword">public override bool</span> <span class="method-name">CanHandle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// context.Commandable: ëª…ë ¹ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ê°ì²´</span>
            <span class="comment">// AbstractUnit: ëª¨ë“  ìœ ë‹›ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
            <span class="comment">// is: íƒ€ì… í™•ì¸ ì—°ì‚°ì</span>
            <span class="keyword">return</span> <span class="field-name">context</span>.<span class="property-name">Commandable</span> <span class="keyword">is</span> <span class="class-name">AbstractUnit</span>;
        }

        <span class="comment">// Handle: ì‹¤ì œ ëª…ë ¹ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// CommandContext: ëª…ë ¹ì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´</span>
        <span class="keyword">public override void</span> <span class="method-name">Handle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// AbstractUnitìœ¼ë¡œ íƒ€ì… ìºìŠ¤íŒ…</span>
            <span class="comment">// CanHandleì—ì„œ ì´ë¯¸ AbstractUnitì¸ì§€ í™•ì¸í–ˆìœ¼ë¯€ë¡œ ì•ˆì „í•œ ìºìŠ¤íŒ…</span>
            <span class="class-name">AbstractUnit</span> <span class="field-name">unit</span> = (<span class="class-name">AbstractUnit</span>)<span class="field-name">context</span>.<span class="property-name">Commandable</span>;
            
            <span class="comment">// unit.Stop(): ìœ ë‹›ì˜ ì •ì§€ ë©”ì„œë“œ í˜¸ì¶œ</span>
            <span class="comment">// ì´ ë©”ì„œë“œëŠ” Blackboardì— Stop ëª…ë ¹ì„ ì„¤ì •í•¨</span>
            <span class="field-name">unit</span>.<span class="method-name">Stop</span>();
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”„ Behavior Tree êµ¬ì¡°</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“Š íŠ¸ë¦¬ êµ¬ì¡°</h4>
                        <ol class="content-list">
                            <li><strong>OnStart</strong>: íŠ¸ë¦¬ ì‹œì‘ì </li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸°</li>
                            <li><strong>Stop ë¸Œëœì¹˜</strong>: StopAgentAction ì‹¤í–‰</li>
                            <li><strong>Move ë¸Œëœì¹˜</strong>: MoveToTargetLocationAction ì‹¤í–‰</li>
                        </ol>
                    </div>

                    <div class="tech-stack">
                        <h4>âš¡ ì¦‰ì‹œ ë°˜ì‘ ì‹œìŠ¤í…œ</h4>
                        <ul class="content-list">
                            <li><strong>ëª…ë ¹ ë³€ê²½ ê°ì§€</strong>: Abort ë…¸ë“œê°€ ëª…ë ¹ ë³€ê²½ì„ ê°ì§€</li>
                            <li><strong>í˜„ì¬ ì‹¤í–‰ ì¤‘ë‹¨</strong>: ì§„í–‰ ì¤‘ì¸ ì•¡ì…˜ì„ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>ìƒˆ ëª…ë ¹ ì‹¤í–‰</strong>: ë³€ê²½ëœ ëª…ë ¹ì— ë”°ë¼ ìƒˆë¡œìš´ ì•¡ì…˜ ì‹œì‘</li>
                            <li><strong>ìƒíƒœ ì´ˆê¸°í™”</strong>: ì´ì „ ìƒíƒœë¥¼ ì •ë¦¬í•˜ê³  ìƒˆ ìƒíƒœë¡œ ì „í™˜</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>â“ ì™œ í•„ìš”í•œê°€?</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ê²Œì„ ê°œë°œ ê´€ì </h4>
                        <p><strong>ëª…ë ¹ ì²´ê³„</strong>: ìœ ë‹›ì˜ ë‹¤ì–‘í•œ í–‰ë™ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬</p>
                        <p><strong>ë°˜ì‘ì„±</strong>: í”Œë ˆì´ì–´ ëª…ë ¹ì— ì¦‰ì‹œ ë°˜ì‘í•˜ëŠ” ìœ ë‹›</p>
                        <p><strong>í™•ì¥ì„±</strong>: ìƒˆë¡œìš´ ìœ ë‹› ê¸°ëŠ¥ì„ ì‰½ê²Œ ì¶”ê°€</p>
                        <p><strong>ì¼ê´€ì„±</strong>: ëª¨ë“  ìœ ë‹›ì´ ë™ì¼í•œ ëª…ë ¹ ì²´ê³„ ì‚¬ìš©</p>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ ê¸°ìˆ ì  ì¥ì </h4>
                        <p><strong>ì—´ê±°í˜• í™œìš©</strong>: ëª…ë ¹ì„ íƒ€ì… ì•ˆì „í•˜ê²Œ ê´€ë¦¬</p>
                        <p><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬</p>
                        <p><strong>Abort ì‹œìŠ¤í…œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì‘</p>
                        <p><strong>ì»¤ìŠ¤í…€ ë…¸ë“œ</strong>: íŠ¹ì • ê¸°ëŠ¥ì„ ìœ„í•œ ì „ìš© ë…¸ë“œ</p>
                    </div>

                    <div class="tech-stack">
                        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                        <p><strong>ëª…ë ¹ ìˆœì„œ</strong>: Blackboard ê°’ ì„¤ì • í›„ ëª…ë ¹ ì„¤ì •</p>
                        <p><strong>ë„¤ì„ìŠ¤í˜ì´ìŠ¤</strong>: ì—´ê±°í˜• ìƒì„± í›„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì´ë™</p>
                        <p><strong>ë…¸ë“œ ì—°ê²°</strong>: Behavior Treeì—ì„œ ì˜¬ë°”ë¥¸ ì—°ê²° í™•ì¸</p>
                        <p><strong>ìƒíƒœ ê´€ë¦¬</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì´ì „ ìƒíƒœ ì •ë¦¬</p>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® ë…¸ë°”1492 ì ìš© í¬ì¸íŠ¸</h3>
                    <ul class="content-list">
                        <li><strong>ë‹¤ì–‘í•œ ëª…ë ¹</strong>: ì´ë™, ì •ì§€, ê³µê²©, ìˆ˜ì§‘, ê±´ì„¤ ë“±</li>
                        <li><strong>ëª…ë ¹ ìš°ì„ ìˆœìœ„</strong>: ê¸´ê¸‰ ëª…ë ¹ì´ ì¼ë°˜ ëª…ë ¹ë³´ë‹¤ ìš°ì„ </li>
                        <li><strong>ëª…ë ¹ ì·¨ì†Œ</strong>: ì§„í–‰ ì¤‘ì¸ ëª…ë ¹ì„ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥</li>
                        <li><strong>ëª…ë ¹ ëŒ€ê¸°ì—´</strong>: ì—¬ëŸ¬ ëª…ë ¹ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰</li>
                        <li><strong>ì¡°ê±´ë¶€ ëª…ë ¹</strong>: íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ”‘ í•µì‹¬ ê¸°ìˆ  ê°œë…</h3>
                    <ul class="content-list">
                        <li><strong>UnitCommands</strong>: ìœ ë‹› ëª…ë ¹ ì—´ê±°í˜•</li>
                        <li><strong>BlackboardEnum</strong>: Behavior Treeì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì—´ê±°í˜•</li>
                        <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬</li>
                        <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                        <li><strong>StopAgentAction</strong>: ìœ ë‹› ì •ì§€ ì»¤ìŠ¤í…€ ë…¸ë“œ</li>
                        <li><strong>StopCommand</strong>: ì •ì§€ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</li>
                        <li><strong>ResetPath</strong>: NavMeshAgent ê²½ë¡œ ì´ˆê¸°í™”</li>
                        <li><strong>TryGetComponent</strong>: ì•ˆì „í•œ ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°</li>
                    </ul>
                </div>
            </div>

            <!-- ê°•ì˜ 40: Gathering Supplies with Behavior Tree (Behavior Treeë¡œ ìì› ìˆ˜ì§‘) -->
            <div class="lecture-section" id="lecture-40">
                <h2 class="lecture-title">â›ï¸ ê°•ì˜ 40: Gathering Supplies with Behavior Tree (Behavior Treeë¡œ ìì› ìˆ˜ì§‘)</h2>
                
                <div class="tech-stack" style="margin-top: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                    <h4 style="color: #2c3e50; margin-top: 0;">ğŸ¯ ì´ë²ˆ ê°•ì˜ë¥¼ ì™œ í•´ì•¼ í•˜ëŠ”ê°€?</h4>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ìì› ìˆ˜ì§‘ êµ¬í˜„</strong>: <span style="color: #2c3e50;">Workerê°€ Behavior Treeë¥¼ ì‚¬ìš©í•´ì„œ ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ì‹œìŠ¤í…œ êµ¬í˜„</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ëª…ë ¹ í™•ì¥</strong>: <span style="color: #2c3e50;">ê¸°ì¡´ ëª…ë ¹ ì²´ê³„ì— Gather ëª…ë ¹ ì¶”ê°€</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ì»¤ìŠ¤í…€ ë…¸ë“œ</strong>: <span style="color: #2c3e50;">ìì› ìˆ˜ì§‘ì„ ìœ„í•œ ì „ìš© Behavior Tree ë…¸ë“œ ìƒì„±</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ë ˆì´ì–´ ì‹œìŠ¤í…œ</strong>: <span style="color: #2c3e50;">ìì›ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ë ˆì´ì–´ ì„¤ì •</span></p>
                </div>
                
                <div class="tech-stack" style="margin-top: 15px; background: #e8f5e8; border: 2px solid #28a745; border-radius: 8px;">
                    <h4 style="color: #155724; margin-top: 0;">ğŸ§’ ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h4>
                    <p style="margin: 8px 0; color: #155724;"><strong>â›ï¸ ìì› ìˆ˜ì§‘ì´ ë­ì•¼?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">Workerê°€ ë¯¸ë„¤ë„ì´ë‚˜ ê°€ìŠ¤ì— ê°€ì„œ ìºëŠ” ì‹œìŠ¤í…œì´ì—ìš”. ë§ˆì¹˜ ê´‘ë¶€ê°€ ê´‘ì‚°ì—ì„œ ê´‘ë¬¼ì„ ìºëŠ” ê²ƒê³¼ ê°™ì•„ìš”!</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ® ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ëª…ë ¹ ë‚´ë¦¬ê¸°</strong>: Workerì—ê²Œ "ìì› ìº!" ëª…ë ¹ì„ ë‚´ë ¤ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ì´ë™í•˜ê¸°</strong>: Workerê°€ ìì› ìœ„ì¹˜ë¡œ ì´ë™í•´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìˆ˜ì§‘í•˜ê¸°</strong>: ìì›ì„ ìºì„œ ê°€ì ¸ì™€ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ë°˜ë³µí•˜ê¸°</strong>: ìì›ì´ ë‚¨ì•„ìˆìœ¼ë©´ ê³„ì† ìºìš”</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ì§‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ì§‘ì—ì„œ "ì¥ë³´ê¸° ê°€!"ë¼ê³  í•˜ë©´ ê°€ê²Œì— ê°€ì„œ í•„ìš”í•œ ê²ƒë“¤ì„ ì‚¬ëŠ” ê²ƒì²˜ëŸ¼, ê²Œì„ì—ì„œë„ Workerê°€ ìì›ì„ ìºëŸ¬ ê°€ìš”!</p>
                </div>

                <div class="lecture-goal">
                    <h3>ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="content-list">
                        <li>UnitCommandsì— Gather ëª…ë ¹ ì¶”ê°€</li>
                        <li>GatherCommand ì•¡ì…˜ ë² ì´ìŠ¤ êµ¬í˜„</li>
                        <li>GatherSuppliesAction ì»¤ìŠ¤í…€ ë…¸ë“œ ìƒì„±</li>
                        <li>Worker í´ë˜ìŠ¤ì— Gather ë©”ì„œë“œ ì¶”ê°€</li>
                        <li>Supplies ë ˆì´ì–´ ì„¤ì • ë° ìƒí˜¸ì‘ìš© ì‹œìŠ¤í…œ</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>â›ï¸ ìì› ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì„¤ê³„</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ</h4>
                        <ul class="content-list">
                            <li><strong>Gather ëª…ë ¹</strong>: UnitCommands ì—´ê±°í˜•ì— ì¶”ê°€</li>
                            <li><strong>GatherCommand</strong>: ìì› ìˆ˜ì§‘ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</li>
                            <li><strong>GatherSuppliesAction</strong>: ìì› ìˆ˜ì§‘ Behavior Tree ë…¸ë“œ</li>
                            <li><strong>Worker.Gather()</strong>: Workerì˜ ìì› ìˆ˜ì§‘ ë©”ì„œë“œ</li>
                            <li><strong>Supplies ë ˆì´ì–´</strong>: ìì›ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ë ˆì´ì–´</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”„ ìì› ìˆ˜ì§‘ í”Œë¡œìš°</h4>
                        <ol class="content-list">
                            <li><strong>ëª…ë ¹ ë‚´ë¦¬ê¸°</strong>: Gather ë²„íŠ¼ í´ë¦­ í›„ ìì› í´ë¦­</li>
                            <li><strong>ì´ë™</strong>: Workerê°€ ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>ìˆ˜ì§‘ ì‹œì‘</strong>: BeginGather() í˜¸ì¶œ</li>
                            <li><strong>ìˆ˜ì§‘ ëŒ€ê¸°</strong>: BaseGatherTimeë§Œí¼ ëŒ€ê¸°</li>
                            <li><strong>ìˆ˜ì§‘ ì™„ë£Œ</strong>: EndGather() í˜¸ì¶œí•˜ì—¬ ìì› íšë“</li>
                            <li><strong>ë°˜ë³µ</strong>: ìì›ì´ ë‚¨ì•„ìˆìœ¼ë©´ ë‹¤ì‹œ ìˆ˜ì§‘</li>
                        </ol>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ“ GatherCommand êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// GatherCommand.cs - ìì› ìˆ˜ì§‘ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</span>
<span class="comment">// ActionBase: ëª¨ë“  ëª…ë ¹ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>

<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Environment</span>;
<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Units</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Commands</span>
{
    <span class="comment">// CreateAssetMenu: Unity Editorì—ì„œ ì´ í´ë˜ìŠ¤ë¡œë¶€í„° ScriptableObjectë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•¨</span>
    <span class="comment">// fileName: ìƒì„±ë  íŒŒì¼ì˜ ê¸°ë³¸ ì´ë¦„</span>
    <span class="comment">// menuName: Unity Editor ë©”ë‰´ì—ì„œì˜ ê²½ë¡œ</span>
    <span class="comment">// order: ë©”ë‰´ì—ì„œì˜ ìˆœì„œ (ë‚®ì„ìˆ˜ë¡ ìœ„ì— í‘œì‹œ)</span>
    [<span class="class-name">CreateAssetMenu</span>(<span class="parameter">fileName</span> = <span class="string">"Gather Action"</span>, <span class="parameter">menuName</span> = <span class="string">"AI/Commands/Gather"</span>, <span class="parameter">order</span> = <span class="number">105</span>)]
    
    <span class="comment">// GatherCommand: ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ëª…ë ¹</span>
    <span class="comment">// ActionBase: ëª¨ë“  ëª…ë ¹ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">GatherCommand</span> : <span class="class-name">ActionBase</span>
    {
        <span class="comment">// CanHandle: ì´ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸</span>
        <span class="comment">// CommandContext: ëª…ë ¹ì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´</span>
        <span class="comment">// ë°˜í™˜ê°’: ì´ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©´ true, ì•„ë‹ˆë©´ false</span>
        <span class="keyword">public override bool</span> <span class="method-name">CanHandle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// context.Commandable: ëª…ë ¹ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ê°ì²´</span>
            <span class="comment">// Worker: ìì›ì„ ìˆ˜ì§‘í•  ìˆ˜ ìˆëŠ” ìœ ë‹›</span>
            <span class="comment">// is: íƒ€ì… í™•ì¸ ì—°ì‚°ì</span>
            <span class="keyword">return</span> <span class="field-name">context</span>.<span class="property-name">Commandable</span> <span class="keyword">is</span> <span class="class-name">Worker</span> 
                <span class="comment">// context.Hit.collider: í´ë¦­í•œ ê°ì²´ì˜ Collider</span>
                <span class="comment">// nullì´ ì•„ë‹ˆì–´ì•¼ í•¨ (ë­”ê°€ë¥¼ í´ë¦­í–ˆëŠ”ì§€ í™•ì¸)</span>
                &amp;&amp; <span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span> != <span class="keyword">null</span> 
                <span class="comment">// TryGetComponent: í•´ë‹¹ ê°ì²´ì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
                <span class="comment">// out _: discard íŒ¨í„´, ê°’ì„ ë°›ì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ</span>
                &amp;&amp; <span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> <span class="keyword">_</span>);
        }

        <span class="comment">// Handle: ì‹¤ì œ ëª…ë ¹ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// CommandContext: ëª…ë ¹ì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´</span>
        <span class="keyword">public override void</span> <span class="method-name">Handle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// Workerë¡œ íƒ€ì… ìºìŠ¤íŒ…</span>
            <span class="comment">// CanHandleì—ì„œ ì´ë¯¸ Workerì¸ì§€ í™•ì¸í–ˆìœ¼ë¯€ë¡œ ì•ˆì „í•œ ìºìŠ¤íŒ…</span>
            <span class="class-name">Worker</span> <span class="field-name">worker</span> = <span class="field-name">context</span>.<span class="property-name">Commandable</span> <span class="keyword">as</span> <span class="class-name">Worker</span>;
            
            <span class="comment">// worker.Gather(): Workerì˜ ìì› ìˆ˜ì§‘ ë©”ì„œë“œ í˜¸ì¶œ</span>
            <span class="comment">// context.Hit.collider.GetComponent: í´ë¦­í•œ ê°ì²´ì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°</span>
            <span class="field-name">worker</span>.<span class="method-name">Gather</span>(<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>.<span class="method-name">GetComponent</span>&lt;<span class="class-name">GatherableSupply</span>&gt;());
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ—ï¸ GatherSuppliesAction êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// GatherSuppliesAction.cs - ìì› ìˆ˜ì§‘ ì•¡ì…˜ ë…¸ë“œ</span>
<span class="comment">// Unity Behavior Treeì˜ ì»¤ìŠ¤í…€ ì•¡ì…˜ ë…¸ë“œ</span>

<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Environment</span>;
<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (ìƒˆë¡œìš´ ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(<span class="parameter">name</span>: <span class="string">"Gather Supplies"</span>, <span class="parameter">story</span>: <span class="string">"[Unit] gathers [Amount] supplies from [GatherableSupplies] ."</span>, <span class="parameter">category</span>: <span class="string">"Action/Units"</span>, <span class="parameter">id</span>: <span class="string">"3b941d7ae99d1e36b7d806875379c977"</span>)]
    
    <span class="comment">// GatherSuppliesAction: ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">GatherSuppliesAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Unit: ìì›ì„ ìˆ˜ì§‘í•  ìœ ë‹›ì˜ GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Unit</span>;
        
        <span class="comment">// Amount: ìˆ˜ì§‘í•  ìì›ì˜ ì–‘</span>
        <span class="comment">// int: ì •ìˆ˜í˜• (ìì›ì€ ì •ìˆ˜ ë‹¨ìœ„ë¡œ ê´€ë¦¬)</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; <span class="property-name">Amount</span>;
        
        <span class="comment">// GatherableSupplies: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        <span class="comment">// GatherableSupply: ìˆ˜ì§‘ ê°€ëŠ¥í•œ ìì›ì˜ íƒ€ì…</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherableSupply</span>&gt; <span class="property-name">GatherableSupplies</span>;

        <span class="comment">// enterTime: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•œ ì‹œê°„</span>
        <span class="comment">// Time.timeê³¼ ë¹„êµí•˜ì—¬ ìˆ˜ì§‘ ì‹œê°„ì„ ê³„ì‚°</span>
        <span class="keyword">private float</span> <span class="field-name">enterTime</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// enterTimeì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì„¤ì •</span>
            <span class="comment">// Time.time: ê²Œì„ ì‹œì‘ í›„ ê²½ê³¼ëœ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)</span>
            <span class="field-name">enterTime</span> = <span class="class-name">Time</span>.<span class="property-name">time</span>;

            <span class="comment">// GatherableSupplies.Value: Blackboardì—ì„œ ê°€ì ¸ì˜¨ ìì› ê°ì²´</span>
            <span class="comment">// BeginGather(): ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ê³  Busy ìƒíƒœë¡œ ë³€ê²½</span>
            <span class="property-name">GatherableSupplies</span>.<span class="property-name">Value</span>.<span class="method-name">BeginGather</span>();
            
            <span class="comment">// Running: ì•„ì§ ìˆ˜ì§‘ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }

        <span class="comment">// OnUpdate: ì•¡ì…˜ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnUpdate</span>()
        {
            <span class="comment">// ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸</span>
            <span class="comment">// GatherableSupplies.Value.Supply.BaseGatherTime: ìì›ì˜ ê¸°ë³¸ ìˆ˜ì§‘ ì‹œê°„</span>
            <span class="comment">// enterTime: ìˆ˜ì§‘ì„ ì‹œì‘í•œ ì‹œê°„</span>
            <span class="comment">// Time.time: í˜„ì¬ ì‹œê°„</span>
            <span class="comment">// ìˆ˜ì§‘ ì‹œê°„ + ì‹œì‘ ì‹œê°„ì´ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´ ìˆ˜ì§‘ ì™„ë£Œ</span>
            <span class="keyword">if</span> (<span class="property-name">GatherableSupplies</span>.<span class="property-name">Value</span>.<span class="property-name">Supply</span>.<span class="property-name">BaseGatherTime</span> + <span class="field-name">enterTime</span> &lt;= <span class="class-name">Time</span>.<span class="property-name">time</span>)
            {
                <span class="comment">// ìˆ˜ì§‘ ì™„ë£Œ</span>
                <span class="comment">// EndGather(): ìˆ˜ì§‘ì„ ì™„ë£Œí•˜ê³  ì‹¤ì œ ìˆ˜ì§‘ëœ ì–‘ì„ ë°˜í™˜</span>
                <span class="comment">// Busy ìƒíƒœë¥¼ falseë¡œ ë³€ê²½í•˜ê³  ìì›ì—ì„œ ìˆ˜ì§‘í•œ ì–‘ë§Œí¼ ì°¨ê°</span>
                <span class="keyword">int</span> <span class="field-name">amountGathered</span> = <span class="property-name">GatherableSupplies</span>.<span class="property-name">Value</span>.<span class="method-name">EndGather</span>();
                
                <span class="comment">// Success: ìˆ˜ì§‘ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// Running: ì•„ì§ ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”§ Worker í´ë˜ìŠ¤ í™•ì¥</h3>
                    
                    <div class="code-block">
<span class="comment">// Worker.cs - Worker í´ë˜ìŠ¤ì— Gather ë©”ì„œë“œ ì¶”ê°€</span>
<span class="comment">// AbstractUnitì„ ìƒì†ë°›ì•„ Workerë§Œì˜ íŠ¹ë³„í•œ ê¸°ëŠ¥ ì¶”ê°€</span>

<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Environment</span>;
<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Units</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Units</span>
{
    <span class="comment">// Worker: ìì›ì„ ìˆ˜ì§‘í•  ìˆ˜ ìˆëŠ” ìœ ë‹›</span>
    <span class="comment">// AbstractUnit: ëª¨ë“  ìœ ë‹›ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">Worker</span> : <span class="class-name">AbstractUnit</span>
    {
        <span class="comment">// Gather: ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// GatherableSupply: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        <span class="keyword">public void</span> <span class="method-name">Gather</span>(<span class="class-name">GatherableSupply</span> <span class="field-name">supply</span>)
        {
            <span class="comment">// Blackboardì— ìì› ì •ë³´ ì„¤ì •</span>
            <span class="comment">// graphAgent: AbstractUnitì—ì„œ ìƒì†ë°›ì€ BehaviorGraphAgent</span>
            <span class="comment">// SetVariableValue: Blackboardì— ë³€ìˆ˜ ê°’ ì„¤ì •</span>
            
            <span class="comment">// Supply: ìˆ˜ì§‘í•  ìì› ê°ì²´ë¥¼ Blackboardì— ì„¤ì •</span>
            <span class="comment">// "Supply": Blackboard ë³€ìˆ˜ ì´ë¦„ (ëŒ€ì†Œë¬¸ì ì¤‘ìš”)</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Supply"</span>, <span class="field-name">supply</span>);
            
            <span class="comment">// TargetLocation: ìì›ì˜ ìœ„ì¹˜ë¥¼ ëª©í‘œ ìœ„ì¹˜ë¡œ ì„¤ì •</span>
            <span class="comment">// supply.transform.position: ìì›ì˜ í˜„ì¬ ìœ„ì¹˜</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"TargetLocation"</span>, <span class="field-name">supply</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>);
            
            <span class="comment">// Command: ëª…ë ¹ì„ Gatherë¡œ ì„¤ì •</span>
            <span class="comment">// UnitCommands.Gather: ìˆ˜ì§‘ ëª…ë ¹</span>
            <span class="comment">// ì´ ëª…ë ¹ ì„¤ì •ì´ Behavior Treeë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ìˆ˜ì§‘ í–‰ë™ ì‹œì‘</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.<span class="property-name">Gather</span>);
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® Behavior Tree êµ¬ì¡°</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“Š ìˆ˜ì§‘ íŠ¸ë¦¬ êµ¬ì¡°</h4>
                        <ol class="content-list">
                            <li><strong>OnStart</strong>: íŠ¸ë¦¬ ì‹œì‘ì </li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸°</li>
                            <li><strong>Gather ë¸Œëœì¹˜</strong>: ìì› ìˆ˜ì§‘ ë¡œì§</li>
                            <li><strong>Sequence</strong>: ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë…¸ë“œë“¤</li>
                            <li><strong>MoveToTargetLocation</strong>: ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>GatherSupplies</strong>: ìì› ìˆ˜ì§‘ ì‹¤í–‰</li>
                        </ol>
                    </div>

                    <div class="tech-stack">
                        <h4>âš¡ ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤</h4>
                        <ul class="content-list">
                            <li><strong>ì´ë™ ë‹¨ê³„</strong>: Workerê°€ ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>ìˆ˜ì§‘ ì‹œì‘</strong>: BeginGather() í˜¸ì¶œí•˜ì—¬ Busy ìƒíƒœ ì„¤ì •</li>
                            <li><strong>ìˆ˜ì§‘ ëŒ€ê¸°</strong>: BaseGatherTimeë§Œí¼ ëŒ€ê¸°</li>
                            <li><strong>ìˆ˜ì§‘ ì™„ë£Œ</strong>: EndGather() í˜¸ì¶œí•˜ì—¬ ìì› íšë“</li>
                            <li><strong>ìƒíƒœ ì •ë¦¬</strong>: Busy ìƒíƒœ í•´ì œ ë° ìì› ì°¨ê°</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ¯ ë ˆì´ì–´ ì‹œìŠ¤í…œ</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“‹ ë ˆì´ì–´ ì„¤ì •</h4>
                        <ul class="content-list">
                            <li><strong>Supplies ë ˆì´ì–´</strong>: ìì› ì „ìš© ë ˆì´ì–´ ìƒì„±</li>
                            <li><strong>Interactable Layers</strong>: ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ë ˆì´ì–´ë“¤</li>
                            <li><strong>Layer Collision Matrix</strong>: ë ˆì´ì–´ ê°„ ì¶©ëŒ ì„¤ì •</li>
                            <li><strong>PlayerInput ì—…ë°ì´íŠ¸</strong>: ìì›ê³¼ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ PlayerInput ìˆ˜ì •</h4>
                        <ul class="content-list">
                            <li><strong>Interactable Layers</strong>: Units, Buildings, Supplies</li>
                            <li><strong>Layer Mask ì¡°í•©</strong>: Interactable | Floor Layers</li>
                            <li><strong>CanHandle ì²´í¬</strong>: ëª…ë ¹ ì²˜ë¦¬ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸</li>
                            <li><strong>ì•ˆì „í•œ ëª…ë ¹ ì‹¤í–‰</strong>: ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ëª…ë ¹ ë°©ì§€</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>â“ ì™œ í•„ìš”í•œê°€?</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ê²Œì„ ê°œë°œ ê´€ì </h4>
                        <p><strong>ê²½ì œ ì‹œìŠ¤í…œ</strong>: RTS ê²Œì„ì˜ í•µì‹¬ì¸ ìì› ìˆ˜ì§‘ ë©”ì»¤ë‹ˆì¦˜</p>
                        <p><strong>ìë™í™”</strong>: Workerê°€ ì§€ëŠ¥ì ìœ¼ë¡œ ìì›ì„ ìˆ˜ì§‘</p>
                        <p><strong>í™•ì¥ì„±</strong>: ë‹¤ì–‘í•œ ìì› íƒ€ì…ì„ ì‰½ê²Œ ì¶”ê°€</p>
                        <p><strong>ì¼ê´€ì„±</strong>: ëª¨ë“  ìˆ˜ì§‘ í–‰ë™ì´ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ë™ì‘</p>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ ê¸°ìˆ ì  ì¥ì </h4>
                        <p><strong>Behavior Tree í™œìš©</strong>: ì‹œê°ì ì´ê³  ì§ê´€ì ì¸ AI ë¡œì§</p>
                        <p><strong>ì»¤ìŠ¤í…€ ë…¸ë“œ</strong>: íŠ¹ì • ê¸°ëŠ¥ì„ ìœ„í•œ ì „ìš© ë…¸ë“œ</p>
                        <p><strong>ì‹œê°„ ê¸°ë°˜ ë¡œì§</strong>: Time.timeì„ ì‚¬ìš©í•œ ì •í™•í•œ íƒ€ì´ë°</p>
                        <p><strong>ë ˆì´ì–´ ì‹œìŠ¤í…œ</strong>: ì²´ê³„ì ì¸ ìƒí˜¸ì‘ìš© ê´€ë¦¬</p>
                    </div>

                    <div class="tech-stack">
                        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                        <p><strong>Blackboard ë³€ìˆ˜ëª…</strong>: ëŒ€ì†Œë¬¸ìì™€ ì •í™•í•œ ì´ë¦„ ì‚¬ìš©</p>
                        <p><strong>ë ˆì´ì–´ ì„¤ì •</strong>: ìì›ì„ ì˜¬ë°”ë¥¸ ë ˆì´ì–´ì— ë°°ì¹˜</p>
                        <p><strong>ì‹œê°„ ê³„ì‚°</strong>: enterTimeê³¼ í˜„ì¬ ì‹œê°„ì˜ ì •í™•í•œ ë¹„êµ</p>
                        <p><strong>ìƒíƒœ ê´€ë¦¬</strong>: BeginGatherì™€ EndGatherì˜ ì˜¬ë°”ë¥¸ í˜¸ì¶œ</p>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® ë…¸ë°”1492 ì ìš© í¬ì¸íŠ¸</h3>
                    <ul class="content-list">
                        <li><strong>ë‹¤ì–‘í•œ ìì›</strong>: ë¯¸ë„¤ë„, ê°€ìŠ¤, ì—ë„ˆì§€, ê¸ˆì† ë“±</li>
                        <li><strong>ìì› ë“±ê¸‰</strong>: ì¼ë°˜, í¬ê·€, ì „ì„¤ ë“±ê¸‰ì˜ ìì›</li>
                        <li><strong>ìˆ˜ì§‘ íš¨ìœ¨</strong>: Worker ë ˆë²¨ì— ë”°ë¥¸ ìˆ˜ì§‘ ì†ë„ ì°¨ì´</li>
                        <li><strong>ìì› ë³´í˜¸</strong>: ì¤‘ìš”í•œ ìì›ì„ ë³´í˜¸í•˜ëŠ” ë°©ì–´ ì‹œì„¤</li>
                        <li><strong>ìë™ ìˆ˜ì§‘</strong>: Workerê°€ ì•Œì•„ì„œ ê°€ì¥ ê°€ê¹Œìš´ ìì› ì°¾ê¸°</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ”‘ í•µì‹¬ ê¸°ìˆ  ê°œë…</h3>
                    <ul class="content-list">
                        <li><strong>GatherCommand</strong>: ìì› ìˆ˜ì§‘ ëª…ë ¹ ì•¡ì…˜ ë² ì´ìŠ¤</li>
                        <li><strong>GatherSuppliesAction</strong>: ìì› ìˆ˜ì§‘ ì»¤ìŠ¤í…€ ë…¸ë“œ</li>
                        <li><strong>Worker.Gather()</strong>: Workerì˜ ìì› ìˆ˜ì§‘ ë©”ì„œë“œ</li>
                        <li><strong>Time.time</strong>: ê²Œì„ ì‹œê°„ ê¸°ë°˜ íƒ€ì´ë°</li>
                        <li><strong>BeginGather/EndGather</strong>: ìì› ìˆ˜ì§‘ ìƒíƒœ ê´€ë¦¬</li>
                        <li><strong>Supplies ë ˆì´ì–´</strong>: ìì› ì „ìš© ë ˆì´ì–´</li>
                        <li><strong>Interactable Layers</strong>: ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ë ˆì´ì–´</li>
                        <li><strong>Sequence ë…¸ë“œ</strong>: ìˆœì°¨ì  ì‹¤í–‰ì„ ìœ„í•œ ë…¸ë“œ</li>
                    </ul>
                </div>
            </div>

            <!-- ê°•ì˜ 41: Return Supplies to Command Post (ìì›ì„ Command Postë¡œ ë°˜í™˜) -->
            <div class="lecture-section" id="lecture-41">
                <h2 class="lecture-title">ğŸ  ê°•ì˜ 41: Return Supplies to Command Post (ìì›ì„ Command Postë¡œ ë°˜í™˜)</h2>
                
                <div class="tech-stack" style="margin-top: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                    <h4 style="color: #2c3e50; margin-top: 0;">ğŸ¯ ì´ë²ˆ ê°•ì˜ë¥¼ ì™œ í•´ì•¼ í•˜ëŠ”ê°€?</h4>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ìì› ë°˜í™˜ ì‹œìŠ¤í…œ</strong>: <span style="color: #2c3e50;">Workerê°€ ìˆ˜ì§‘í•œ ìì›ì„ ê°€ì¥ ê°€ê¹Œìš´ Command Postë¡œ ë°˜í™˜í•˜ëŠ” ì‹œìŠ¤í…œ êµ¬í˜„</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ì™„ì „í•œ ìˆ˜ì§‘ ì‚¬ì´í´</strong>: <span style="color: #2c3e50;">ìì› ìˆ˜ì§‘ â†’ ë°˜í™˜ì˜ ì™„ì „í•œ ì‚¬ì´í´ ì™„ì„±</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">AI íƒìƒ‰ ì‹œìŠ¤í…œ</strong>: <span style="color: #2c3e50;">Physics.OverlapSphereë¥¼ ì‚¬ìš©í•œ ê°€ì¥ ê°€ê¹Œìš´ ê±´ë¬¼ ì°¾ê¸°</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ì»¤ìŠ¤í…€ ë…¸ë“œ í™•ì¥</strong>: <span style="color: #2c3e50;">FindClosestCommandPostì™€ MoveToTargetGameObject ë…¸ë“œ ì¶”ê°€</span></p>
                </div>
                
                <div class="tech-stack" style="margin-top: 15px; background: #e8f5e8; border: 2px solid #28a745; border-radius: 8px;">
                    <h4 style="color: #155724; margin-top: 0;">ğŸ§’ ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h4>
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ìì› ë°˜í™˜ì´ ë­ì•¼?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">Workerê°€ ë¯¸ë„¤ë„ì„ ìºì„œ ì§‘(Command Post)ìœ¼ë¡œ ê°€ì ¸ê°€ëŠ” ì‹œìŠ¤í…œì´ì—ìš”. ë§ˆì¹˜ ì¥ë³´ê¸°ì—ì„œ ì‚¬ì˜¨ ê²ƒë“¤ì„ ì§‘ì— ê°€ì ¸ê°€ëŠ” ê²ƒê³¼ ê°™ì•„ìš”!</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ® ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìì› ìˆ˜ì§‘</strong>: Workerê°€ ë¯¸ë„¤ë„ì„ ìºìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ê°€ê¹Œìš´ ì§‘ ì°¾ê¸°</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Postë¥¼ ì°¾ì•„ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ì§‘ìœ¼ë¡œ ì´ë™</strong>: Command Postë¡œ ì´ë™í•´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìì› ë°˜í™˜</strong>: ìˆ˜ì§‘í•œ ìì›ì„ Command Postì— ë„£ì–´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ë°˜ë³µ</strong>: ë‹¤ì‹œ ìì›ì„ ìºëŸ¬ ê°€ìš”</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ì§‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ì¥ë³´ê¸°ì—ì„œ ì‚¬ì˜¨ ê²ƒë“¤ì„ ì§‘ì— ê°€ì ¸ê°€ì„œ ëƒ‰ì¥ê³ ì— ë„£ëŠ” ê²ƒì²˜ëŸ¼, ê²Œì„ì—ì„œë„ Workerê°€ ìº” ìì›ì„ Command Postì— ì €ì¥í•´ìš”!</p>
                </div>

                <div class="lecture-goal">
                    <h3>ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="content-list">
                        <li>GatherSuppliesActionì—ì„œ ìˆ˜ì§‘ëŸ‰ì„ Blackboardì— ì €ì¥</li>
                        <li>FindClosestCommandPostAction ì»¤ìŠ¤í…€ ë…¸ë“œ êµ¬í˜„</li>
                        <li>MoveToTargetGameObjectAction ì»¤ìŠ¤í…€ ë…¸ë“œ êµ¬í˜„</li>
                        <li>Behavior Treeì— ìì› ë°˜í™˜ ì‹œí€€ìŠ¤ ì¶”ê°€</li>
                        <li>Physics.OverlapSphereë¥¼ ì‚¬ìš©í•œ ê±´ë¬¼ íƒìƒ‰</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ  ìì› ë°˜í™˜ ì‹œìŠ¤í…œ ì„¤ê³„</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ</h4>
                        <ul class="content-list">
                            <li><strong>SupplyAmountHeld</strong>: ìˆ˜ì§‘í•œ ìì›ëŸ‰ì„ ì €ì¥í•˜ëŠ” Blackboard ë³€ìˆ˜</li>
                            <li><strong>FindClosestCommandPostAction</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
                            <li><strong>MoveToTargetGameObjectAction</strong>: GameObjectë¡œ ì´ë™í•˜ëŠ” ë…¸ë“œ</li>
                            <li><strong>CommandPost</strong>: ì°¾ì€ Command Postë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜</li>
                            <li><strong>SearchRadius</strong>: íƒìƒ‰ ë°˜ê²½ ì„¤ì •</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”„ ìì› ë°˜í™˜ í”Œë¡œìš°</h4>
                        <ol class="content-list">
                            <li><strong>ìì› ìˆ˜ì§‘</strong>: GatherSuppliesActionì—ì„œ ìì› ìˆ˜ì§‘</li>
                            <li><strong>ìˆ˜ì§‘ëŸ‰ ì €ì¥</strong>: SupplyAmountHeldì— ìˆ˜ì§‘ëŸ‰ ì €ì¥</li>
                            <li><strong>Command Post ì°¾ê¸°</strong>: FindClosestCommandPostAction ì‹¤í–‰</li>
                            <li><strong>Command Postë¡œ ì´ë™</strong>: MoveToTargetGameObjectAction ì‹¤í–‰</li>
                            <li><strong>ìì› ë°˜í™˜</strong>: Command Postì— ìì› ì „ë‹¬ (ë‹¤ìŒ ê°•ì˜)</li>
                            <li><strong>ë°˜ë³µ</strong>: ë‹¤ì‹œ ìì› ìˆ˜ì§‘ìœ¼ë¡œ ëŒì•„ê°</li>
                        </ol>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ“ GatherSuppliesAction ìˆ˜ì •</h3>
                    
                    <div class="code-block">
<span class="comment">// GatherSuppliesAction.cs - ìˆ˜ì§‘ëŸ‰ì„ Blackboardì— ì €ì¥í•˜ë„ë¡ ìˆ˜ì •</span>
<span class="comment">// OnUpdate ë©”ì„œë“œì—ì„œ ìˆ˜ì§‘ ì™„ë£Œ ì‹œ ìˆ˜ì§‘ëŸ‰ì„ Blackboardì— ì €ì¥</span>

<span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnUpdate</span>()
{
    <span class="comment">// ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸</span>
    <span class="keyword">if</span> (<span class="property-name">GatherableSupplies</span>.<span class="property-name">Value</span>.<span class="property-name">Supply</span>.<span class="property-name">BaseGatherTime</span> + <span class="field-name">enterTime</span> &lt;= <span class="class-name">Time</span>.<span class="property-name">time</span>)
    {
        <span class="comment">// ìˆ˜ì§‘ ì™„ë£Œ</span>
        <span class="comment">// EndGather(): ìˆ˜ì§‘ì„ ì™„ë£Œí•˜ê³  ì‹¤ì œ ìˆ˜ì§‘ëœ ì–‘ì„ ë°˜í™˜</span>
        <span class="comment">// Busy ìƒíƒœë¥¼ falseë¡œ ë³€ê²½í•˜ê³  ìì›ì—ì„œ ìˆ˜ì§‘í•œ ì–‘ë§Œí¼ ì°¨ê°</span>
        <span class="keyword">int</span> <span class="field-name">amountGathered</span> = <span class="property-name">GatherableSupplies</span>.<span class="property-name">Value</span>.<span class="method-name">EndGather</span>();
        
        <span class="comment">// ìˆ˜ì§‘ëŸ‰ì„ Blackboardì— ì €ì¥</span>
        <span class="comment">// Amount: Blackboardì˜ SupplyAmountHeld ë³€ìˆ˜</span>
        <span class="comment">// ì´ ê°’ì€ ë‹¤ìŒ ì•¡ì…˜ì—ì„œ ì‚¬ìš©ë¨</span>
        <span class="property-name">Amount</span>.<span class="property-name">Value</span> = <span class="field-name">amountGathered</span>;
        
        <span class="comment">// Success: ìˆ˜ì§‘ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨</span>
        <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
    }

    <span class="comment">// Running: ì•„ì§ ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
    <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ” FindClosestCommandPostAction êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// FindClosestCommandPostAction.cs - ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</span>
<span class="comment">// Physics.OverlapSphereë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ë³€ ê±´ë¬¼ íƒìƒ‰</span>

<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;
<span class="keyword">using</span> <span class="class-name">System.Collections.Generic</span>;
<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Units</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (Action/Units)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(<span class="parameter">name</span>: <span class="string">"Find Closest Command Post"</span>, <span class="parameter">story</span>: <span class="string">"[Unit] finds nearest [CommandPost] ."</span>, <span class="parameter">category</span>: <span class="string">"Action/Units"</span>, <span class="parameter">id</span>: <span class="string">"df019f9861776b3b31754a035175faf5"</span>)]
    
    <span class="comment">// FindClosestCommandPostAction: ê°€ì¥ ê°€ê¹Œìš´ Command Postë¥¼ ì°¾ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">FindClosestCommandPostAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Unit: Command Postë¥¼ ì°¾ì„ ìœ ë‹›ì˜ GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Unit</span>;
        
        <span class="comment">// CommandPost: ì°¾ì€ Command Postë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
        <span class="comment">// GameObject: Command Postì˜ GameObject</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">CommandPost</span>;
        
        <span class="comment">// SearchRadius: íƒìƒ‰ ë°˜ê²½</span>
        <span class="comment">// float: ì‹¤ìˆ˜í˜• (íƒìƒ‰ ë°˜ê²½ì€ ë¯¸í„° ë‹¨ìœ„)</span>
        <span class="comment">// new(10): ê¸°ë³¸ê°’ 10ìœ¼ë¡œ ì´ˆê¸°í™”</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">float</span>&gt; <span class="property-name">SearchRadius</span> = <span class="keyword">new</span>(<span class="number">10</span>);
        
        <span class="comment">// CommandPostBuilding: Command Postì˜ UnitSO</span>
        <span class="comment">// UnitSO: ê±´ë¬¼ì˜ ScriptableObject</span>
        <span class="comment">// ì´ ê°’ì„ ì‚¬ìš©í•˜ì—¬ Command Postì¸ì§€ í™•ì¸</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">UnitSO</span>&gt; <span class="property-name">CommandPostBuilding</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// Physics.OverlapSphere: êµ¬ì²´ ëª¨ì–‘ì˜ ì˜ì—­ì—ì„œ Colliderë“¤ì„ ì°¾ìŒ</span>
            <span class="comment">// Unit.Value.transform.position: ìœ ë‹›ì˜ í˜„ì¬ ìœ„ì¹˜</span>
            <span class="comment">// SearchRadius.Value: íƒìƒ‰ ë°˜ê²½</span>
            <span class="comment">// LayerMask.GetMask("Buildings"): Buildings ë ˆì´ì–´ë§Œ ê²€ì‚¬</span>
            <span class="comment">// ë°˜í™˜ê°’: í•´ë‹¹ ì˜ì—­ì— ìˆëŠ” ëª¨ë“  Collider ë°°ì—´</span>
            <span class="class-name">Collider</span>[] <span class="field-name">colliders</span> = <span class="class-name">Physics</span>.<span class="method-name">OverlapSphere</span>(
                <span class="property-name">Unit</span>.<span class="property-name">Value</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>, 
                <span class="property-name">SearchRadius</span>.<span class="property-name">Value</span>, 
                <span class="class-name">LayerMask</span>.<span class="method-name">GetMask</span>(<span class="string">"Buildings"</span>));

            <span class="comment">// nearbyCommandPosts: ì£¼ë³€ì˜ Command Postë“¤ì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸</span>
            <span class="comment">// List&lt;BaseBuilding&gt;: BaseBuilding íƒ€ì…ì˜ ë¦¬ìŠ¤íŠ¸</span>
            <span class="comment">// new(): ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”</span>
            <span class="class-name">List</span>&lt;<span class="class-name">BaseBuilding</span>&gt; <span class="field-name">nearbyCommandPosts</span> = <span class="keyword">new</span>();

            <span class="comment">// foreach: ë°°ì—´ì˜ ê° ìš”ì†Œë¥¼ ìˆœíšŒ</span>
            <span class="comment">// collider: í˜„ì¬ ê²€ì‚¬ ì¤‘ì¸ Collider</span>
            <span class="keyword">foreach</span>(<span class="class-name">Collider</span> <span class="field-name">collider</span> <span class="keyword">in</span> <span class="field-name">colliders</span>)
            {
                <span class="comment">// TryGetComponent: í•´ë‹¹ GameObjectì—ì„œ BaseBuilding ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
                <span class="comment">// out building: ê°€ì ¸ì˜¨ BaseBuildingì„ ì €ì¥í•  ë³€ìˆ˜</span>
                <span class="comment">// building.UnitSO.Equals: ê±´ë¬¼ì˜ UnitSOê°€ Command Postì¸ì§€ í™•ì¸</span>
                <span class="comment">// CommandPostBuilding.Value: Blackboardì—ì„œ ê°€ì ¸ì˜¨ Command Postì˜ UnitSO</span>
                <span class="keyword">if</span> (<span class="field-name">collider</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">BaseBuilding</span> <span class="field-name">building</span>) 
                        &amp;&amp; <span class="field-name">building</span>.<span class="property-name">UnitSO</span>.<span class="method-name">Equals</span>(<span class="property-name">CommandPostBuilding</span>.<span class="property-name">Value</span>))
                {
                    <span class="comment">// Command Postì¸ ê²½ìš° ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€</span>
                    <span class="field-name">nearbyCommandPosts</span>.<span class="method-name">Add</span>(<span class="field-name">building</span>);
                }
            }

            <span class="comment">// ì£¼ë³€ì— Command Postê°€ ì—†ëŠ” ê²½ìš°</span>
            <span class="keyword">if</span> (<span class="field-name">nearbyCommandPosts</span>.<span class="property-name">Count</span> == <span class="number">0</span>)
            {
                <span class="comment">// Failure: Command Postë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Failure</span>;
            }

            <span class="comment">// Command Postë¥¼ ì°¾ì€ ê²½ìš°</span>
            <span class="comment">// CommandPost.Value: Blackboardì˜ CommandPost ë³€ìˆ˜ì— ì €ì¥</span>
            <span class="comment">// nearbyCommandPosts[0].gameObject: ì²« ë²ˆì§¸ Command Postì˜ GameObject</span>
            <span class="comment">// í˜„ì¬ëŠ” ê°€ì¥ ê°€ê¹Œìš´ ê²ƒì´ ì•„ë‹Œ ì²« ë²ˆì§¸ ê²ƒì„ ì„ íƒ (ë‹¨ìˆœí™”)</span>
            <span class="property-name">CommandPost</span>.<span class="property-name">Value</span> = <span class="field-name">nearbyCommandPosts</span>[<span class="number">0</span>].<span class="property-name">gameObject</span>;

            <span class="comment">// Success: Command Postë¥¼ ì„±ê³µì ìœ¼ë¡œ ì°¾ìŒ</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸš¶ MoveToTargetGameObjectAction êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// MoveToTargetGameObjectAction.cs - GameObjectë¡œ ì´ë™í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
<span class="comment">// MoveToTargetLocationActionê³¼ ìœ ì‚¬í•˜ì§€ë§Œ GameObjectì˜ ìœ„ì¹˜ë¡œ ì´ë™</span>

<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine.AI</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (Action/Navigation)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(<span class="parameter">name</span>: <span class="string">"Move to Target GameObject"</span>, <span class="parameter">story</span>: <span class="string">"[Agent] moves to [TargetGameObject] ."</span>, <span class="parameter">category</span>: <span class="string">"Action/Navigation"</span>, <span class="parameter">id</span>: <span class="string">"f07a8fab1fc459315f3380eef35b2aa0"</span>)]
    
    <span class="comment">// MoveToTargetGameObjectAction: GameObjectë¡œ ì´ë™í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">MoveToTargetGameObjectAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Agent: ì´ë™í•  ìœ ë‹›ì˜ GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;
        
        <span class="comment">// TargetGameObject: ì´ë™í•  ëª©í‘œ GameObject</span>
        <span class="comment">// GameObject: ëª©í‘œê°€ ë˜ëŠ” GameObject</span>
        [<span class="class-name">SerializeReference</span>] <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">TargetGameObject</span>;

        <span class="comment">// agent: NavMeshAgent ì»´í¬ë„ŒíŠ¸</span>
        <span class="comment">// private: ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ</span>
        <span class="keyword">private</span> <span class="class-name">NavMeshAgent</span> <span class="field-name">agent</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out agent: ê°€ì ¸ì˜¨ NavMeshAgentë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="comment">// !: ë…¼ë¦¬ ë¶€ì • ì—°ì‚°ì (ì‹¤íŒ¨ ì‹œ true)</span>
            <span class="keyword">if</span> (!<span class="property-name">Agent</span>.<span class="property-name">Value</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="field-name">agent</span>))
            {
                <span class="comment">// Failure: NavMeshAgentê°€ ì—†ìœ¼ë©´ ì‹¤íŒ¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Failure</span>;
            }

            <span class="comment">// targetPosition: ëª©í‘œ GameObjectì˜ ìœ„ì¹˜</span>
            <span class="comment">// TargetGameObject.Value.transform.position: ëª©í‘œ GameObjectì˜ í˜„ì¬ ìœ„ì¹˜</span>
            <span class="class-name">Vector3</span> <span class="field-name">targetPosition</span> = <span class="property-name">TargetGameObject</span>.<span class="property-name">Value</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>;
            
            <span class="comment">// Vector3.Distance: ë‘ ì  ì‚¬ì´ì˜ ê±°ë¦¬ ê³„ì‚°</span>
            <span class="comment">// agent.transform.position: í˜„ì¬ ìœ„ì¹˜</span>
            <span class="comment">// targetPosition: ëª©í‘œ ìœ„ì¹˜</span>
            <span class="comment">// agent.stoppingDistance: ì •ì§€ ê±°ë¦¬</span>
            <span class="comment">// ì´ë¯¸ ëª©í‘œì— ê°€ê¹Œì´ ìˆìœ¼ë©´ ì„±ê³µ</span>
            <span class="keyword">if</span> (<span class="class-name">Vector3</span>.<span class="method-name">Distance</span>(<span class="field-name">agent</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>, <span class="field-name">targetPosition</span>) &lt;= <span class="field-name">agent</span>.<span class="property-name">stoppingDistance</span>)
            {
                <span class="comment">// Success: ì´ë¯¸ ëª©í‘œì— ë„ë‹¬í•¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// SetDestination: NavMeshAgentì—ê²Œ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •</span>
            <span class="comment">// targetPosition: ì´ë™í•  ëª©í‘œ ìœ„ì¹˜</span>
            <span class="field-name">agent</span>.<span class="method-name">SetDestination</span>(<span class="field-name">targetPosition</span>);
            
            <span class="comment">// Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }

        <span class="comment">// OnUpdate: ì•¡ì…˜ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnUpdate</span>()
        {
            <span class="comment">// remainingDistance: ëª©í‘œê¹Œì§€ ë‚¨ì€ ê±°ë¦¬</span>
            <span class="comment">// stoppingDistance: ì •ì§€ ê±°ë¦¬</span>
            <span class="comment">// ëª©í‘œì— ë„ë‹¬í–ˆëŠ”ì§€ í™•ì¸</span>
            <span class="keyword">if</span> (<span class="field-name">agent</span>.<span class="property-name">remainingDistance</span> &lt;= <span class="field-name">agent</span>.<span class="property-name">stoppingDistance</span>)
            {
                <span class="comment">// Success: ëª©í‘œì— ë„ë‹¬í•¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// Running: ì•„ì§ ëª©í‘œì— ë„ë‹¬í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® Behavior Tree êµ¬ì¡° ì—…ë°ì´íŠ¸</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“Š ìƒˆë¡œìš´ íŠ¸ë¦¬ êµ¬ì¡°</h4>
                        <ol class="content-list">
                            <li><strong>OnStart</strong>: íŠ¸ë¦¬ ì‹œì‘ì </li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸°</li>
                            <li><strong>Gather ë¸Œëœì¹˜</strong>: ìì› ìˆ˜ì§‘ ë¡œì§</li>
                            <li><strong>Sequence</strong>: ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë…¸ë“œë“¤</li>
                            <li><strong>MoveToTargetLocation</strong>: ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>GatherSupplies</strong>: ìì› ìˆ˜ì§‘ ì‹¤í–‰</li>
                            <li><strong>FindClosestCommandPost</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
                            <li><strong>MoveToTargetGameObject</strong>: Command Postë¡œ ì´ë™</li>
                        </ol>
                    </div>

                    <div class="tech-stack">
                        <h4>âš¡ ì™„ì „í•œ ìˆ˜ì§‘ ì‚¬ì´í´</h4>
                        <ul class="content-list">
                            <li><strong>ì´ë™ ë‹¨ê³„</strong>: Workerê°€ ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>ìˆ˜ì§‘ ë‹¨ê³„</strong>: ìì›ì„ ìˆ˜ì§‘í•˜ê³  ìˆ˜ì§‘ëŸ‰ ì €ì¥</li>
                            <li><strong>íƒìƒ‰ ë‹¨ê³„</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
                            <li><strong>ë°˜í™˜ ë‹¨ê³„</strong>: Command Postë¡œ ì´ë™</li>
                            <li><strong>ë°˜ë³µ</strong>: ë‹¤ì‹œ ìì› ìˆ˜ì§‘ìœ¼ë¡œ ëŒì•„ê°</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”§ Blackboard ë³€ìˆ˜ ì„¤ì •</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“‹ í•„ìš”í•œ Blackboard ë³€ìˆ˜ë“¤</h4>
                        <ul class="content-list">
                            <li><strong>SupplyAmountHeld</strong>: ìˆ˜ì§‘í•œ ìì›ëŸ‰ (int)</li>
                            <li><strong>CommandPost</strong>: ì°¾ì€ Command Post (GameObject)</li>
                            <li><strong>SearchRadius</strong>: íƒìƒ‰ ë°˜ê²½ (float, ê¸°ë³¸ê°’ 10)</li>
                            <li><strong>CommandPostBuilding</strong>: Command Postì˜ UnitSO</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ¯ ë³€ìˆ˜ ì—°ê²°</h4>
                        <ul class="content-list">
                            <li><strong>GatherSupplies â†’ SupplyAmountHeld</strong>: ìˆ˜ì§‘ëŸ‰ ì €ì¥</li>
                            <li><strong>FindClosestCommandPost â†’ CommandPost</strong>: ì°¾ì€ Command Post ì €ì¥</li>
                            <li><strong>MoveToTargetGameObject â†’ CommandPost</strong>: Command Postë¡œ ì´ë™</li>
                            <li><strong>CommandPostBuilding</strong>: Command Post ì‹ë³„ìš©</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>â“ ì™œ í•„ìš”í•œê°€?</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ê²Œì„ ê°œë°œ ê´€ì </h4>
                        <p><strong>ì™„ì „í•œ ê²½ì œ ì‹œìŠ¤í…œ</strong>: ìì› ìˆ˜ì§‘ â†’ ë°˜í™˜ì˜ ì™„ì „í•œ ì‚¬ì´í´</p>
                        <p><strong>ìë™í™”</strong>: Workerê°€ ì§€ëŠ¥ì ìœ¼ë¡œ ìì›ì„ ìˆ˜ì§‘í•˜ê³  ë°˜í™˜</p>
                        <p><strong>í™•ì¥ì„±</strong>: ë‹¤ì–‘í•œ ê±´ë¬¼ íƒ€ì…ì„ ì‰½ê²Œ ì¶”ê°€</p>
                        <p><strong>ì¼ê´€ì„±</strong>: ëª¨ë“  ìˆ˜ì§‘ í–‰ë™ì´ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ë™ì‘</p>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ ê¸°ìˆ ì  ì¥ì </h4>
                        <p><strong>Physics ì‹œìŠ¤í…œ í™œìš©</strong>: OverlapSphereë¡œ íš¨ìœ¨ì ì¸ íƒìƒ‰</p>
                        <p><strong>ì»¤ìŠ¤í…€ ë…¸ë“œ</strong>: íŠ¹ì • ê¸°ëŠ¥ì„ ìœ„í•œ ì „ìš© ë…¸ë“œ</p>
                        <p><strong>Blackboard í™œìš©</strong>: ë…¸ë“œ ê°„ ë°ì´í„° ê³µìœ </p>
                        <p><strong>ë ˆì´ì–´ ì‹œìŠ¤í…œ</strong>: Buildings ë ˆì´ì–´ë¡œ ì •í™•í•œ íƒìƒ‰</p>
                    </div>

                    <div class="tech-stack">
                        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                        <p><strong>UnitSO ì ‘ê·¼</strong>: BaseBuildingì˜ UnitSOë¥¼ publicìœ¼ë¡œ ë³€ê²½</p>
                        <p><strong>ë ˆì´ì–´ ì„¤ì •</strong>: ê±´ë¬¼ì„ ì˜¬ë°”ë¥¸ ë ˆì´ì–´ì— ë°°ì¹˜</p>
                        <p><strong>íƒìƒ‰ ë°˜ê²½</strong>: ì ì ˆí•œ SearchRadius ì„¤ì •</p>
                        <p><strong>ì„±ëŠ¥ ê³ ë ¤</strong>: ë„ˆë¬´ ë§ì€ ê±´ë¬¼ì´ ìˆìœ¼ë©´ ì„±ëŠ¥ ì €í•˜</p>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® ë…¸ë°”1492 ì ìš© í¬ì¸íŠ¸</h3>
                    <ul class="content-list">
                        <li><strong>ë‹¤ì–‘í•œ ê±´ë¬¼</strong>: Command Post, Supply Depot, Refinery ë“±</li>
                        <li><strong>ìì› ì €ì¥ì†Œ</strong>: ê° ê±´ë¬¼ë§ˆë‹¤ ë‹¤ë¥¸ ìì› ì €ì¥</li>
                        <li><strong>ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ</strong>: ê°€ì¥ ê°€ê¹Œìš´ ê±´ë¬¼ì´ ì•„ë‹Œ ê°€ì¥ íš¨ìœ¨ì ì¸ ê±´ë¬¼</li>
                        <li><strong>ìì› ì „ì†¡</strong>: ê±´ë¬¼ ê°„ ìì› ì´ë™ ì‹œìŠ¤í…œ</li>
                        <li><strong>ìë™ ë°°ì¹˜</strong>: Workerê°€ ì•Œì•„ì„œ ìµœì ì˜ ê±´ë¬¼ ì°¾ê¸°</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ”‘ í•µì‹¬ ê¸°ìˆ  ê°œë…</h3>
                    <ul class="content-list">
                        <li><strong>Physics.OverlapSphere</strong>: êµ¬ì²´ ì˜ì—­ì—ì„œ Collider íƒìƒ‰</li>
                        <li><strong>LayerMask.GetMask</strong>: íŠ¹ì • ë ˆì´ì–´ë§Œ ê²€ì‚¬</li>
                        <li><strong>TryGetComponent</strong>: ì•ˆì „í•œ ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°</li>
                        <li><strong>UnitSO.Equals</strong>: ScriptableObject ë¹„êµ</li>
                        <li><strong>Blackboard ë³€ìˆ˜</strong>: ë…¸ë“œ ê°„ ë°ì´í„° ê³µìœ </li>
                        <li><strong>Sequence ë…¸ë“œ</strong>: ìˆœì°¨ì  ì‹¤í–‰ì„ ìœ„í•œ ë…¸ë“œ</li>
                        <li><strong>GameObject ì´ë™</strong>: Vector3ê°€ ì•„ë‹Œ GameObjectë¡œ ì´ë™</li>
                        <li><strong>íƒìƒ‰ ë°˜ê²½</strong>: íš¨ìœ¨ì ì¸ ê±´ë¬¼ íƒìƒ‰</li>
                    </ul>
                </div>
            </div>

            <!-- ê°•ì˜ 42: Smooth Gathering Movement (ë¶€ë“œëŸ¬ìš´ ìì› ìˆ˜ì§‘ ì´ë™) -->
            <div class="lecture-section" id="lecture-42">
                <h2 class="lecture-title">ğŸš¶ ê°•ì˜ 42: Smooth Gathering Movement (ë¶€ë“œëŸ¬ìš´ ìì› ìˆ˜ì§‘ ì´ë™)</h2>
                
                <div class="tech-stack" style="margin-top: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                    <h4 style="color: #2c3e50; margin-top: 0;">ğŸ¯ ì´ë²ˆ ê°•ì˜ë¥¼ ì™œ í•´ì•¼ í•˜ëŠ”ê°€?</h4>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ë¶€ë“œëŸ¬ìš´ ì´ë™</strong>: <span style="color: #2c3e50;">Workerë“¤ì´ ìì›ì„ ìˆ˜ì§‘í•  ë•Œ ë” ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ë„ë¡ ê°œì„ </span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">Obstacle Avoidance ì¡°ì •</strong>: <span style="color: #2c3e50;">ìì› ìˆ˜ì§‘ ì‹œ ë‹¤ë¥¸ ìœ ë‹›ë“¤ì„ ë¬´ì‹œí•˜ê³  í†µê³¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ê²Œì„í”Œë ˆì´ ê°œì„ </strong>: <span style="color: #2c3e50;">StarCraftì™€ ê°™ì€ RTS ê²Œì„ì˜ ìˆ˜ì§‘ í–‰ë™ íŒ¨í„´ êµ¬í˜„</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ë™ì  ì„¤ì •</strong>: <span style="color: #2c3e50;">Behavior Treeì—ì„œ ìƒí™©ì— ë”°ë¼ NavMesh Agent ì„¤ì • ë³€ê²½</span></p>
                </div>
                
                <div class="tech-stack" style="margin-top: 15px; background: #e8f5e8; border: 2px solid #28a745; border-radius: 8px;">
                    <h4 style="color: #155724; margin-top: 0;">ğŸ§’ ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h4>
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸš¶ ë¶€ë“œëŸ¬ìš´ ì´ë™ì´ ë­ì•¼?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">Workerë“¤ì´ ìì›ì„ ìºëŸ¬ ê°ˆ ë•Œ ë‹¤ë¥¸ Workerë“¤ì„ í”¼í•´ì„œ ëŒì•„ë‹¤ë‹ˆì§€ ì•Šê³ , ê·¸ëƒ¥ í†µê³¼í•´ì„œ ê°€ëŠ” ì‹œìŠ¤í…œì´ì—ìš”!</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ® ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìì› ìˆ˜ì§‘ ì‹œ</strong>: ë‹¤ë¥¸ Workerë“¤ì„ ë¬´ì‹œí•˜ê³  í†µê³¼í•´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ì¼ë°˜ ì´ë™ ì‹œ</strong>: ë‹¤ë¥¸ ìœ ë‹›ë“¤ì„ í”¼í•´ì„œ ì´ë™í•´ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìë™ ì „í™˜</strong>: ìƒí™©ì— ë”°ë¼ ìë™ìœ¼ë¡œ ë°”ë€Œì–´ìš”</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ì§‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ì¥ë³´ê¸° ê°ˆ ë•ŒëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ í”¼í•´ì„œ ëŒì•„ë‹¤ë‹ˆì§€ë§Œ, ê¸‰í•  ë•ŒëŠ” ê·¸ëƒ¥ ì§€ë‚˜ê°€ëŠ” ê²ƒì²˜ëŸ¼, ê²Œì„ì—ì„œë„ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì›€ì§ì—¬ìš”!</p>
                </div>

                <div class="lecture-goal">
                    <h3>ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="content-list">
                        <li>NavMesh Agentì˜ Obstacle Avoidance ê°œë… ì´í•´</li>
                        <li>SetAgentAvoidanceAction ì»¤ìŠ¤í…€ ë…¸ë“œ êµ¬í˜„</li>
                        <li>Behavior Treeì—ì„œ ë™ì ìœ¼ë¡œ avoidance ì„¤ì • ë³€ê²½</li>
                        <li>ìì› ìˆ˜ì§‘ ì‹œì™€ ì¼ë°˜ ì´ë™ ì‹œ ë‹¤ë¥¸ ì„¤ì • ì ìš©</li>
                        <li>ê²Œì„í”Œë ˆì´ ê°œì„ ì„ ìœ„í•œ ì´ë™ ìµœì í™”</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸš¶ Obstacle Avoidance ì‹œìŠ¤í…œ</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® Obstacle Avoidance íƒ€ì…</h4>
                        <ul class="content-list">
                            <li><strong>No Obstacle Avoidance (0)</strong>: ë‹¤ë¥¸ ìœ ë‹›ì„ ë¬´ì‹œí•˜ê³  í†µê³¼</li>
                            <li><strong>Low Quality (1)</strong>: ë‚®ì€ í’ˆì§ˆì˜ íšŒí”¼</li>
                            <li><strong>Medium Quality (2)</strong>: ì¤‘ê°„ í’ˆì§ˆì˜ íšŒí”¼</li>
                            <li><strong>Good Quality (3)</strong>: ì¢‹ì€ í’ˆì§ˆì˜ íšŒí”¼</li>
                            <li><strong>High Quality (4)</strong>: ë†’ì€ í’ˆì§ˆì˜ íšŒí”¼ (ê¸°ë³¸ê°’)</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”„ ìƒí™©ë³„ ì„¤ì •</h4>
                        <ul class="content-list">
                            <li><strong>ìì› ìˆ˜ì§‘ ì‹œ</strong>: No Obstacle Avoidance (0) - ë‹¤ë¥¸ Worker ë¬´ì‹œ</li>
                            <li><strong>ì¼ë°˜ ì´ë™ ì‹œ</strong>: High Quality (4) - ë‹¤ë¥¸ ìœ ë‹› íšŒí”¼</li>
                            <li><strong>ì „íˆ¬ ì‹œ</strong>: High Quality (4) - ì „ìˆ ì  ì´ë™</li>
                            <li><strong>ê±´ì„¤ ì‹œ</strong>: Medium Quality (2) - ì ë‹¹í•œ íšŒí”¼</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ“ SetAgentAvoidanceAction êµ¬í˜„</h3>
                    
                    <div class="code-block">
<span class="comment">// SetAgentAvoidanceAction.cs - NavMesh Agentì˜ Obstacle Avoidance ì„¤ì •</span>
<span class="comment">// Behavior Treeì—ì„œ ë™ì ìœ¼ë¡œ avoidance í’ˆì§ˆì„ ë³€ê²½</span>

<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine.AI</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (Action/Navigation)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(
        <span class="parameter">name</span>: <span class="string">"Set Agent Avoidance"</span>, 
        <span class="parameter">story</span>: <span class="string">"Set [Agent] avoidance quality to [AvoidanceQuality] ."</span>, 
        <span class="parameter">category</span>: <span class="string">"Action/Navigation"</span>, 
        <span class="parameter">id</span>: <span class="string">"3a4f7ab7967bf186b0c645339d0ace1e"</span>
    )]
    
    <span class="comment">// SetAgentAvoidanceAction: NavMesh Agentì˜ Obstacle Avoidanceë¥¼ ì„¤ì •í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">SetAgentAvoidanceAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Agent: ì„¤ì •í•  NavMesh Agentê°€ ìˆëŠ” GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;
        
        <span class="comment">// AvoidanceQuality: ì„¤ì •í•  avoidance í’ˆì§ˆ (0-4)</span>
        <span class="comment">// int: ì •ìˆ˜í˜• (0=No, 1=Low, 2=Medium, 3=Good, 4=High)</span>
        [<span class="class-name">SerializeReference</span>] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; <span class="property-name">AvoidanceQuality</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out agent: ê°€ì ¸ì˜¨ NavMeshAgentë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="comment">// !: ë…¼ë¦¬ ë¶€ì • ì—°ì‚°ì (ì‹¤íŒ¨ ì‹œ true)</span>
            <span class="comment">// AvoidanceQuality > 4: ìœ íš¨í•˜ì§€ ì•Šì€ ë†’ì€ ê°’</span>
            <span class="comment">// AvoidanceQuality < 0: ìœ íš¨í•˜ì§€ ì•Šì€ ë‚®ì€ ê°’</span>
            <span class="keyword">if</span> (!<span class="property-name">Agent</span>.<span class="property-name">Value</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">NavMeshAgent</span> <span class="field-name">agent</span>) || 
                <span class="property-name">AvoidanceQuality</span>.<span class="property-name">Value</span> > <span class="number">4</span> || 
                <span class="property-name">AvoidanceQuality</span>.<span class="property-name">Value</span> &lt; <span class="number">0</span>)
            {
                <span class="comment">// Failure: NavMeshAgentê°€ ì—†ê±°ë‚˜ ìœ íš¨í•˜ì§€ ì•Šì€ avoidance í’ˆì§ˆ</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Failure</span>;
            }

            <span class="comment">// obstacleAvoidanceType: NavMesh Agentì˜ obstacle avoidance íƒ€ì…</span>
            <span class="comment">// (ObstacleAvoidanceType): intë¥¼ ObstacleAvoidanceType enumìœ¼ë¡œ ìºìŠ¤íŒ…</span>
            <span class="comment">// AvoidanceQuality.Value: Blackboardì—ì„œ ê°€ì ¸ì˜¨ avoidance í’ˆì§ˆ ê°’</span>
            <span class="field-name">agent</span>.<span class="property-name">obstacleAvoidanceType</span> = (<span class="class-name">ObstacleAvoidanceType</span>)<span class="property-name">AvoidanceQuality</span>.<span class="property-name">Value</span>;

            <span class="comment">// Success: avoidance í’ˆì§ˆì„ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í•¨</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® Behavior Tree êµ¬ì¡° ì—…ë°ì´íŠ¸</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“Š ìƒˆë¡œìš´ íŠ¸ë¦¬ êµ¬ì¡°</h4>
                        <ol class="content-list">
                            <li><strong>OnStart</strong>: íŠ¸ë¦¬ ì‹œì‘ì </li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸°</li>
                            <li><strong>Gather ë¸Œëœì¹˜</strong>: ìì› ìˆ˜ì§‘ ë¡œì§</li>
                            <li><strong>SetAgentAvoidance (0)</strong>: ìì› ìˆ˜ì§‘ ì‹œ No Obstacle Avoidance</li>
                            <li><strong>Sequence</strong>: ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë…¸ë“œë“¤</li>
                            <li><strong>MoveToTargetLocation</strong>: ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                            <li><strong>GatherSupplies</strong>: ìì› ìˆ˜ì§‘ ì‹¤í–‰</li>
                            <li><strong>FindClosestCommandPost</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
                            <li><strong>MoveToTargetGameObject</strong>: Command Postë¡œ ì´ë™</li>
                            <li><strong>SetAgentAvoidance (4)</strong>: ì¼ë°˜ ì´ë™ ì‹œ High Quality</li>
                        </ol>
                    </div>

                    <div class="tech-stack">
                        <h4>âš¡ ì´ë™ ìµœì í™” í”„ë¡œì„¸ìŠ¤</h4>
                        <ul class="content-list">
                            <li><strong>ìì› ìˆ˜ì§‘ ì‹œì‘</strong>: Obstacle Avoidanceë¥¼ 0ìœ¼ë¡œ ì„¤ì •</li>
                            <li><strong>ìì›ìœ¼ë¡œ ì´ë™</strong>: ë‹¤ë¥¸ Workerë“¤ì„ ë¬´ì‹œí•˜ê³  í†µê³¼</li>
                            <li><strong>ìì› ìˆ˜ì§‘</strong>: ë¶€ë“œëŸ½ê²Œ ìì› ìˆ˜ì§‘</li>
                            <li><strong>Command Postë¡œ ì´ë™</strong>: ë‹¤ë¥¸ Workerë“¤ì„ ë¬´ì‹œí•˜ê³  í†µê³¼</li>
                            <li><strong>ì¼ë°˜ ì´ë™ ë³µì›</strong>: Obstacle Avoidanceë¥¼ 4ë¡œ ì„¤ì •</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”§ Blackboard ë³€ìˆ˜ ì„¤ì •</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“‹ í•„ìš”í•œ Blackboard ë³€ìˆ˜ë“¤</h4>
                        <ul class="content-list">
                            <li><strong>AvoidanceQuality</strong>: ì„¤ì •í•  avoidance í’ˆì§ˆ (int)</li>
                            <li><strong>Agent</strong>: NavMesh Agentê°€ ìˆëŠ” GameObject</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ¯ ë³€ìˆ˜ ì—°ê²°</h4>
                        <ul class="content-list">
                            <li><strong>ìì› ìˆ˜ì§‘ ì‹œ</strong>: AvoidanceQuality = 0 (No Obstacle Avoidance)</li>
                            <li><strong>ì¼ë°˜ ì´ë™ ì‹œ</strong>: AvoidanceQuality = 4 (High Quality)</li>
                            <li><strong>Agent</strong>: Self (í˜„ì¬ ìœ ë‹›)</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>â“ ì™œ í•„ìš”í•œê°€?</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ê²Œì„ ê°œë°œ ê´€ì </h4>
                        <p><strong>ìì—°ìŠ¤ëŸ¬ìš´ ìˆ˜ì§‘</strong>: StarCraftì™€ ê°™ì€ RTS ê²Œì„ì˜ ìˆ˜ì§‘ í–‰ë™ íŒ¨í„´</p>
                        <p><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ë¶ˆí•„ìš”í•œ íšŒí”¼ ê³„ì‚° ì œê±°</p>
                        <p><strong>ì‚¬ìš©ì ê²½í—˜</strong>: ë” ë¶€ë“œëŸ½ê³  ì§ê´€ì ì¸ ì´ë™</p>
                        <p><strong>ê²Œì„í”Œë ˆì´ ê°œì„ </strong>: ìì› ìˆ˜ì§‘ì´ ë” íš¨ìœ¨ì ìœ¼ë¡œ</p>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ ê¸°ìˆ ì  ì¥ì </h4>
                        <p><strong>ë™ì  ì„¤ì •</strong>: Behavior Treeì—ì„œ ìƒí™©ì— ë”°ë¼ ì„¤ì • ë³€ê²½</p>
                        <p><strong>ê°„ë‹¨í•œ êµ¬í˜„</strong>: ë‹¨ìˆœí•˜ì§€ë§Œ íš¨ê³¼ì ì¸ ì†”ë£¨ì…˜</p>
                        <p><strong>ìœ ì—°ì„±</strong>: ë‹¤ì–‘í•œ ìƒí™©ì— ì ìš© ê°€ëŠ¥</p>
                        <p><strong>ì„±ëŠ¥</strong>: ë¶ˆí•„ìš”í•œ ê³„ì‚° ì œê±°</p>
                    </div>

                    <div class="tech-stack">
                        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                        <p><strong>ìœ íš¨ì„± ê²€ì‚¬</strong>: 0-4 ë²”ìœ„ ë‚´ì˜ ê°’ë§Œ í—ˆìš©</p>
                        <p><strong>NavMeshAgent í™•ì¸</strong>: ì»´í¬ë„ŒíŠ¸ ì¡´ì¬ ì—¬ë¶€ í™•ì¸</p>
                        <p><strong>íƒ€ì… ìºìŠ¤íŒ…</strong>: intë¥¼ ObstacleAvoidanceTypeìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜</p>
                        <p><strong>ìƒí™©ë³„ ì ìš©</strong>: ì ì ˆí•œ ì‹œì ì— ì„¤ì • ë³€ê²½</p>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® ë…¸ë°”1492 ì ìš© í¬ì¸íŠ¸</h3>
                    <ul class="content-list">
                        <li><strong>ë‹¤ì–‘í•œ ì´ë™ ëª¨ë“œ</strong>: ìˆ˜ì§‘, ì „íˆ¬, ê±´ì„¤, íƒìƒ‰ ëª¨ë“œ</li>
                        <li><strong>ìƒí™©ë³„ ìµœì í™”</strong>: ê° ìƒí™©ì— ë§ëŠ” ì´ë™ ì„¤ì •</li>
                        <li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ë¶ˆí•„ìš”í•œ íšŒí”¼ ê³„ì‚° ì œê±°</li>
                        <li><strong>ì‚¬ìš©ì ê²½í—˜</strong>: ë” ë¶€ë“œëŸ½ê³  ì§ê´€ì ì¸ ì´ë™</li>
                        <li><strong>ì „ìˆ ì  ì´ë™</strong>: ì „íˆ¬ ì‹œì™€ í‰ì‹œ ì´ë™ êµ¬ë¶„</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ”‘ í•µì‹¬ ê¸°ìˆ  ê°œë…</h3>
                    <ul class="content-list">
                        <li><strong>ObstacleAvoidanceType</strong>: NavMesh Agentì˜ íšŒí”¼ íƒ€ì…</li>
                        <li><strong>SetAgentAvoidanceAction</strong>: avoidance ì„¤ì • ì»¤ìŠ¤í…€ ë…¸ë“œ</li>
                        <li><strong>ë™ì  ì„¤ì •</strong>: Behavior Treeì—ì„œ ëŸ°íƒ€ì„ ì„¤ì • ë³€ê²½</li>
                        <li><strong>íƒ€ì… ìºìŠ¤íŒ…</strong>: intë¥¼ enumìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜</li>
                        <li><strong>ìœ íš¨ì„± ê²€ì‚¬</strong>: ì…ë ¥ê°’ ë²”ìœ„ í™•ì¸</li>
                        <li><strong>TryGetComponent</strong>: ì•ˆì „í•œ ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸°</li>
                        <li><strong>ìƒí™©ë³„ ìµœì í™”</strong>: ê° ìƒí™©ì— ë§ëŠ” ì´ë™ ì„¤ì •</li>
                        <li><strong>ê²Œì„í”Œë ˆì´ ê°œì„ </strong>: ë” ìì—°ìŠ¤ëŸ¬ìš´ ì´ë™ íŒ¨í„´</li>
                    </ul>
                </div>
            </div>

            <!-- ê°•ì˜ 43: Pick Better Gathering Locations (ë” ë‚˜ì€ ìì› ìˆ˜ì§‘ ìœ„ì¹˜ ì„ íƒ) -->
            <div class="lecture-section" id="lecture-43">
                <h2 class="lecture-title">ğŸ¯ ê°•ì˜ 43: Pick Better Gathering Locations (ë” ë‚˜ì€ ìì› ìˆ˜ì§‘ ìœ„ì¹˜ ì„ íƒ)</h2>
                
                <div class="tech-stack" style="margin-top: 20px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px;">
                    <h4 style="color: #2c3e50; margin-top: 0;">ğŸ¯ ì´ë²ˆ ê°•ì˜ë¥¼ ì™œ í•´ì•¼ í•˜ëŠ”ê°€?</h4>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ìµœì í™”ëœ ìœ„ì¹˜ ì„ íƒ</strong>: <span style="color: #2c3e50;">Workerë“¤ì´ ìì›ê³¼ Command Postì˜ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ì„ íƒí•˜ë„ë¡ ê°œì„ </span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">Collider í™œìš©</strong>: <span style="color: #2c3e50;">Collider.ClosestPoint APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ ìœ„ì¹˜ ê³„ì‚°</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ìì—°ìŠ¤ëŸ¬ìš´ ì´ë™</strong>: <span style="color: #2c3e50;">RTS ê²Œì„ë‹¤ìš´ ì§ê´€ì ì´ê³  íš¨ìœ¨ì ì¸ ì´ë™ íŒ¨í„´</span></p>
                    <p style="margin: 8px 0;"><strong style="color: #2c3e50;">ì„±ëŠ¥ ê°œì„ </strong>: <span style="color: #2c3e50;">ë¶ˆí•„ìš”í•œ ìš°íšŒ ì´ë™ ì œê±°ë¡œ ë” ë¹ ë¥¸ ìì› ìˆ˜ì§‘</span></p>
                </div>
                
                <div class="tech-stack" style="margin-top: 15px; background: #e8f5e8; border: 2px solid #28a745; border-radius: 8px;">
                    <h4 style="color: #155724; margin-top: 0;">ğŸ§’ ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h4>
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ¯ ë” ë‚˜ì€ ìœ„ì¹˜ ì„ íƒì´ ë­ì•¼?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">Workerë“¤ì´ ìì›ì„ ìºëŸ¬ ê°ˆ ë•Œ, ìì›ì˜ ë’¤ìª½ì´ ì•„ë‹ˆë¼ ê°€ì¥ ê°€ê¹Œìš´ ìª½ìœ¼ë¡œ ê°€ë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œì´ì—ìš”!</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ® ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>ìì› ìˆ˜ì§‘ ì‹œ</strong>: ìì›ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ì°¾ì•„ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>Command Post ë°˜í™˜ ì‹œ</strong>: Command Postì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ì°¾ì•„ìš”</p>
                    <p style="margin: 8px 0; color: #155724;">â€¢ <strong>Collider í™œìš©</strong>: ë¬¼ì²´ì˜ ëª¨ì–‘ì„ ê³ ë ¤í•´ì„œ ì •í™•í•œ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•´ìš”</p>
                    
                    <p style="margin: 8px 0; color: #155724;"><strong>ğŸ  ì§‘ìœ¼ë¡œ ë¹„ìœ í•˜ë©´?</strong></p>
                    <p style="margin: 8px 0; color: #155724;">ì¥ë³´ê¸° ê°ˆ ë•Œ ê°€ê²Œì˜ ë’·ë¬¸ì´ ì•„ë‹ˆë¼ ì•ë¬¸ìœ¼ë¡œ ê°€ëŠ” ê²ƒì²˜ëŸ¼, ê²Œì„ì—ì„œë„ ê°€ì¥ ê°€ê¹Œìš´ ê³³ìœ¼ë¡œ ê°€ìš”!</p>
                </div>

                <div class="lecture-goal">
                    <h3>ğŸ¯ í•™ìŠµ ëª©í‘œ</h3>
                    <ul class="content-list">
                        <li>Collider.ClosestPoint API ì´í•´ ë° í™œìš©</li>
                        <li>MoveToTargetGameObjectAction ê°œì„ </li>
                        <li>Worker.Gather() ë©”ì„œë“œ ì—…ë°ì´íŠ¸</li>
                        <li>Behavior Tree Blackboard ë³€ìˆ˜ ì¶”ê°€</li>
                        <li>ë” ì§ê´€ì ì¸ ìì› ìˆ˜ì§‘ ìœ„ì¹˜ ì„ íƒ</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ¯ ë¬¸ì œì ê³¼ í•´ê²°ì±…</h3>
                    
                    <div class="tech-stack">
                        <h4>âŒ ê¸°ì¡´ ë¬¸ì œì </h4>
                        <ul class="content-list">
                            <li><strong>ì„ì˜ì˜ ìœ„ì¹˜ ì„ íƒ</strong>: ìì›ì˜ ì¤‘ì‹¬ì ì—ì„œ ë™ì¼í•œ ê±°ë¦¬ì˜ 4ê°œ ì§€ì  ì¤‘ ëœë¤ ì„ íƒ</li>
                            <li><strong>ë¹„íš¨ìœ¨ì ì¸ ì´ë™</strong>: Workerê°€ ìì›ì˜ ë’¤ìª½ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²½ìš°</li>
                            <li><strong>ë¶ˆí•„ìš”í•œ ìš°íšŒ</strong>: Command Post ë°˜í™˜ ì‹œì—ë„ ë¹„íš¨ìœ¨ì ì¸ ê²½ë¡œ</li>
                            <li><strong>ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ë™ì‘</strong>: RTS ê²Œì„ë‹¤ìš´ ì§ê´€ì ì´ì§€ ì•Šì€ ì´ë™</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>âœ… ê°œì„ ëœ í•´ê²°ì±…</h4>
                        <ul class="content-list">
                            <li><strong>ClosestPoint API</strong>: Colliderì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì  ê³„ì‚°</li>
                            <li><strong>ìµœì í™”ëœ ê²½ë¡œ</strong>: Worker ìœ„ì¹˜ë¥¼ ê³ ë ¤í•œ ìµœë‹¨ ê²½ë¡œ</li>
                            <li><strong>ìì—°ìŠ¤ëŸ¬ìš´ ì´ë™</strong>: ì§ê´€ì ì´ê³  íš¨ìœ¨ì ì¸ ì´ë™ íŒ¨í„´</li>
                            <li><strong>ì„±ëŠ¥ í–¥ìƒ</strong>: ë¶ˆí•„ìš”í•œ ì´ë™ ì‹œê°„ ë‹¨ì¶•</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ“ MoveToTargetGameObjectAction ê°œì„ </h3>
                    
                    <div class="code-block">
<span class="comment">// MoveToTargetGameObjectAction.cs - ê°œì„ ëœ GameObject ì´ë™ ì•¡ì…˜</span>
<span class="comment">// Collider.ClosestPointë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì ì˜ ìœ„ì¹˜ ì„ íƒ</span>

<span class="keyword">using</span> <span class="class-name">System</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Behavior</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine</span>;
<span class="keyword">using</span> <span class="class-name">Action</span> = <span class="class-name">Unity.Behavior.Action</span>;
<span class="keyword">using</span> <span class="class-name">Unity.Properties</span>;
<span class="keyword">using</span> <span class="class-name">UnityEngine.AI</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Behavior</span>
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [<span class="class-name">Serializable</span>, <span class="class-name">GeneratePropertyBag</span>]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (Action/Navigation)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [<span class="class-name">NodeDescription</span>(
        <span class="parameter">name</span>: <span class="string">"Move to Target GameObject"</span>, 
        <span class="parameter">story</span>: <span class="string">"[Agent] moves to [TargetGameObject] ."</span>, 
        <span class="parameter">category</span>: <span class="string">"Action/Navigation"</span>, 
        <span class="parameter">id</span>: <span class="string">"f07a8fab1fc459315f3380eef35b2aa0"</span>
    )]
    
    <span class="comment">// MoveToTargetGameObjectAction: GameObjectë¡œ ì´ë™í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">MoveToTargetGameObjectAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Agent: ì´ë™í•  NavMesh Agentê°€ ìˆëŠ” GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [<span class="class-name">SerializeReference</span>] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;
        
        <span class="comment">// TargetGameObject: ì´ë™í•  ëŒ€ìƒ GameObject</span>
        [<span class="class-name">SerializeReference</span>] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">TargetGameObject</span>;

        <span class="comment">// agent: NavMesh Agent ì»´í¬ë„ŒíŠ¸ ì°¸ì¡°</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥</span>
        <span class="keyword">private</span> <span class="class-name">NavMeshAgent</span> <span class="field-name">agent</span>;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnStart</span>()
        {
            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out agent: ê°€ì ¸ì˜¨ NavMeshAgentë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="comment">// !: ë…¼ë¦¬ ë¶€ì • ì—°ì‚°ì (ì‹¤íŒ¨ ì‹œ true)</span>
            <span class="keyword">if</span> (!<span class="property-name">Agent</span>.<span class="property-name">Value</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="field-name">agent</span>))
            {
                <span class="comment">// Failure: NavMeshAgentê°€ ì—†ëŠ” ê²½ìš°</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Failure</span>;
            }

            <span class="comment">// GetTargetPosition: ìµœì ì˜ ëª©í‘œ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ</span>
            <span class="comment">// Vector3: 3ì°¨ì› ë²¡í„° (x, y, z ì¢Œí‘œ)</span>
            <span class="class-name">Vector3</span> <span class="field-name">targetPosition</span> = <span class="method-name">GetTargetPosition</span>();

            <span class="comment">// Vector3.Distance: ë‘ ì  ì‚¬ì´ì˜ ê±°ë¦¬ ê³„ì‚°</span>
            <span class="comment">// agent.transform.position: í˜„ì¬ NavMesh Agentì˜ ìœ„ì¹˜</span>
            <span class="comment">// agent.stoppingDistance: NavMesh Agentì˜ ì •ì§€ ê±°ë¦¬</span>
            <span class="comment">// <=: ì‘ê±°ë‚˜ ê°™ìŒ ë¹„êµ ì—°ì‚°ì</span>
            <span class="keyword">if</span> (<span class="class-name">Vector3</span>.<span class="method-name">Distance</span>(
                <span class="field-name">agent</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>, 
                <span class="field-name">targetPosition</span>
            ) &lt;= <span class="field-name">agent</span>.<span class="property-name">stoppingDistance</span>)
            {
                <span class="comment">// Success: ì´ë¯¸ ëª©í‘œ ìœ„ì¹˜ì— ë„ë‹¬í•œ ê²½ìš°</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// SetDestination: NavMesh Agentì˜ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •</span>
            <span class="comment">// targetPosition: ê³„ì‚°ëœ ìµœì ì˜ ëª©í‘œ ìœ„ì¹˜</span>
            <span class="field-name">agent</span>.<span class="method-name">SetDestination</span>(<span class="field-name">targetPosition</span>);
            
            <span class="comment">// Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }

        <span class="comment">// OnUpdate: ì•¡ì…˜ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë§¤ í”„ë ˆì„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnUpdate</span>()
        {
            <span class="comment">// remainingDistance: ëª©í‘œê¹Œì§€ ë‚¨ì€ ê±°ë¦¬</span>
            <span class="comment">// stoppingDistance: ì •ì§€ ê±°ë¦¬</span>
            <span class="keyword">if</span> (<span class="field-name">agent</span>.<span class="property-name">remainingDistance</span> &lt;= <span class="field-name">agent</span>.<span class="property-name">stoppingDistance</span>)
            {
                <span class="comment">// Success: ëª©í‘œ ìœ„ì¹˜ì— ë„ë‹¬í•¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Success</span>;
            }

            <span class="comment">// Running: ì•„ì§ ì´ë™ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.<span class="property-name">Running</span>;
        }

        <span class="comment">// GetTargetPosition: ìµœì ì˜ ëª©í‘œ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” private ë©”ì„œë“œ</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// Vector3: ë°˜í™˜ íƒ€ì… (3ì°¨ì› ë²¡í„°)</span>
        <span class="keyword">private</span> <span class="class-name">Vector3</span> <span class="method-name">GetTargetPosition</span>()
        {
            <span class="comment">// targetPosition: ê³„ì‚°ë  ëª©í‘œ ìœ„ì¹˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="class-name">Vector3</span> <span class="field-name">targetPosition</span>;
            
            <span class="comment">// TryGetComponent: TargetGameObjectì—ì„œ Collider ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out collider: ê°€ì ¸ì˜¨ Colliderë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="keyword">if</span> (<span class="property-name">TargetGameObject</span>.<span class="property-name">Value</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">Collider</span> <span class="field-name">collider</span>))
            {
                <span class="comment">// ClosestPoint: Colliderì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ê³„ì‚°</span>
                <span class="comment">// agent.transform.position: í˜„ì¬ NavMesh Agentì˜ ìœ„ì¹˜</span>
                <span class="comment">// ë°˜í™˜ê°’: Collider í‘œë©´ì—ì„œ Agentì— ê°€ì¥ ê°€ê¹Œìš´ ì§€ì </span>
                <span class="field-name">targetPosition</span> = <span class="field-name">collider</span>.<span class="method-name">ClosestPoint</span>(<span class="field-name">agent</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>);
            }
            <span class="keyword">else</span>
            {
                <span class="comment">// Colliderê°€ ì—†ëŠ” ê²½ìš°: GameObjectì˜ transform.position ì‚¬ìš©</span>
                <span class="comment">// TargetGameObject.Value.transform.position: GameObjectì˜ ì¤‘ì‹¬ ìœ„ì¹˜</span>
                <span class="field-name">targetPosition</span> = <span class="property-name">TargetGameObject</span>.<span class="property-name">Value</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>;
            }

            <span class="comment">// ê³„ì‚°ëœ ëª©í‘œ ìœ„ì¹˜ ë°˜í™˜</span>
            <span class="keyword">return</span> <span class="field-name">targetPosition</span>;
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”§ Worker.Gather() ë©”ì„œë“œ ì—…ë°ì´íŠ¸</h3>
                    
                    <div class="code-block">
<span class="comment">// Worker.cs - ê°œì„ ëœ ìì› ìˆ˜ì§‘ ë©”ì„œë“œ</span>
<span class="comment">// TargetGameObjectë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ì •í™•í•œ ìœ„ì¹˜ ì„¤ì •</span>

<span class="keyword">using</span> <span class="class-name">GameDevTV.RTS.Environment</span>;

<span class="keyword">namespace</span> <span class="class-name">GameDevTV.RTS.Units</span>
{
    <span class="comment">// Worker: AbstractUnitì„ ìƒì†í•˜ê³  IGatherer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„</span>
    <span class="comment">// IGatherer: ìì› ìˆ˜ì§‘ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">Worker</span> : <span class="class-name">AbstractUnit</span>, <span class="class-name">IGatherer</span>
    {
        <span class="comment">// Gather: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GatherableSupply supply: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        <span class="keyword">public void</span> <span class="method-name">Gather</span>(<span class="class-name">GatherableSupply</span> <span class="field-name">supply</span>)
        {
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Supply": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply: ì„¤ì •í•  ê°’ (GatherableSupply ê°ì²´)</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Supply"</span>, <span class="field-name">supply</span>);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "TargetGameObject": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply.gameObject: ìˆ˜ì§‘í•  ìì›ì˜ GameObject</span>
            <span class="comment">// ì´ì „: TargetLocation (Vector3) ì‚¬ìš©</span>
            <span class="comment">// ê°œì„ : TargetGameObject (GameObject) ì‚¬ìš©ìœ¼ë¡œ Collider.ClosestPoint í™œìš© ê°€ëŠ¥</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"TargetGameObject"</span>, <span class="field-name">supply</span>.<span class="property-name">gameObject</span>);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Command": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// UnitCommands.Gather: ìˆ˜ì§‘ ëª…ë ¹</span>
            <span class="property-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.<span class="property-name">Gather</span>);
        }
    }
}
</div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® Behavior Tree êµ¬ì¡° ì—…ë°ì´íŠ¸</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“Š ìƒˆë¡œìš´ Blackboard ë³€ìˆ˜</h4>
                        <ul class="content-list">
                            <li><strong>TargetGameObject</strong>: ì´ë™í•  ëŒ€ìƒ GameObject (GameObject)</li>
                            <li><strong>TargetLocation</strong>: ì´ë™í•  ìœ„ì¹˜ (Vector3) - ê¸°ì¡´ ìœ ì§€</li>
                            <li><strong>Supply</strong>: ìˆ˜ì§‘í•  ìì› (GatherableSupply)</li>
                            <li><strong>Command</strong>: í˜„ì¬ ëª…ë ¹ (UnitCommands)</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”„ ì—…ë°ì´íŠ¸ëœ íŠ¸ë¦¬ êµ¬ì¡°</h4>
                        <ol class="content-list">
                            <li><strong>OnStart</strong>: íŠ¸ë¦¬ ì‹œì‘ì </li>
                            <li><strong>Abort ë…¸ë“œ</strong>: ëª…ë ¹ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</li>
                            <li><strong>Switch ë…¸ë“œ</strong>: ëª…ë ¹ì— ë”°ë¥¸ ë¶„ê¸°</li>
                            <li><strong>Gather ë¸Œëœì¹˜</strong>: ìì› ìˆ˜ì§‘ ë¡œì§</li>
                            <li><strong>SetAgentAvoidance (0)</strong>: ìì› ìˆ˜ì§‘ ì‹œ No Obstacle Avoidance</li>
                            <li><strong>Sequence</strong>: ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë…¸ë“œë“¤</li>
                            <li><strong>MoveToTargetGameObject</strong>: ìì› GameObjectë¡œ ì´ë™ (ê°œì„ ë¨)</li>
                            <li><strong>GatherSupplies</strong>: ìì› ìˆ˜ì§‘ ì‹¤í–‰</li>
                            <li><strong>FindClosestCommandPost</strong>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
                            <li><strong>MoveToTargetGameObject</strong>: Command Post GameObjectë¡œ ì´ë™ (ê°œì„ ë¨)</li>
                            <li><strong>SetAgentAvoidance (4)</strong>: ì¼ë°˜ ì´ë™ ì‹œ High Quality</li>
                        </ol>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ”§ Collider.ClosestPoint API</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ“‹ API ì„¤ëª…</h4>
                        <ul class="content-list">
                            <li><strong>Collider.ClosestPoint(Vector3 point)</strong>: Collider í‘œë©´ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì  ë°˜í™˜</li>
                            <li><strong>ë§¤ê°œë³€ìˆ˜</strong>: ê¸°ì¤€ì ì´ ë˜ëŠ” Vector3 ìœ„ì¹˜</li>
                            <li><strong>ë°˜í™˜ê°’</strong>: Collider í‘œë©´ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ Vector3 ìœ„ì¹˜</li>
                            <li><strong>ìš©ë„</strong>: ì •í™•í•œ ì ‘ê·¼ ì§€ì  ê³„ì‚°</li>
                        </ul>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ¯ í™œìš© ì˜ˆì‹œ</h4>
                        <ul class="content-list">
                            <li><strong>ìì› ìˆ˜ì§‘</strong>: Worker ìœ„ì¹˜ì—ì„œ ìì› Colliderê¹Œì§€ì˜ ìµœë‹¨ ì§€ì </li>
                            <li><strong>ê±´ë¬¼ ì ‘ê·¼</strong>: ìœ ë‹› ìœ„ì¹˜ì—ì„œ ê±´ë¬¼ Colliderê¹Œì§€ì˜ ìµœë‹¨ ì§€ì </li>
                            <li><strong>ì¥ì• ë¬¼ íšŒí”¼</strong>: ì¥ì• ë¬¼ ì£¼ë³€ì˜ ì•ˆì „í•œ ê²½ë¡œ ê³„ì‚°</li>
                            <li><strong>ì •í™•í•œ ë°°ì¹˜</strong>: ê°ì²´ ì£¼ë³€ì˜ ì •í™•í•œ ë°°ì¹˜ ìœ„ì¹˜</li>
                        </ul>
                    </div>
                </div>

                <div class="content-section">
                    <h3>â“ ì™œ í•„ìš”í•œê°€?</h3>
                    
                    <div class="tech-stack">
                        <h4>ğŸ® ê²Œì„ ê°œë°œ ê´€ì </h4>
                        <p><strong>ì§ê´€ì ì¸ ì´ë™</strong>: RTS ê²Œì„ë‹¤ìš´ ìì—°ìŠ¤ëŸ¬ìš´ ì´ë™ íŒ¨í„´</p>
                        <p><strong>íš¨ìœ¨ì„±</strong>: ë¶ˆí•„ìš”í•œ ìš°íšŒ ì´ë™ ì œê±°</p>
                        <p><strong>ì‚¬ìš©ì ê²½í—˜</strong>: ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  í•©ë¦¬ì ì¸ ìœ ë‹› ë™ì‘</p>
                        <p><strong>ê²Œì„í”Œë ˆì´</strong>: ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ìì› ìˆ˜ì§‘</p>
                    </div>

                    <div class="tech-stack">
                        <h4>ğŸ”§ ê¸°ìˆ ì  ì¥ì </h4>
                        <p><strong>ì •í™•í•œ ê³„ì‚°</strong>: Colliderì˜ ì‹¤ì œ ëª¨ì–‘ì„ ê³ ë ¤í•œ ìœ„ì¹˜ ê³„ì‚°</p>
                        <p><strong>ìœ ì—°ì„±</strong>: ë‹¤ì–‘í•œ í¬ê¸°ì™€ ëª¨ì–‘ì˜ ê°ì²´ì— ì ìš© ê°€ëŠ¥</p>
                        <p><strong>ì„±ëŠ¥</strong>: Unity ë‚´ì¥ API ì‚¬ìš©ìœ¼ë¡œ ìµœì í™”ëœ ì„±ëŠ¥</p>
                        <p><strong>í™•ì¥ì„±</strong>: ë‹¤ë¥¸ ì´ë™ ì‹œë‚˜ë¦¬ì˜¤ì—ë„ ì ìš© ê°€ëŠ¥</p>
                    </div>

                    <div class="tech-stack">
                        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                        <p><strong>Collider ì¡´ì¬ í™•ì¸</strong>: TryGetComponentë¡œ ì•ˆì „í•œ ì ‘ê·¼</p>
                        <p><strong>í´ë°± ë¡œì§</strong>: Colliderê°€ ì—†ëŠ” ê²½ìš° ê¸°ì¡´ ë°©ì‹ ì‚¬ìš©</p>
                        <p><strong>ì„±ëŠ¥ ê³ ë ¤</strong>: ë§¤ í”„ë ˆì„ í˜¸ì¶œ ì‹œ ì„±ëŠ¥ ì˜í–¥ ê³ ë ¤</p>
                        <p><strong>ì •í™•ë„</strong>: Colliderì˜ ë³µì¡ë„ì— ë”°ë¥¸ ê³„ì‚° ì •í™•ë„</p>
                    </div>
                </div>

                <div class="content-section">
                    <h3>ğŸ® ë…¸ë°”1492 ì ìš© í¬ì¸íŠ¸</h3>
                    <ul class="content-list">
                        <li><strong>ì •í™•í•œ ê±´ë¬¼ ì ‘ê·¼</strong>: ê±´ë¬¼ì˜ ì…êµ¬ë‚˜ íŠ¹ì • ì§€ì ìœ¼ë¡œ ì •í™•í•œ ì ‘ê·¼</li>
                        <li><strong>ìì› ìˆ˜ì§‘ ìµœì í™”</strong>: ìì›ì—ì„œ ê°€ì¥ íš¨ìœ¨ì ì¸ ìˆ˜ì§‘ ì§€ì  ì„ íƒ</li>
                        <li><strong>ì „íˆ¬ ìœ„ì¹˜ ê³„ì‚°</strong>: ì  ê±´ë¬¼ì´ë‚˜ ìœ ë‹›ì— ëŒ€í•œ ìµœì ì˜ ê³µê²© ìœ„ì¹˜</li>
                        <li><strong>ê±´ì„¤ ìœ„ì¹˜ ì„ íƒ</strong>: ê±´ë¬¼ ê±´ì„¤ ì‹œ ê°€ì¥ ì ì ˆí•œ ìœ„ì¹˜ ê³„ì‚°</li>
                        <li><strong>íƒìƒ‰ ìµœì í™”</strong>: íƒìƒ‰ ëŒ€ìƒì— ëŒ€í•œ íš¨ìœ¨ì ì¸ ì ‘ê·¼ ê²½ë¡œ</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h3>ğŸ”‘ í•µì‹¬ ê¸°ìˆ  ê°œë…</h3>
                    <ul class="content-list">
                        <li><strong>Collider.ClosestPoint</strong>: Colliderì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì  ê³„ì‚° API</li>
                        <li><strong>TryGetComponent</strong>: ì•ˆì „í•œ ì»´í¬ë„ŒíŠ¸ ì ‘ê·¼ ë°©ë²•</li>
                        <li><strong>í´ë°± ë¡œì§</strong>: ëŒ€ì•ˆì  ì²˜ë¦¬ ë°©ì‹ ì œê³µ</li>
                        <li><strong>Blackboard ë³€ìˆ˜</strong>: Behavior Treeì˜ ë°ì´í„° í†µì‹ </li>
                        <li><strong>GameObject vs Vector3</strong>: ìœ„ì¹˜ ì •ë³´ì˜ í‘œí˜„ ë°©ì‹ ì°¨ì´</li>
                        <li><strong>ìµœì í™”ëœ ê²½ë¡œ</strong>: íš¨ìœ¨ì ì¸ ì´ë™ ê²½ë¡œ ê³„ì‚°</li>
                        <li><strong>RTS ê²Œì„ íŒ¨í„´</strong>: ì „ëµ ê²Œì„ì˜ í‘œì¤€ì ì¸ ì´ë™ ë°©ì‹</li>
                        <li><strong>ì‚¬ìš©ì ê²½í—˜</strong>: ì§ê´€ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘</li>
                    </ul>
                </div>
            </div>

        </div>
        
        <!-- Lecture 44: Smart Gathering -->
        <div class="lecture-section">
            <h2 id="lecture-44">ê°•ì˜ 44: Smart Gathering - ì§€ëŠ¥ì ì¸ ìì› ìˆ˜ì§‘</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>ê¸°ì¡´ ì‹œìŠ¤í…œì—ì„œëŠ” Workerê°€ ì§€ì •ëœ ìì›ì—ë§Œ ì§‘ì°©í•´ì„œ, ê·¸ ìì›ì´ ë‹¤ë¥¸ Workerì— ì˜í•´ ì‚¬ìš© ì¤‘ì´ë©´ ê³„ì† ê¸°ë‹¤ë¦¬ê¸°ë§Œ í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¹„íš¨ìœ¨ì ì´ê³  Workerë“¤ì´ ì œëŒ€ë¡œ í™œìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ì—¬ëŸ¬ ëª…ì´ ê°™ì€ ê³¼ì ë´‰ì§€ë¥¼ ë‘ê³  ì‹¸ìš°ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. í•œ ëª…ì´ ê³¼ìë¥¼ ë¨¹ê³  ìˆìœ¼ë©´ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ê·¸ëƒ¥ ê¸°ë‹¤ë ¤ì•¼ í–ˆì–´ìš”. í•˜ì§€ë§Œ ì´ì œëŠ” ì£¼ë³€ì— ë‹¤ë¥¸ ê³¼ì ë´‰ì§€ê°€ ìˆëŠ”ì§€ ì‚´í´ë³´ê³ , ë¹„ì–´ìˆëŠ” ê³¼ì ë´‰ì§€ë¡œ ê°€ì„œ ë¨¹ì„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. MoveToGatherableSupplyAction</h4>
                <p>ê¸°ì¡´ì˜ ë‹¨ìˆœí•œ ì´ë™ ëŒ€ì‹ , ì§€ëŠ¥ì ì¸ ìì› ì„ íƒ ë¡œì§ì„ í¬í•¨í•œ ìƒˆë¡œìš´ ì•¡ì…˜:</p>
                
                <div class="code-block">
<span class="comment">// MoveToGatherableSupplyAction.cs - ì§€ëŠ¥ì ì¸ ìì› ìˆ˜ì§‘ ì•¡ì…˜</span>
<span class="comment">// ë°”ì˜ì§€ ì•Šì€ ìì›ì„ ì°¾ì•„ì„œ ì´ë™í•˜ëŠ” ìŠ¤ë§ˆíŠ¸í•œ ì‹œìŠ¤í…œ</span>

<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> System;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> Action = Unity.Behavior.Action;
<span class="keyword">using</span> Unity.Properties;
<span class="keyword">using</span> UnityEngine.AI;
<span class="keyword">using</span> System.Collections.Generic;
<span class="keyword">using</span> System.Linq;
<span class="keyword">using</span> GameDevTV.RTS.Utilities;

<span class="keyword">namespace</span> GameDevTV.RTS.Behavior
{
    <span class="comment">// Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±</span>
    <span class="comment">// GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±</span>
    [Serializable, GeneratePropertyBag]
    
    <span class="comment">// NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜</span>
    <span class="comment">// name: ë…¸ë“œì˜ ì´ë¦„</span>
    <span class="comment">// story: ë…¸ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ëŠ” í…ìŠ¤íŠ¸</span>
    <span class="comment">// category: ë…¸ë“œê°€ ì†í•  ì¹´í…Œê³ ë¦¬ (Action/Navigation)</span>
    <span class="comment">// id: ë…¸ë“œì˜ ê³ ìœ  ì‹ë³„ì</span>
    [NodeDescription(
        name: <span class="string">"Move to GatherableSupply"</span>, 
        story: <span class="string">"[Agent] moves to [Supply] or nearby not busy supply."</span>, 
        category: <span class="string">"Action/Navigation"</span>, 
        id: <span class="string">"b9248f874f11b1a358e671809522dbfc"</span>
    )]
    
    <span class="comment">// MoveToGatherableSupplyAction: ì§€ëŠ¥ì ì¸ ìì› ìˆ˜ì§‘ì„ ìœ„í•œ ì•¡ì…˜ ë…¸ë“œ</span>
    <span class="comment">// partial: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ íŒŒì¼ì— ë‚˜ë‰˜ì–´ ì •ì˜ë  ìˆ˜ ìˆìŒ (Unity Behavior Treeê°€ ìë™ ìƒì„±)</span>
    <span class="keyword">public partial class</span> <span class="class-name">MoveToGatherableSupplyAction</span> : <span class="class-name">Action</span>
    {
        <span class="comment">// Agent: ì´ë™í•  NavMesh Agentê°€ ìˆëŠ” GameObject</span>
        <span class="comment">// SerializeReference: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ì°¸ì¡°</span>
        <span class="comment">// BlackboardVariable: Behavior Treeì˜ Blackboardì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë³€ìˆ˜</span>
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;
        
        <span class="comment">// Supply: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherableSupply</span>&gt; <span class="property-name">Supply</span>;
        
        <span class="comment">// SearchRadius: ì£¼ë³€ ìì›ì„ ì°¾ì„ ë°˜ê²½</span>
        <span class="comment">// float: ì‹¤ìˆ˜í˜• (ë¯¸í„° ë‹¨ìœ„)</span>
        <span class="comment">// new(7f): ê¸°ë³¸ê°’ 7ë¯¸í„°ë¡œ ì´ˆê¸°í™”</span>
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">float</span>&gt; <span class="property-name">SearchRadius</span> = <span class="keyword">new</span>(<span class="number">7f</span>);

        <span class="comment">// agent: NavMesh Agent ì»´í¬ë„ŒíŠ¸ ì°¸ì¡°</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥</span>
        <span class="keyword">private</span> <span class="class-name">NavMeshAgent</span> agent;
        
        <span class="comment">// suppliesMask: Supplies ë ˆì´ì–´ ë§ˆìŠ¤í¬</span>
        <span class="comment">// LayerMask: ë ˆì´ì–´ ë§ˆìŠ¤í¬ íƒ€ì…</span>
        <span class="keyword">private</span> <span class="class-name">LayerMask</span> suppliesMask;

        <span class="comment">// OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// Status: ì•¡ì…˜ì˜ ì‹¤í–‰ ìƒíƒœ (Success, Failure, Running)</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnStart()
        {
            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out agent: ê°€ì ¸ì˜¨ NavMeshAgentë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="comment">// !: ë…¼ë¦¬ ë¶€ì • ì—°ì‚°ì (ì‹¤íŒ¨ ì‹œ true)</span>
            <span class="keyword">if</span> (!Agent.Value.TryGetComponent(<span class="keyword">out</span> agent))
            {
                <span class="comment">// Failure: NavMeshAgentê°€ ì—†ëŠ” ê²½ìš°</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Failure;
            }

            <span class="comment">// LayerMask.GetMask: "Supplies" ë ˆì´ì–´ì˜ ë§ˆìŠ¤í¬ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// ì´ë ‡ê²Œ í•˜ë©´ Supplies ë ˆì´ì–´ì— ìˆëŠ” ê°ì²´ë§Œ ê²€ì‚¬</span>
            suppliesMask = <span class="class-name">LayerMask</span>.GetMask(<span class="string">"Supplies"</span>);

            <span class="comment">// GetTargetPosition: í˜„ì¬ ìì›ì˜ ìµœì  ìœ„ì¹˜ë¥¼ ê³„ì‚°</span>
            <span class="class-name">Vector3</span> targetPosition = GetTargetPosition();

            <span class="comment">// SetDestination: NavMesh Agentì˜ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •</span>
            <span class="comment">// targetPosition: ê³„ì‚°ëœ ëª©í‘œ ìœ„ì¹˜</span>
            agent.SetDestination(targetPosition);
            
            <span class="comment">// Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
        }

        <span class="comment">// OnUpdate: ì•¡ì…˜ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë§¤ í”„ë ˆì„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnUpdate()
        {
            <span class="comment">// remainingDistance: ëª©í‘œê¹Œì§€ ë‚¨ì€ ê±°ë¦¬</span>
            <span class="comment">// stoppingDistance: ì •ì§€ ê±°ë¦¬</span>
            <span class="comment">// >=: í¬ê±°ë‚˜ ê°™ìŒ ë¹„êµ ì—°ì‚°ì</span>
            <span class="keyword">if</span> (agent.remainingDistance >= agent.stoppingDistance)
            {
                <span class="comment">// Running: ì•„ì§ ëª©í‘œì— ë„ë‹¬í•˜ì§€ ëª»í•¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
            }

            <span class="comment">// IsBusy: ìì›ì´ ë‹¤ë¥¸ Workerì— ì˜í•´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸</span>
            <span class="comment">// Amount: ìì›ì˜ ë‚¨ì€ ì–‘</span>
            <span class="comment">// !: ë…¼ë¦¬ ë¶€ì • ì—°ì‚°ì</span>
            <span class="comment">// &&: ë…¼ë¦¬ AND ì—°ì‚°ì</span>
            <span class="keyword">if</span> (!Supply.Value.IsBusy && Supply.Value.Amount > <span class="number">0</span>)
            {
                <span class="comment">// Success: ìì›ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ê³  ì–‘ì´ ë‚¨ì•„ìˆìŒ</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Success;
            }

            <span class="comment">// Physics.OverlapSphere: êµ¬ì²´ ëª¨ì–‘ì˜ ì˜ì—­ì—ì„œ Colliderë“¤ì„ ì°¾ìŒ</span>
            <span class="comment">// agent.transform.position: í˜„ì¬ NavMesh Agentì˜ ìœ„ì¹˜</span>
            <span class="comment">// SearchRadius: íƒìƒ‰ ë°˜ê²½</span>
            <span class="comment">// suppliesMask: Supplies ë ˆì´ì–´ë§Œ ê²€ì‚¬</span>
            <span class="comment">// .Where(): LINQ í™•ì¥ ë©”ì„œë“œë¡œ ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë§Œ í•„í„°ë§</span>
            <span class="comment">// .ToArray(): í•„í„°ë§ëœ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë³€í™˜</span>
            <span class="class-name">Collider</span>[] colliders = <span class="class-name">Physics</span>.OverlapSphere(
                agent.transform.position,
                SearchRadius,
                suppliesMask
            ).Where(collider => 
                    <span class="comment">// TryGetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
                    <span class="comment">// out supply: ê°€ì ¸ì˜¨ GatherableSupplyë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
                    collider.TryGetComponent(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> supply)
                    <span class="comment">// !supply.IsBusy: ìì›ì´ ì‚¬ìš© ì¤‘ì´ ì•„ë‹˜</span>
                    && !supply.IsBusy
                    <span class="comment">// supply.Supply.Equals: ê°™ì€ íƒ€ì…ì˜ ìì›ì¸ì§€ í™•ì¸</span>
                    <span class="comment">// Supply.Value.Supply: ì›ë˜ ëª©í‘œí–ˆë˜ ìì›ì˜ íƒ€ì…</span>
                    && supply.Supply.Equals(Supply.Value.Supply)
            ).ToArray();

            <span class="comment">// colliders.Length: ì°¾ì€ ìì›ì˜ ê°œìˆ˜</span>
            <span class="keyword">if</span> (colliders.Length > <span class="number">0</span>)
            {
                <span class="comment">// Array.Sort: ë°°ì—´ì„ ì •ë ¬</span>
                <span class="comment">// colliders: ì •ë ¬í•  Collider ë°°ì—´</span>
                <span class="comment">// ClosestColliderComparer: ê±°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ë¹„êµì</span>
                <span class="comment">// agent.transform.position: ê±°ë¦¬ ê³„ì‚°ì˜ ê¸°ì¤€ì </span>
                <span class="class-name">Array</span>.Sort(colliders, <span class="keyword">new</span> <span class="class-name">ClosestColliderComparer</span>(agent.transform.position));

                <span class="comment">// colliders[0]: ê°€ì¥ ê°€ê¹Œìš´ ìì› (ì •ë ¬ í›„ ì²« ë²ˆì§¸)</span>
                <span class="comment">// GetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
                <span class="comment">// Supply.Value: Blackboardì˜ Supply ë³€ìˆ˜ì— ìƒˆë¡œìš´ ìì› ì„¤ì •</span>
                Supply.Value = colliders[<span class="number">0</span>].GetComponent&lt;<span class="class-name">GatherableSupply</span>&gt;();
                
                <span class="comment">// SetDestination: ìƒˆë¡œìš´ ìì›ìœ¼ë¡œ ì´ë™</span>
                <span class="comment">// GetTargetPosition: ìƒˆë¡œìš´ ìì›ì˜ ìµœì  ìœ„ì¹˜ ê³„ì‚°</span>
                agent.SetDestination(GetTargetPosition());
                
                <span class="comment">// Running: ìƒˆë¡œìš´ ìì›ìœ¼ë¡œ ì´ë™ ì¤‘</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
            }

            <span class="comment">// Failure: ì£¼ë³€ì— ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ì´ ì—†ìŒ</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Failure;
        }

        <span class="comment">// GetTargetPosition: ìµœì ì˜ ëª©í‘œ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” private ë©”ì„œë“œ</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// Vector3: ë°˜í™˜ íƒ€ì… (3ì°¨ì› ë²¡í„°)</span>
        <span class="keyword">private</span> <span class="class-name">Vector3</span> GetTargetPosition()
        {
            <span class="comment">// targetPosition: ê³„ì‚°ë  ëª©í‘œ ìœ„ì¹˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="class-name">Vector3</span> targetPosition;
            
            <span class="comment">// TryGetComponent: Supply GameObjectì—ì„œ Collider ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out collider: ê°€ì ¸ì˜¨ Colliderë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="keyword">if</span> (Supply.Value.TryGetComponent(<span class="keyword">out</span> <span class="class-name">Collider</span> collider))
            {
                <span class="comment">// ClosestPoint: Colliderì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ê³„ì‚°</span>
                <span class="comment">// agent.transform.position: í˜„ì¬ NavMesh Agentì˜ ìœ„ì¹˜</span>
                <span class="comment">// ë°˜í™˜ê°’: Collider í‘œë©´ì—ì„œ Agentì— ê°€ì¥ ê°€ê¹Œìš´ ì§€ì </span>
                targetPosition = collider.ClosestPoint(agent.transform.position);
            }
            <span class="keyword">else</span>
            {
                <span class="comment">// Colliderê°€ ì—†ëŠ” ê²½ìš°: GameObjectì˜ transform.position ì‚¬ìš©</span>
                <span class="comment">// Supply.Value.transform.position: ìì› GameObjectì˜ ì¤‘ì‹¬ ìœ„ì¹˜</span>
                targetPosition = Supply.Value.transform.position;
            }

            <span class="comment">// ê³„ì‚°ëœ ëª©í‘œ ìœ„ì¹˜ ë°˜í™˜</span>
            <span class="keyword">return</span> targetPosition;
        }
    }
}</div>
                
                <h4>2. ClosestColliderComparer</h4>
                <p>ê±°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ Colliderë“¤ì„ ì •ë ¬í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤:</p>
                
                <div class="code-block">
<pre><code>// ClosestColliderComparer.cs - ê±°ë¦¬ ê¸°ì¤€ Collider ì •ë ¬ê¸°
// ê°€ì¥ ê°€ê¹Œìš´ ìì›ì„ ì°¾ê¸° ìœ„í•œ ë¹„êµì

using System.Collections.Generic;
using UnityEngine;

namespace GameDevTV.RTS.Utilities
{
    // ClosestColliderComparer: Colliderë“¤ì„ ê±°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” êµ¬ì¡°ì²´
    // struct: ê°’ íƒ€ì… (ë©”ëª¨ë¦¬ íš¨ìœ¨ì )
    // IComparer<Collider>: Collider ë¹„êµë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
    public struct ClosestColliderComparer : IComparer<Collider>
    {
        // targetPosition: ê±°ë¦¬ ê³„ì‚°ì˜ ê¸°ì¤€ì 
        // private: êµ¬ì¡°ì²´ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
        // Vector3: 3ì°¨ì› ë²¡í„° (x, y, z ì¢Œí‘œ)
        private Vector3 targetPosition;

        // ìƒì„±ì: ê¸°ì¤€ì ì„ ë°›ì•„ì„œ ì´ˆê¸°í™”
        // public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥
        // Vector3 position: ê±°ë¦¬ ê³„ì‚°ì˜ ê¸°ì¤€ì 
        public ClosestColliderComparer(Vector3 position)
        {
            // targetPosition: ê¸°ì¤€ì  ì €ì¥
            targetPosition = position;
        }

        // Compare: ë‘ Colliderë¥¼ ë¹„êµí•˜ëŠ” ë©”ì„œë“œ
        // public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥
        // int: ë°˜í™˜ íƒ€ì… (ìŒìˆ˜, 0, ì–‘ìˆ˜)
        // Collider x, y: ë¹„êµí•  ë‘ Collider
        public int Compare(Collider x, Collider y)
        {
            // sqrMagnitude: ë²¡í„°ì˜ ì œê³± í¬ê¸° (ê±°ë¦¬ ê³„ì‚°ì— íš¨ìœ¨ì )
            // transform.position: Colliderì˜ ìœ„ì¹˜
            // -: ë²¡í„° ë¹¼ê¸° ì—°ì‚°
            // CompareTo: ë‘ ê°’ì„ ë¹„êµí•˜ì—¬ ì •ë ¬ ìˆœì„œ ê²°ì •
            return (x.transform.position - targetPosition).sqrMagnitude
                .CompareTo((y.transform.position - targetPosition).sqrMagnitude);
        }
    }
}</code></pre>
                </div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>ì´ˆê¸° ì´ë™</strong>: ì§€ì •ëœ ìì›ìœ¼ë¡œ ì´ë™ ì‹œì‘</li>
                    <li><strong>ë„ë‹¬ í™•ì¸</strong>: ìì›ì— ë„ë‹¬í–ˆëŠ”ì§€ í™•ì¸</li>
                    <li><strong>ì‚¬ìš© ê°€ëŠ¥ì„± ì²´í¬</strong>: ìì›ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ê³  ì–‘ì´ ë‚¨ì•„ìˆëŠ”ì§€ í™•ì¸</li>
                    <li><strong>ëŒ€ì•ˆ íƒìƒ‰</strong>: ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ë©´ ì£¼ë³€ 7ë¯¸í„° ë‚´ì—ì„œ ê°™ì€ íƒ€ì…ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ìì› íƒìƒ‰</li>
                    <li><strong>ê°€ì¥ ê°€ê¹Œìš´ ìì› ì„ íƒ</strong>: ClosestColliderComparerë¡œ ê°€ì¥ ê°€ê¹Œìš´ ìì› ì„ íƒ</li>
                    <li><strong>ìƒˆë¡œìš´ ëª©í‘œë¡œ ì´ë™</strong>: ì„ íƒëœ ìì›ìœ¼ë¡œ ì´ë™</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>íš¨ìœ¨ì„± í–¥ìƒ</strong>: Workerë“¤ì´ ë” ì´ìƒ í•œ ìì›ì—ë§Œ ì§‘ì°©í•˜ì§€ ì•ŠìŒ</li>
                    <li><strong>ìë™ ë¶„ì‚°</strong>: ì—¬ëŸ¬ Workerê°€ ê°™ì€ ìì›ì„ íƒ€ê²ŸíŒ…í•´ë„ ìë™ìœ¼ë¡œ ë¶„ì‚°ë¨</li>
                    <li><strong>ëŒ€ê¸° ì‹œê°„ ë‹¨ì¶•</strong>: ë°”ìœ ìì›ì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ë¥¸ ìì›ìœ¼ë¡œ ì´ë™</li>
                    <li><strong>ìì—°ìŠ¤ëŸ¬ìš´ ë™ì‘</strong>: ì‹¤ì œ RTS ê²Œì„ê³¼ ê°™ì€ ì§€ëŠ¥ì ì¸ ìì› ìˆ˜ì§‘</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>LINQ í™œìš©</strong>: Where()ì™€ ToArray()ë¡œ íš¨ìœ¨ì ì¸ í•„í„°ë§</li>
                    <li><strong>ì»¤ìŠ¤í…€ ë¹„êµì</strong>: ClosestColliderComparerë¡œ ê±°ë¦¬ ê¸°ì¤€ ì •ë ¬</li>
                    <li><strong>LayerMask ìµœì í™”</strong>: Supplies ë ˆì´ì–´ë§Œ ê²€ì‚¬í•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ</li>
                    <li><strong>ë™ì  ëª©í‘œ ë³€ê²½</strong>: Blackboardì˜ Supply ë³€ìˆ˜ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸</li>
                </ul>
            </div>
        </div>
        
        <!-- Lecture 45: Gathering Edge Cases -->
        <div class="lecture-section">
            <h2 id="lecture-45">ê°•ì˜ 45: Gathering Edge Cases - ìì› ìˆ˜ì§‘ ì—£ì§€ ì¼€ì´ìŠ¤ í•´ê²°</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>ê¸°ì¡´ ìì› ìˆ˜ì§‘ ì‹œìŠ¤í…œì—ëŠ” ì—¬ëŸ¬ ì—£ì§€ ì¼€ì´ìŠ¤ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤. Workerê°€ ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ì¤‘ì— ìƒˆë¡œìš´ ëª…ë ¹ì„ ë°›ìœ¼ë©´ ìì›ì´ ê³„ì† "busy" ìƒíƒœë¡œ ë‚¨ì•„ìˆê±°ë‚˜, ìì›ì´ ì™„ì „íˆ ê³ ê°ˆë˜ì–´ íŒŒê´´ëœ í›„ì—ë„ ì°¸ì¡°í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ì—¬ëŸ¬ ëª…ì´ ê°™ì€ ê³¼ì ë´‰ì§€ë¥¼ ë‘ê³  ì‹¸ìš°ëŠ” ìƒí™©ì—ì„œ, í•œ ëª…ì´ ê³¼ìë¥¼ ë¨¹ê³  ìˆëŠ”ë° ë‹¤ë¥¸ ì‚¬ëŒì´ "ê·¸ë§Œ ë¨¹ì–´!"ë¼ê³  ì™¸ì¹˜ë©´, ê³¼ì ë´‰ì§€ê°€ ê³„ì† "ì‚¬ìš© ì¤‘"ì´ë¼ê³  í‘œì‹œë˜ì–´ ì•„ë¬´ë„ ë¨¹ì„ ìˆ˜ ì—†ê²Œ ë˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ì œëŠ” "ê·¸ë§Œ ë¨¹ì–´!"ë¼ê³  í•˜ë©´ ê³¼ì ë´‰ì§€ê°€ ë‹¤ì‹œ ì‚¬ìš© ê°€ëŠ¥í•´ì§€ê³ , ê³¼ìê°€ ë‹¤ ë–¨ì–´ì§€ë©´ ë´‰ì§€ê°€ ì‚¬ë¼ì ¸ë„ ë¬¸ì œì—†ì´ ë‹¤ë¥¸ ê³¼ìë¥¼ ì°¾ì„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. IGatherable ì¸í„°í˜ì´ìŠ¤ í™•ì¥</h4>
                <p>ìì› ìˆ˜ì§‘ì„ ì¤‘ë‹¨í•  ìˆ˜ ìˆëŠ” `AbortGather` ë©”ì„œë“œ ì¶”ê°€:</p>
                
                <div class="code-block">
<pre><code>// IGatherable.cs - ìì› ìˆ˜ì§‘ ì¸í„°í˜ì´ìŠ¤ í™•ì¥
// ìˆ˜ì§‘ ì¤‘ë‹¨ ê¸°ëŠ¥ ì¶”ê°€

namespace GameDevTV.RTS.Environment
{
    // IGatherable: ìˆ˜ì§‘ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤
    // interface: í´ë˜ìŠ¤ê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œë“¤ì„ ì •ì˜
    public interface IGatherable
    {
        // Supply: ìì›ì˜ íƒ€ì… (ScriptableObject)
        // SupplySO: ìì› íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ScriptableObject
        public SupplySO Supply { get; }
        
        // Amount: ìì›ì˜ ë‚¨ì€ ì–‘
        // int: ì •ìˆ˜í˜• (ìì›ì˜ ê°œìˆ˜)
        public int Amount { get; }
        
        // IsBusy: ìì›ì´ ë‹¤ë¥¸ Workerì— ì˜í•´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸
        // bool: ë¶ˆë¦°í˜• (true/false)
        public bool IsBusy { get; }

        // BeginGather: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ
        // bool: ìˆ˜ì§‘ ì‹œì‘ ì„±ê³µ ì—¬ë¶€ ë°˜í™˜
        public bool BeginGather();
        
        // EndGather: ìì› ìˆ˜ì§‘ì„ ì™„ë£Œí•˜ëŠ” ë©”ì„œë“œ
        // int: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘ ë°˜í™˜
        public int EndGather();
        
        // AbortGather: ìì› ìˆ˜ì§‘ì„ ì¤‘ë‹¨í•˜ëŠ” ë©”ì„œë“œ (ìƒˆë¡œ ì¶”ê°€)
        // void: ë°˜í™˜ê°’ ì—†ìŒ
        // ìˆ˜ì§‘ ì¤‘ë‹¨ ì‹œ ìì›ì„ í•´ì œí•˜ì§€ë§Œ ìˆ˜ì§‘ëŸ‰ì€ ì£¼ì§€ ì•ŠìŒ
        public void AbortGather();
    }
}</code></pre>
                </div>
                
                <h4>2. GatherableSupply.AbortGather êµ¬í˜„</h4>
                <p>ìì› ìˆ˜ì§‘ ì¤‘ë‹¨ ì‹œ `IsBusy` ìƒíƒœë§Œ í•´ì œí•˜ëŠ” ê°„ë‹¨í•œ êµ¬í˜„:</p>
                
                <div class="code-block">
<pre><code>// GatherableSupply.cs - ìì› ìˆ˜ì§‘ ì¤‘ë‹¨ ë©”ì„œë“œ êµ¬í˜„
// AbortGather ë©”ì„œë“œ ì¶”ê°€

using UnityEngine;

namespace GameDevTV.RTS.Environment
{
    // GatherableSupply: MonoBehaviourë¥¼ ìƒì†í•˜ê³  IGatherable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
    // MonoBehaviour: Unityì˜ ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤
    // IGatherable: ìˆ˜ì§‘ ê°€ëŠ¥í•œ ê°ì²´ ì¸í„°í˜ì´ìŠ¤
    public class GatherableSupply : MonoBehaviour, IGatherable
    {
        // Supply: ìì›ì˜ íƒ€ì… (ScriptableObject)
        // [field: SerializeField]: Unity Inspectorì—ì„œ ì„¤ì • ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±
        // get; private set;: ì™¸ë¶€ì—ì„œëŠ” ì½ê¸°ë§Œ ê°€ëŠ¥, ë‚´ë¶€ì—ì„œë§Œ ì„¤ì • ê°€ëŠ¥
        [field: SerializeField] 
        public SupplySO Supply { get; private set; }
        
        // Amount: ìì›ì˜ ë‚¨ì€ ì–‘
        [field: SerializeField] 
        public int Amount { get; private set; }
        
        // IsBusy: ìì›ì´ ë‹¤ë¥¸ Workerì— ì˜í•´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸
        [field: SerializeField] 
        public bool IsBusy { get; private set; }

        // Start: Unityì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œ (ê²Œì„ ì‹œì‘ ì‹œ í•œ ë²ˆ í˜¸ì¶œ)
        private void Start()
        {
            // Supply.MaxAmount: ScriptableObjectì—ì„œ ì •ì˜ëœ ìµœëŒ€ ìì›ëŸ‰
            // Amount: í˜„ì¬ ìì›ëŸ‰ì„ ìµœëŒ€ëŸ‰ìœ¼ë¡œ ì´ˆê¸°í™”
            Amount = Supply.MaxAmount;
        }

        // BeginGather: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ
        // bool: ìˆ˜ì§‘ ì‹œì‘ ì„±ê³µ ì—¬ë¶€ ë°˜í™˜
        public bool BeginGather()
        {
            // IsBusy: ì´ë¯¸ ë‹¤ë¥¸ Workerê°€ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸
            if (IsBusy)
            {
                // false: ìˆ˜ì§‘ ì‹œì‘ ì‹¤íŒ¨ (ì´ë¯¸ ì‚¬ìš© ì¤‘)
                return false;
            }

            // IsBusy: ìì›ì„ ì‚¬ìš© ì¤‘ìœ¼ë¡œ í‘œì‹œ
            IsBusy = true;
            
            // true: ìˆ˜ì§‘ ì‹œì‘ ì„±ê³µ
            return true;
        }

        // EndGather: ìì› ìˆ˜ì§‘ì„ ì™„ë£Œí•˜ëŠ” ë©”ì„œë“œ
        // int: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘ ë°˜í™˜
        public int EndGather()
        {
            // IsBusy: ìì› ì‚¬ìš© ìƒíƒœ í•´ì œ
            IsBusy = false;
            
            // Mathf.Min: ë‘ ê°’ ì¤‘ ì‘ì€ ê°’ ë°˜í™˜
            // Supply.AmountPerGather: í•œ ë²ˆì— ìˆ˜ì§‘í•  ìˆ˜ ìˆëŠ” ìì›ëŸ‰
            // Amount: í˜„ì¬ ë‚¨ì€ ìì›ëŸ‰
            int amountGathered = Mathf.Min(Supply.AmountPerGather, Amount);
            
            // Amount: ìˆ˜ì§‘í•œ ë§Œí¼ ìì›ëŸ‰ ê°ì†Œ
            Amount -= amountGathered;

            // Amount <= 0: ìì›ì´ ëª¨ë‘ ê³ ê°ˆëœ ê²½ìš°
            if (Amount <= 0)
            {
                // Destroy: GameObjectë¥¼ íŒŒê´´
                // gameObject: í˜„ì¬ ì»´í¬ë„ŒíŠ¸ê°€ ë¶™ì–´ìˆëŠ” GameObject
                Destroy(gameObject);
            }

            // amountGathered: ì‹¤ì œë¡œ ìˆ˜ì§‘í•œ ìì›ëŸ‰ ë°˜í™˜
            return amountGathered;
        }

        // AbortGather: ìì› ìˆ˜ì§‘ì„ ì¤‘ë‹¨í•˜ëŠ” ë©”ì„œë“œ (ìƒˆë¡œ ì¶”ê°€)
        // void: ë°˜í™˜ê°’ ì—†ìŒ
        public void AbortGather()
        {
            // IsBusy: ìì› ì‚¬ìš© ìƒíƒœë§Œ í•´ì œ
            // ìì›ëŸ‰ì€ ê°ì†Œì‹œí‚¤ì§€ ì•ŠìŒ (ìˆ˜ì§‘ ì¤‘ë‹¨ì´ë¯€ë¡œ)
            IsBusy = false;
        }
    }
}</code></pre>
                </div>
                
                <h4>3. GatherSuppliesAction ê°œì„ </h4>
                <p>`OnEnd` ë©”ì„œë“œì—ì„œ ì„±ê³µ/ì‹¤íŒ¨ì— ë”°ë¥¸ ì ì ˆí•œ ì²˜ë¦¬:</p>
                
                <div class="code-block">
<pre><code>// GatherSuppliesAction.cs - ê°œì„ ëœ ìì› ìˆ˜ì§‘ ì•¡ì…˜
// OnEnd ë©”ì„œë“œì—ì„œ ì„±ê³µ/ì‹¤íŒ¨ì— ë”°ë¥¸ ì ì ˆí•œ ì²˜ë¦¬

using GameDevTV.RTS.Environment;
using System;
using Unity.Behavior;
using UnityEngine;
using Action = Unity.Behavior.Action;
using Unity.Properties;

namespace GameDevTV.RTS.Behavior
{
    // Serializable: Unityì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ì†ì„±
    // GeneratePropertyBag: Unity Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„± ë°± ìƒì„±
    [Serializable, GeneratePropertyBag]
    
    // NodeDescription: Behavior Tree ì—ë””í„°ì—ì„œ ë…¸ë“œì˜ ì„¤ëª…ì„ ì •ì˜
    [NodeDescription(
        name: "Gather Supplies", 
        story: "[Unit] gathers [Amount] supplies from [GatherableSupplies] .", 
        category: "Action/Units", 
        id: "3b941d7ae99d1e36b7d806875379c977"
    )]
    
    // GatherSuppliesAction: ìì› ìˆ˜ì§‘ì„ ìˆ˜í–‰í•˜ëŠ” ì•¡ì…˜ ë…¸ë“œ
    public partial class GatherSuppliesAction : Action
    {
        // Unit: ìì›ì„ ìˆ˜ì§‘í•  ìœ ë‹›ì˜ GameObject
        [SerializeReference] 
        public BlackboardVariable<GameObject> Unit;
        
        // Amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘ì„ ì €ì¥í•  ë³€ìˆ˜
        [SerializeReference] 
        public BlackboardVariable<int> Amount;
        
        // GatherableSupplies: ìˆ˜ì§‘í•  ìì› ê°ì²´
        [SerializeReference] 
        public BlackboardVariable<GatherableSupply> GatherableSupplies;

        // enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„ì„ ì €ì¥í•  ë³€ìˆ˜
        // private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
        // float: ì‹¤ìˆ˜í˜• (ì‹œê°„)
        private float enterTime;

        // OnStart: ì•¡ì…˜ì´ ì‹œì‘ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
        protected override Status OnStart()
        {
            // GatherableSupplies.Value == null: ìì› ê°ì²´ê°€ ì—†ëŠ” ê²½ìš°
            if (GatherableSupplies.Value == null) 
            {
                // Failure: ìì›ì´ ì—†ìœ¼ë¯€ë¡œ ìˆ˜ì§‘ ë¶ˆê°€
                return Status.Failure;
            }
            
            // Time.time: ê²Œì„ ì‹œì‘ í›„ ê²½ê³¼ ì‹œê°„
            // enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„ ì €ì¥
            enterTime = Time.time;

            // BeginGather: ìì› ìˆ˜ì§‘ ì‹œì‘
            // GatherableSupplies.Value: ìˆ˜ì§‘í•  ìì› ê°ì²´
            GatherableSupplies.Value.BeginGather();
            
            // Running: ìˆ˜ì§‘ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘
            return Status.Running;
        }

        // OnUpdate: ì•¡ì…˜ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë§¤ í”„ë ˆì„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
        protected override Status OnUpdate()
        {
            // Supply.BaseGatherTime: ìì› íƒ€ì…ë³„ ê¸°ë³¸ ìˆ˜ì§‘ ì‹œê°„
            // enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„
            // Time.time: í˜„ì¬ ì‹œê°„
            // <=: ì‘ê±°ë‚˜ ê°™ìŒ ë¹„êµ ì—°ì‚°ì
            if (GatherableSupplies.Value.Supply.BaseGatherTime + enterTime <= Time.time)
            {
                // Success: ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë¨
                return Status.Success;
            }

            // Running: ì•„ì§ ìˆ˜ì§‘ ì¤‘
            return Status.Running;
        }

        // OnEnd: ì•¡ì…˜ì´ ì¢…ë£Œë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ (ì„±ê³µ/ì‹¤íŒ¨ ê´€ê³„ì—†ì´ í•­ìƒ í˜¸ì¶œ)
        // protected override void: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜
        protected override void OnEnd()
        {
            // GatherableSupplies.Value == null: ìì› ê°ì²´ê°€ íŒŒê´´ëœ ê²½ìš°
            if (GatherableSupplies.Value == null) 
            {
                // return: ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³  ì¢…ë£Œ
                return;
            }

            // CurrentStatus: í˜„ì¬ ì•¡ì…˜ì˜ ìƒíƒœ
            // Status.Success: ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš°
            if (CurrentStatus == Status.Success)
            {
                // EndGather: ìì› ìˆ˜ì§‘ ì™„ë£Œ ì²˜ë¦¬
                // Amount.Value: Blackboardì˜ Amount ë³€ìˆ˜ì— ìˆ˜ì§‘ëŸ‰ ì €ì¥
                Amount.Value = GatherableSupplies.Value.EndGather();
            }
            else
            {
                // AbortGather: ìì› ìˆ˜ì§‘ ì¤‘ë‹¨ ì²˜ë¦¬
                // ìƒˆë¡œìš´ ëª…ë ¹ì„ ë°›ê±°ë‚˜ ì‹¤íŒ¨í•œ ê²½ìš° ìì›ì„ í•´ì œ
                GatherableSupplies.Value.AbortGather();
            }
        }
    }
}</code></pre>
                </div>
                
                <h4>4. MoveToGatherableSupplyAction ê°•í™”</h4>
                <p>ìì›ì´ íŒŒê´´ëœ ê²½ìš°ë¥¼ ëŒ€ë¹„í•œ null ì²´í¬ì™€ ìë™ ì¬íƒ€ê²ŸíŒ…:</p>
                
                <div class="code-block">
<pre><code>// MoveToGatherableSupplyAction.cs - ê°•í™”ëœ ìì› ì´ë™ ì•¡ì…˜
// null ì²´í¬ì™€ ìë™ ì¬íƒ€ê²ŸíŒ… ê¸°ëŠ¥ ì¶”ê°€

using GameDevTV.RTS.Environment;
using System;
using Unity.Behavior;
using UnityEngine;
using Action = Unity.Behavior.Action;
using Unity.Properties;
using UnityEngine.AI;
using System.Collections.Generic;
using System.Linq;
using GameDevTV.RTS.Utilities;

namespace GameDevTV.RTS.Behavior
{
    [Serializable, GeneratePropertyBag]
    [NodeDescription(
        name: "Move to GatherableSupply", 
        story: "[Agent] moves to [Supply] or nearby not busy supply.", 
        category: "Action/Navigation", 
        id: "b9248f874f11b1a358e671809522dbfc"
    )]
    
    public partial class MoveToGatherableSupplyAction : Action
    {
        [SerializeReference] 
        public BlackboardVariable<GameObject> Agent;
        
        [SerializeReference] 
        public BlackboardVariable<GatherableSupply> Supply;
        
        [SerializeReference] 
        public BlackboardVariable<float> SearchRadius = new(7f);

        // agent: NavMesh Agent ì»´í¬ë„ŒíŠ¸ ì°¸ì¡°
        private NavMeshAgent agent;
        
        // suppliesMask: Supplies ë ˆì´ì–´ ë§ˆìŠ¤í¬
        private LayerMask suppliesMask;
        
        // supplySO: ìì› íƒ€ì…ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ (ìì›ì´ íŒŒê´´ë˜ì–´ë„ íƒ€ì… ì •ë³´ ìœ ì§€)
        private SupplySO supplySO;

        protected override Status OnStart()
        {
            // LayerMask.GetMask: "Supplies" ë ˆì´ì–´ì˜ ë§ˆìŠ¤í¬ë¥¼ ê°€ì ¸ì˜´
            suppliesMask = LayerMask.GetMask("Supplies");

            // HasValidInputs: ì…ë ¥ê°’ë“¤ì´ ìœ íš¨í•œì§€ í™•ì¸
            if (!HasValidInputs())
            {
                // Failure: ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥
                return Status.Failure;
            }

            // GetTargetPosition: í˜„ì¬ ìì›ì˜ ìµœì  ìœ„ì¹˜ë¥¼ ê³„ì‚°
            Vector3 targetPosition = GetTargetPosition();

            // SetDestination: NavMesh Agentì˜ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •
            agent.SetDestination(targetPosition);
            
            // Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘
            return Status.Running;
        }

        protected override Status OnUpdate()
        {
            // remainingDistance: ëª©í‘œê¹Œì§€ ë‚¨ì€ ê±°ë¦¬
            // stoppingDistance: ì •ì§€ ê±°ë¦¬
            if (agent.remainingDistance >= agent.stoppingDistance)
            {
                // Running: ì•„ì§ ëª©í‘œì— ë„ë‹¬í•˜ì§€ ëª»í•¨
                return Status.Running;
            }

            // Supply.Value != null: ìì› ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°
            // !Supply.Value.IsBusy: ìì›ì´ ì‚¬ìš© ì¤‘ì´ ì•„ë‹˜
            // Supply.Value.Amount > 0: ìì›ì˜ ì–‘ì´ ë‚¨ì•„ìˆìŒ
            if (Supply.Value != null && 
                !Supply.Value.IsBusy && 
                Supply.Value.Amount > 0)
            {
                // Success: ìì›ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ê³  ì–‘ì´ ë‚¨ì•„ìˆìŒ
                return Status.Success;
            }
            
            // FindNearbyNotBusyColliders: ì£¼ë³€ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ë“¤ì„ ì°¾ìŒ
            Collider[] colliders = FindNearbyNotBusyColliders();

            // colliders.Length > 0: ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ì´ ìˆëŠ” ê²½ìš°
            if (colliders.Length > 0)
            {
                // Array.Sort: ê±°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
                // ClosestColliderComparer: ê±°ë¦¬ ë¹„êµì
                Array.Sort(colliders, new ClosestColliderComparer(agent.transform.position));

                // colliders[0]: ê°€ì¥ ê°€ê¹Œìš´ ìì›
                // GetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
                // Supply.Value: Blackboardì˜ Supply ë³€ìˆ˜ì— ìƒˆë¡œìš´ ìì› ì„¤ì •
                Supply.Value = colliders[0].GetComponent<GatherableSupply>();
                
                // SetDestination: ìƒˆë¡œìš´ ìì›ìœ¼ë¡œ ì´ë™
                agent.SetDestination(GetTargetPosition());
                
                // Running: ìƒˆë¡œìš´ ìì›ìœ¼ë¡œ ì´ë™ ì¤‘
                return Status.Running;
            }

            // Failure: ì£¼ë³€ì— ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ì´ ì—†ìŒ
            return Status.Failure;
        }

        // HasValidInputs: ì…ë ¥ê°’ë“¤ì´ ìœ íš¨í•œì§€ í™•ì¸í•˜ëŠ” private ë©”ì„œë“œ
        private bool HasValidInputs()
        {
            // TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
            // Supply.Value == null && supplySO == null: ìì› ê°ì²´ë„ ì—†ê³  íƒ€ì… ì •ë³´ë„ ì—†ëŠ” ê²½ìš°
            if (!Agent.Value.TryGetComponent(out agent) || 
                (Supply.Value == null && supplySO == null))
            {
                // false: ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥
                return false;
            }

            // Supply.Value != null: ìì› ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°
            if (Supply.Value != null)
            {
                // supplySO: ìì› íƒ€ì… ì •ë³´ ì €ì¥ (ìì›ì´ íŒŒê´´ë˜ì–´ë„ íƒ€ì… ì •ë³´ ìœ ì§€)
                supplySO = Supply.Value.Supply;
            }
            else
            {
                // FindNearbyNotBusyColliders: ì£¼ë³€ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ë“¤ì„ ì°¾ìŒ
                Collider[] colliders = FindNearbyNotBusyColliders();
                
                // colliders.Length > 0: ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ì´ ìˆëŠ” ê²½ìš°
                if (colliders.Length > 0)
                {
                    // Array.Sort: ê±°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
                    Array.Sort(colliders, new ClosestColliderComparer(agent.transform.position));
                    
                    // colliders[0]: ê°€ì¥ ê°€ê¹Œìš´ ìì›
                    // GetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
                    Supply.Value = colliders[0].GetComponent<GatherableSupply>();
                }
                else
                {
                    // false: ì£¼ë³€ì— ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ì´ ì—†ìŒ
                    return false;
                }
            }

            // true: ëª¨ë“  ì…ë ¥ì´ ìœ íš¨í•¨
            return true;
        }

        // FindNearbyNotBusyColliders: ì£¼ë³€ì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ìì›ë“¤ì„ ì°¾ëŠ” private ë©”ì„œë“œ
        private Collider[] FindNearbyNotBusyColliders()
        {
            // Physics.OverlapSphere: êµ¬ì²´ ëª¨ì–‘ì˜ ì˜ì—­ì—ì„œ Colliderë“¤ì„ ì°¾ìŒ
            // .Where(): LINQ í™•ì¥ ë©”ì„œë“œë¡œ ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë§Œ í•„í„°ë§
            // .ToArray(): í•„í„°ë§ëœ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë³€í™˜
            return Physics.OverlapSphere(
                agent.transform.position,
                SearchRadius,
                suppliesMask
            ).Where(collider =>
                    // TryGetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
                    collider.TryGetComponent(out GatherableSupply supply)
                    // !supply.IsBusy: ìì›ì´ ì‚¬ìš© ì¤‘ì´ ì•„ë‹˜
                    && !supply.IsBusy
                    // supply.Supply.Equals: ê°™ì€ íƒ€ì…ì˜ ìì›ì¸ì§€ í™•ì¸
                    // supplySO: ì €ì¥ëœ ìì› íƒ€ì… ì •ë³´
                    && supply.Supply.Equals(supplySO)
            ).ToArray();
        }

        // GetTargetPosition: ìµœì ì˜ ëª©í‘œ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” private ë©”ì„œë“œ
        private Vector3 GetTargetPosition()
        {
            // targetPosition: ê³„ì‚°ë  ëª©í‘œ ìœ„ì¹˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜
            Vector3 targetPosition;
            
            // TryGetComponent: Supply GameObjectì—ì„œ Collider ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
            if (Supply.Value.TryGetComponent(out Collider collider))
            {
                // ClosestPoint: Colliderì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì§€ì ì„ ê³„ì‚°
                targetPosition = collider.ClosestPoint(agent.transform.position);
            }
            else
            {
                // Colliderê°€ ì—†ëŠ” ê²½ìš°: GameObjectì˜ transform.position ì‚¬ìš©
                targetPosition = Supply.Value.transform.position;
            }

            // ê³„ì‚°ëœ ëª©í‘œ ìœ„ì¹˜ ë°˜í™˜
            return targetPosition;
        }
    }
}</code></pre>
                </div>
                
                <h4>5. MoveToTargetGameObjectAction ë³´í˜¸</h4>
                <p>ê°„ë‹¨í•œ null ì²´í¬ë¡œ GameObject íŒŒê´´ ìƒí™© ëŒ€ë¹„:</p>
                
                <div class="code-block">
<pre><code>// MoveToTargetGameObjectAction.cs - null ì²´í¬ ì¶”ê°€
// GameObject íŒŒê´´ ìƒí™© ëŒ€ë¹„

protected override Status OnStart()
{
    // TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´
    // TargetGameObject.Value == null: ëª©í‘œ GameObjectê°€ íŒŒê´´ëœ ê²½ìš°
    if (!Agent.Value.TryGetComponent(out agent) || 
        TargetGameObject.Value == null)
    {
        // Failure: NavMeshAgentê°€ ì—†ê±°ë‚˜ ëª©í‘œ GameObjectê°€ íŒŒê´´ë¨
        return Status.Failure;
    }

    // GetTargetPosition: ëª©í‘œ GameObjectì˜ ìµœì  ìœ„ì¹˜ë¥¼ ê³„ì‚°
    Vector3 targetPosition = GetTargetPosition();

    // Vector3.Distance: ë‘ ì  ì‚¬ì´ì˜ ê±°ë¦¬ ê³„ì‚°
    // agent.stoppingDistance: NavMesh Agentì˜ ì •ì§€ ê±°ë¦¬
    if (Vector3.Distance(agent.transform.position, targetPosition) <= agent.stoppingDistance)
    {
        // Success: ì´ë¯¸ ëª©í‘œ ìœ„ì¹˜ì— ë„ë‹¬í•œ ê²½ìš°
        return Status.Success;
    }

    // SetDestination: NavMesh Agentì˜ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •
    agent.SetDestination(targetPosition);
    
    // Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘
    return Status.Running;
}</code></pre>
                </div>
                
                <h3>ğŸ”„ í•´ê²°ëœ ì—£ì§€ ì¼€ì´ìŠ¤ë“¤</h3>
                <ol>
                    <li><strong>ëª…ë ¹ ë³€ê²½ ì‹œ ìì› ì ê¸ˆ</strong>: `AbortGather`ë¡œ ìì›ì„ ì¦‰ì‹œ í•´ì œ</li>
                    <li><strong>ìì› íŒŒê´´ í›„ ì°¸ì¡°</strong>: null ì²´í¬ë¡œ ì•ˆì „í•œ ì²˜ë¦¬</li>
                    <li><strong>ìì› ê³ ê°ˆ ì‹œ ëŒ€ì•ˆ íƒìƒ‰</strong>: ìë™ìœ¼ë¡œ ì£¼ë³€ ìì› ì¬íƒìƒ‰</li>
                    <li><strong>íƒ€ì… ì •ë³´ ìœ ì§€</strong>: `supplySO` ë³€ìˆ˜ë¡œ ìì› íƒ€ì… ë³´ì¡´</li>
                    <li><strong>ìš°ì„ ìˆœìœ„ ì¡°ì •</strong>: Gather ëª…ë ¹ì´ Move ëª…ë ¹ë³´ë‹¤ ìš°ì„ </li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ì•ˆì •ì„± í–¥ìƒ</strong>: null ì°¸ì¡° ì˜ˆì™¸ ì—†ì´ ì•ˆì „í•œ ë™ì‘</li>
                    <li><strong>ì‚¬ìš©ì ê²½í—˜ ê°œì„ </strong>: ìš°í´ë¦­ìœ¼ë¡œ ë°”ë¡œ ìì› ìˆ˜ì§‘ ê°€ëŠ¥</li>
                    <li><strong>ìë™ ë³µêµ¬</strong>: ìì›ì´ ê³ ê°ˆë˜ì–´ë„ ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ìì› íƒìƒ‰</li>
                    <li><strong>ëª…ë ¹ ì¤‘ë‹¨ ì²˜ë¦¬</strong>: ìƒˆë¡œìš´ ëª…ë ¹ ì‹œ ì´ì „ ìì›ì„ ì•ˆì „í•˜ê²Œ í•´ì œ</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>OnEnd ë³´ì¥</strong>: Behavior Treeì˜ OnEndëŠ” í•­ìƒ í˜¸ì¶œë¨</li>
                    <li><strong>ìƒíƒœ ê¸°ë°˜ ì²˜ë¦¬</strong>: CurrentStatusì— ë”°ë¥¸ ì„±ê³µ/ì‹¤íŒ¨ êµ¬ë¶„</li>
                    <li><strong>íƒ€ì… ì •ë³´ ìºì‹±</strong>: ìì› íŒŒê´´ í›„ì—ë„ íƒ€ì… ì •ë³´ ìœ ì§€</li>
                    <li><strong>ìë™ ì¬íƒ€ê²ŸíŒ…</strong>: ìì›ì´ ì—†ì–´ì§€ë©´ ì£¼ë³€ ìì› ìë™ íƒìƒ‰</li>
                    <li><strong>Guardian Pattern</strong>: null ì²´í¬ë¡œ ì•ˆì „í•œ ì²˜ë¦¬</li>
                </ul>
            </div>
        </div>
        
        <!-- Lecture 46: Animation Synchronization -->
        <div class="lecture-section">
            <h2 id="lecture-46">ê°•ì˜ 46: Animation Synchronization - ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>ê¸°ì¡´ ì‹œìŠ¤í…œì—ì„œëŠ” Workerë“¤ì´ ì›€ì§ì´ê³  ìì›ì„ ìˆ˜ì§‘í•  ë•Œ ì• ë‹ˆë©”ì´ì…˜ì´ ì œëŒ€ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. RTS ê²Œì„ì—ì„œëŠ” ë§ì€ ìœ ë‹›ë“¤ì´ ë™ì‹œì— ì›€ì§ì´ë¯€ë¡œ ì„±ëŠ¥ì„ ê³ ë ¤í•œ íš¨ìœ¨ì ì¸ ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ì—°ê·¹ì—ì„œ ë°°ìš°ë“¤ì´ ëŒ€ì‚¬ë§Œ í•˜ê³  ëª¸ì§“ì€ í•˜ì§€ ì•ŠëŠ” ê²ƒê³¼ ê°™ì•„ìš”! ì´ì œëŠ” Workerë“¤ì´ ì‹¤ì œë¡œ ë›°ì–´ë‹¤ë‹ˆê³  ìì›ì„ ìºëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë§ˆì¹˜ ì‹¤ì œ ì‚¬ëŒì²˜ëŸ¼ ê±¸ì„ ë•ŒëŠ” ê±·ëŠ” ì• ë‹ˆë©”ì´ì…˜, ë›¸ ë•ŒëŠ” ë›°ëŠ” ì• ë‹ˆë©”ì´ì…˜, ì¼í•  ë•ŒëŠ” ì¼í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ë³´ì—¬ì¤˜ìš”!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. AnimationConstants ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤</h4>
                <p>ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° í•´ì‹œë¥¼ ìºì‹±í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”:</p>
                
                <div class="code-block">
<span class="comment">// AnimationConstants.cs - ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ìƒìˆ˜</span>
<span class="comment">// ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í•´ì‹œ ìºì‹±</span>

<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> GameDevTV.RTS.Utilities
{
    <span class="comment">// AnimationConstants: ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° í•´ì‹œë¥¼ ìºì‹±í•˜ëŠ” ì •ì  í´ë˜ìŠ¤</span>
    <span class="comment">// static: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ ì§ì ‘ ì ‘ê·¼</span>
    <span class="comment">// public: ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥</span>
    <span class="keyword">public static class</span> <span class="class-name">AnimationConstants</span>
    {
        <span class="comment">// SPEED: ì´ë™ ì†ë„ ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„°</span>
        <span class="comment">// public static int: ì •ì  ì •ìˆ˜ ë³€ìˆ˜ (ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µìœ )</span>
        <span class="comment">// Animator.StringToHash: ë¬¸ìì—´ì„ ì •ìˆ˜ í•´ì‹œë¡œ ë³€í™˜ (ì„±ëŠ¥ ìµœì í™”)</span>
        <span class="comment">// "Speed": Animator Controllerì—ì„œ ì •ì˜ëœ íŒŒë¼ë¯¸í„° ì´ë¦„</span>
        <span class="keyword">public static int</span> <span class="property-name">SPEED</span> = <span class="class-name">Animator</span>.StringToHash(<span class="string">"Speed"</span>);
        
        <span class="comment">// IS_GATHERING: ìì› ìˆ˜ì§‘ ìƒíƒœ ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„°</span>
        <span class="comment">// "IsGathering": Animator Controllerì—ì„œ ì •ì˜ëœ ë¶ˆë¦° íŒŒë¼ë¯¸í„° ì´ë¦„</span>
        <span class="keyword">public static int</span> <span class="property-name">IS_GATHERING</span> = <span class="class-name">Animator</span>.StringToHash(<span class="string">"IsGathering"</span>);
    }
}</div>
                
                <h4>2. MoveToTargetLocationAction ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”</h4>
                <p>ì´ë™ ì•¡ì…˜ì—ì„œ ì†ë„ ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ ì œì–´:</p>
                
                <div class="code-block">
<span class="comment">// MoveToTargetLocationAction.cs - ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”ê°€ ì¶”ê°€ëœ ì´ë™ ì•¡ì…˜</span>
<span class="comment">// NavMesh Agentì˜ ì†ë„ì— ë”°ë¥¸ ì• ë‹ˆë©”ì´ì…˜ ì œì–´</span>

<span class="keyword">using</span> System;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> Action = Unity.Behavior.Action;
<span class="keyword">using</span> Unity.Properties;
<span class="keyword">using</span> UnityEngine.AI;
<span class="keyword">using</span> GameDevTV.RTS.Utilities;

<span class="keyword">namespace</span> GameDevTV.RTS.Behavior
{
    [Serializable, GeneratePropertyBag]
    [NodeDescription(
        name: <span class="string">"Move to Target Location"</span>, 
        story: <span class="string">"[Agent] moves to [TargetLocation] ."</span>, 
        category: <span class="string">"Action/Navigation"</span>, 
        id: <span class="string">"c96373f56a4b683d189e362795d042fa"</span>
    )]
    
    <span class="keyword">public partial class</span> <span class="class-name">MoveToTargetLocationAction</span> : <span class="class-name">Action</span>
    {
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Agent</span>;
        
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">Vector3</span>&gt; <span class="property-name">TargetLocation</span>;

        <span class="comment">// agent: NavMesh Agent ì»´í¬ë„ŒíŠ¸ ì°¸ì¡°</span>
        <span class="keyword">private</span> <span class="class-name">NavMeshAgent</span> agent;
        
        <span class="comment">// animator: Animator ì»´í¬ë„ŒíŠ¸ ì°¸ì¡° (ìƒˆë¡œ ì¶”ê°€)</span>
        <span class="keyword">private</span> <span class="class-name">Animator</span> animator;

        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnStart()
        {
            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ NavMeshAgent ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="keyword">if</span> (!Agent.Value.TryGetComponent(<span class="keyword">out</span> agent))
            {
                <span class="comment">// Failure: NavMeshAgentê°€ ì—†ëŠ” ê²½ìš°</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Failure;
            }

            <span class="comment">// TryGetComponent: Agent GameObjectì—ì„œ Animator ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// Animatorê°€ ì—†ì–´ë„ ì•¡ì…˜ì€ ì‹¤íŒ¨í•˜ì§€ ì•ŠìŒ (ì• ë‹ˆë©”ì´ì…˜ë§Œ ì—†ì„ ë¿)</span>
            Agent.Value.TryGetComponent(<span class="keyword">out</span> animator);

            <span class="comment">// Vector3.Distance: ë‘ ì  ì‚¬ì´ì˜ ê±°ë¦¬ ê³„ì‚°</span>
            <span class="comment">// agent.stoppingDistance: NavMesh Agentì˜ ì •ì§€ ê±°ë¦¬</span>
            <span class="keyword">if</span> (<span class="class-name">Vector3</span>.Distance(agent.transform.position, TargetLocation.Value) <= agent.stoppingDistance)
            {
                <span class="comment">// Success: ì´ë¯¸ ëª©í‘œ ìœ„ì¹˜ì— ë„ë‹¬í•œ ê²½ìš°</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Success;
            }

            <span class="comment">// SetDestination: NavMesh Agentì˜ ëª©í‘œ ìœ„ì¹˜ ì„¤ì •</span>
            agent.SetDestination(TargetLocation.Value);

            <span class="comment">// Running: ì´ë™ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
        }

        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnUpdate()
        {
            <span class="comment">// animator != null: Animator ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” ê²½ìš°</span>
            <span class="keyword">if</span> (animator != <span class="keyword">null</span>)
            {
                <span class="comment">// SetFloat: Animatorì˜ float íŒŒë¼ë¯¸í„° ì„¤ì •</span>
                <span class="comment">// AnimationConstants.SPEED: ìºì‹±ëœ í•´ì‹œ ê°’ (ì„±ëŠ¥ ìµœì í™”)</span>
                <span class="comment">// agent.velocity.magnitude: NavMesh Agentì˜ í˜„ì¬ ì†ë„ í¬ê¸°</span>
                animator.SetFloat(<span class="class-name">AnimationConstants</span>.SPEED, agent.velocity.magnitude);
            }
            
            <span class="comment">// remainingDistance: ëª©í‘œê¹Œì§€ ë‚¨ì€ ê±°ë¦¬</span>
            <span class="comment">// stoppingDistance: ì •ì§€ ê±°ë¦¬</span>
            <span class="keyword">if</span> (agent.remainingDistance <= agent.stoppingDistance)
            {
                <span class="comment">// Success: ëª©í‘œ ìœ„ì¹˜ì— ë„ë‹¬í•¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Success;
            }

            <span class="comment">// Running: ì•„ì§ ì´ë™ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
        }

        <span class="comment">// OnEnd: ì•¡ì…˜ì´ ì¢…ë£Œë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ</span>
        <span class="keyword">protected override void</span> OnEnd()
        {
            <span class="comment">// animator != null: Animator ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” ê²½ìš°</span>
            <span class="keyword">if</span> (animator != <span class="keyword">null</span>)
            {
                <span class="comment">// SetFloat: ì†ë„ë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ Idle ìƒíƒœë¡œ ì „í™˜</span>
                <span class="comment">// ì•¡ì…˜ ì¢…ë£Œ ì‹œ ì• ë‹ˆë©”ì´ì…˜ì„ ì •ì§€ ìƒíƒœë¡œ ë¦¬ì…‹</span>
                animator.SetFloat(<span class="class-name">AnimationConstants</span>.SPEED, <span class="number">0</span>);
            }
        }
    }
}</div>
                
                <h4>3. GatherSuppliesAction ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”</h4>
                <p>ìì› ìˆ˜ì§‘ ì•¡ì…˜ì—ì„œ ìˆ˜ì§‘ ìƒíƒœ ì• ë‹ˆë©”ì´ì…˜ ì œì–´:</p>
                
                <div class="code-block">
<span class="comment">// GatherSuppliesAction.cs - ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”ê°€ ì¶”ê°€ëœ ìì› ìˆ˜ì§‘ ì•¡ì…˜</span>
<span class="comment">// ìˆ˜ì§‘ ìƒíƒœì— ë”°ë¥¸ ì• ë‹ˆë©”ì´ì…˜ ì œì–´</span>

<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> System;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> Action = Unity.Behavior.Action;
<span class="keyword">using</span> Unity.Properties;
<span class="keyword">using</span> GameDevTV.RTS.Utilities;

<span class="keyword">namespace</span> GameDevTV.RTS.Behavior
{
    [Serializable, GeneratePropertyBag]
    [NodeDescription(
        name: <span class="string">"Gather Supplies"</span>, 
        story: <span class="string">"[Unit] gathers [Amount] supplies from [GatherableSupplies] ."</span>, 
        category: <span class="string">"Action/Units"</span>, 
        id: <span class="string">"3b941d7ae99d1e36b7d806875379c977"</span>
    )]
    
    <span class="keyword">public partial class</span> <span class="class-name">GatherSuppliesAction</span> : <span class="class-name">Action</span>
    {
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; <span class="property-name">Unit</span>;
        
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; <span class="property-name">Amount</span>;
        
        [SerializeReference] 
        <span class="keyword">public</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherableSupply</span>&gt; <span class="property-name">GatherableSupplies</span>;

        <span class="comment">// animator: Animator ì»´í¬ë„ŒíŠ¸ ì°¸ì¡° (ìƒˆë¡œ ì¶”ê°€)</span>
        <span class="keyword">private</span> <span class="class-name">Animator</span> animator;
        
        <span class="comment">// enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„ì„ ì €ì¥í•  ë³€ìˆ˜</span>
        <span class="keyword">private</span> <span class="keyword">float</span> enterTime;

        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnStart()
        {
            <span class="comment">// GatherableSupplies.Value == null: ìì› ê°ì²´ê°€ ì—†ëŠ” ê²½ìš°</span>
            <span class="keyword">if</span> (GatherableSupplies.Value == <span class="keyword">null</span>) 
            {
                <span class="comment">// Failure: ìì›ì´ ì—†ìœ¼ë¯€ë¡œ ìˆ˜ì§‘ ë¶ˆê°€</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Failure;
            }
            
            <span class="comment">// Time.time: ê²Œì„ ì‹œì‘ í›„ ê²½ê³¼ ì‹œê°„</span>
            <span class="comment">// enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„ ì €ì¥</span>
            enterTime = <span class="class-name">Time</span>.time;

            <span class="comment">// TryGetComponent: Unit GameObjectì—ì„œ Animator ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="keyword">if</span> (Unit.Value.TryGetComponent(<span class="keyword">out</span> animator))
            {
                <span class="comment">// SetBool: Animatorì˜ bool íŒŒë¼ë¯¸í„° ì„¤ì •</span>
                <span class="comment">// AnimationConstants.IS_GATHERING: ìºì‹±ëœ í•´ì‹œ ê°’</span>
                <span class="comment">// true: ìˆ˜ì§‘ ìƒíƒœë¡œ ì• ë‹ˆë©”ì´ì…˜ ì „í™˜</span>
                animator.SetBool(<span class="class-name">AnimationConstants</span>.IS_GATHERING, <span class="keyword">true</span>);
            }
            
            <span class="comment">// BeginGather: ìì› ìˆ˜ì§‘ ì‹œì‘</span>
            GatherableSupplies.Value.BeginGather();
            
            <span class="comment">// Running: ìˆ˜ì§‘ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ ê³„ì† ì‹¤í–‰ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
        }

        <span class="keyword">protected override</span> <span class="class-name">Status</span> OnUpdate()
        {
            <span class="comment">// Supply.BaseGatherTime: ìì› íƒ€ì…ë³„ ê¸°ë³¸ ìˆ˜ì§‘ ì‹œê°„</span>
            <span class="comment">// enterTime: ìˆ˜ì§‘ ì‹œì‘ ì‹œê°„</span>
            <span class="comment">// Time.time: í˜„ì¬ ì‹œê°„</span>
            <span class="keyword">if</span> (GatherableSupplies.Value.Supply.BaseGatherTime + enterTime <= <span class="class-name">Time</span>.time)
            {
                <span class="comment">// Success: ìˆ˜ì§‘ ì‹œê°„ì´ ì™„ë£Œë¨</span>
                <span class="keyword">return</span> <span class="class-name">Status</span>.Success;
            }

            <span class="comment">// Running: ì•„ì§ ìˆ˜ì§‘ ì¤‘</span>
            <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
        }

        <span class="keyword">protected override void</span> OnEnd()
        {
            <span class="comment">// animator != null: Animator ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” ê²½ìš°</span>
            <span class="keyword">if</span> (animator != <span class="keyword">null</span>)
            {
                <span class="comment">// SetBool: ìˆ˜ì§‘ ìƒíƒœë¥¼ falseë¡œ ì„¤ì •í•˜ì—¬ ì¼ë°˜ ìƒíƒœë¡œ ì „í™˜</span>
                <span class="comment">// ì•¡ì…˜ ì¢…ë£Œ ì‹œ ì• ë‹ˆë©”ì´ì…˜ì„ ì •ì§€ ìƒíƒœë¡œ ë¦¬ì…‹</span>
                animator.SetBool(<span class="class-name">AnimationConstants</span>.IS_GATHERING, <span class="keyword">false</span>);
            }

            <span class="comment">// GatherableSupplies.Value == null: ìì› ê°ì²´ê°€ íŒŒê´´ëœ ê²½ìš°</span>
            <span class="keyword">if</span> (GatherableSupplies.Value == <span class="keyword">null</span>) 
            {
                <span class="comment">// return: ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³  ì¢…ë£Œ</span>
                <span class="keyword">return</span>;
            }

            <span class="comment">// CurrentStatus: í˜„ì¬ ì•¡ì…˜ì˜ ìƒíƒœ</span>
            <span class="comment">// Status.Success: ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš°</span>
            <span class="keyword">if</span> (CurrentStatus == <span class="class-name">Status</span>.Success)
            {
                <span class="comment">// EndGather: ìì› ìˆ˜ì§‘ ì™„ë£Œ ì²˜ë¦¬</span>
                <span class="comment">// Amount.Value: Blackboardì˜ Amount ë³€ìˆ˜ì— ìˆ˜ì§‘ëŸ‰ ì €ì¥</span>
                Amount.Value = GatherableSupplies.Value.EndGather();
            }
            <span class="keyword">else</span>
            {
                <span class="comment">// AbortGather: ìì› ìˆ˜ì§‘ ì¤‘ë‹¨ ì²˜ë¦¬</span>
                <span class="comment">// ìƒˆë¡œìš´ ëª…ë ¹ì„ ë°›ê±°ë‚˜ ì‹¤íŒ¨í•œ ê²½ìš° ìì›ì„ í•´ì œ</span>
                GatherableSupplies.Value.AbortGather();
            }
        }
    }
}</div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>ì´ë™ ì‹œì‘</strong>: `MoveToTargetLocationAction`ì—ì„œ `agent.velocity.magnitude`ë¡œ ì†ë„ ì„¤ì •</li>
                    <li><strong>ì´ë™ ì¤‘</strong>: ë§¤ í”„ë ˆì„ë§ˆë‹¤ í˜„ì¬ ì†ë„ì— ë”°ë¼ ê±·ê¸°/ë›°ê¸° ì• ë‹ˆë©”ì´ì…˜ ì „í™˜</li>
                    <li><strong>ì´ë™ ì™„ë£Œ</strong>: `OnEnd`ì—ì„œ ì†ë„ë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ Idle ìƒíƒœë¡œ ì „í™˜</li>
                    <li><strong>ìˆ˜ì§‘ ì‹œì‘</strong>: `GatherSuppliesAction`ì—ì„œ `IsGathering = true`ë¡œ ìˆ˜ì§‘ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘</li>
                    <li><strong>ìˆ˜ì§‘ ì™„ë£Œ</strong>: `OnEnd`ì—ì„œ `IsGathering = false`ë¡œ ì¼ë°˜ ìƒíƒœë¡œ ì „í™˜</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ì‹œê°ì  í”¼ë“œë°±</strong>: Workerë“¤ì´ ì‹¤ì œë¡œ ì›€ì§ì´ê³  ì¼í•˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤Œ</li>
                    <li><strong>ìƒíƒœ êµ¬ë¶„</strong>: ì´ë™, ìˆ˜ì§‘, ëŒ€ê¸° ìƒíƒœë¥¼ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ëª…í™•íˆ êµ¬ë¶„</li>
                    <li><strong>ìì—°ìŠ¤ëŸ¬ìš´ ë™ì‘</strong>: ì†ë„ì— ë”°ë¥¸ ê±·ê¸°/ë›°ê¸° ì „í™˜ì´ ìì—°ìŠ¤ëŸ¬ì›€</li>
                    <li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: Update ë£¨í”„ ì—†ì´ Behavior Tree ì•¡ì…˜ì—ì„œë§Œ ì• ë‹ˆë©”ì´ì…˜ ì œì–´</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: `Animator.StringToHash`ë¡œ í•´ì‹œ ìºì‹±í•˜ì—¬ ë¬¸ìì—´ ë¹„êµ ë¹„ìš© ì œê±°</li>
                    <li><strong>Behavior Tree í†µí•©</strong>: ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ì„ Behavior Tree ì•¡ì…˜ì— í†µí•©</li>
                    <li><strong>Update ë£¨í”„ ì œê±°</strong>: MonoBehaviour Update ì—†ì´ ì•¡ì…˜ ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ ì œì–´</li>
                    <li><strong>ì•ˆì „í•œ ì²˜ë¦¬</strong>: Animatorê°€ ì—†ì–´ë„ ì•¡ì…˜ì€ ì •ìƒ ë™ì‘</li>
                    <li><strong>ìƒíƒœ ê´€ë¦¬</strong>: `OnEnd`ì—ì„œ ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë¦¬ì…‹</li>
                </ul>
                
                <h3>ğŸ“Š ì„±ëŠ¥ ë¹„êµ</h3>
                <div class="info-box">
                    <h4>ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ</h4>
                    <ul>
                        <li><strong>ê¸°ì¡´ ë°©ì‹</strong>: ê° ìœ ë‹›ë§ˆë‹¤ Update ë£¨í”„ì—ì„œ ì• ë‹ˆë©”ì´ì…˜ íŒŒë¼ë¯¸í„° ì„¤ì •</li>
                        <li><strong>ê°œì„ ëœ ë°©ì‹</strong>: Behavior Tree ì•¡ì…˜ì—ì„œë§Œ í•„ìš”í•  ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì œì–´</li>
                        <li><strong>í•´ì‹œ ìºì‹±</strong>: `StringToHash`ë¡œ ë¬¸ìì—´ ë¹„êµ ë¹„ìš© ì œê±°</li>
                        <li><strong>ì¡°ê±´ë¶€ ì‹¤í–‰</strong>: Animatorê°€ ìˆì„ ë•Œë§Œ ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ ì‹¤í–‰</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Lecture 47: Behavior Events -->
        <div class="lecture-section">
            <h2 id="lecture-47">ê°•ì˜ 47: Behavior Events - Behavior Tree ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>ê¸°ì¡´ ì‹œìŠ¤í…œì—ì„œëŠ” Workerê°€ ìì›ì„ ìˆ˜ì§‘í•´ë„ ì‹¤ì œë¡œ í”Œë ˆì´ì–´ì—ê²Œ ìì›ì´ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. Behavior Tree ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ê³¼ ê²Œì„ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„(UI, ìì› ì €ì¥ì†Œ ë“±)ì„ ì—°ê²°í•˜ê¸° ìœ„í•´ Behavior Events ì‹œìŠ¤í…œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ìš°ì²´ë¶€ê°€ í¸ì§€ë¥¼ ë°°ë‹¬í•˜ëŠ” ê²ƒê³¼ ê°™ì•„ìš”! Workerê°€ ìì›ì„ ìˆ˜ì§‘í•˜ë©´ "í¸ì§€(ì´ë²¤íŠ¸)"ë¥¼ ë³´ë‚´ì„œ "ìš°ì²´ë¶€(Behavior Events)"ê°€ ê²Œì„ì˜ ë‹¤ë¥¸ ë¶€ë¶„ë“¤ì—ê²Œ "ìì›ì„ ìˆ˜ì§‘í–ˆì–´ìš”!"ë¼ê³  ì•Œë ¤ì¤ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ UIê°€ ì—…ë°ì´íŠ¸ë˜ê³  í”Œë ˆì´ì–´ì˜ ìì› ì €ì¥ì†Œì— ìì›ì´ ì¶”ê°€ë¼ìš”!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. GatherSuppliesEventChannel</h4>
                <p>Behavior Treeì—ì„œ ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ëŠ” ì´ë²¤íŠ¸ ì±„ë„:</p>
                
                <div class="code-block">
<span class="comment">// GatherSuppliesEventChannel.cs - Behavior Tree ì´ë²¤íŠ¸ ì±„ë„</span>
<span class="comment">// Behavior Treeì™€ ê²Œì„ ì½”ë“œ ê°„ì˜ í†µì‹ ì„ ìœ„í•œ ë¸ë¦¬ê²Œì´íŠ¸ ì‹œìŠ¤í…œ</span>

<span class="keyword">using</span> System;
<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> Unity.Properties;

<span class="keyword">namespace</span> GameDevTV.RTS.Behavior
{
    <span class="comment">// CreateAssetMenu: Unity ì—ë””í„°ì—ì„œ ìƒì„± ê°€ëŠ¥í•œ ScriptableObject</span>
    <span class="comment">// EventChannelDescription: Behavior Tree ì—ë””í„°ì—ì„œ ì´ë²¤íŠ¸ ì±„ë„ ì„¤ëª…</span>
    [CreateAssetMenu(menuName = <span class="string">"Behavior/Event Channels/GatherSuppliesEventChannel"</span>)]
    [Serializable, GeneratePropertyBag]
    [EventChannelDescription(
        name: <span class="string">"GatherSuppliesEventChannel"</span>, 
        message: <span class="string">"[Self] gathers [Amount] [Supplies] ."</span>, 
        category: <span class="string">"Events"</span>, 
        id: <span class="string">"005c0743a2e96d985e33a1feeef75d29"</span>
    )]
    
    <span class="comment">// GatherSuppliesEventChannel: ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ëŠ” ì´ë²¤íŠ¸ ì±„ë„</span>
    <span class="comment">// EventChannelBase: Unity Behavior Treeì˜ ê¸°ë³¸ ì´ë²¤íŠ¸ ì±„ë„ í´ë˜ìŠ¤</span>
    <span class="keyword">public partial class</span> <span class="class-name">GatherSuppliesEventChannel</span> : <span class="class-name">EventChannelBase</span>
    {
        <span class="comment">// GatherSuppliesEventChannelEventHandler: ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸ ë¸ë¦¬ê²Œì´íŠ¸</span>
        <span class="comment">// delegate: í•¨ìˆ˜ í¬ì¸í„°ì™€ ê°™ì€ ì—­í• ì„ í•˜ëŠ” íƒ€ì…</span>
        <span class="comment">// GameObject Self: ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ ê°ì²´</span>
        <span class="comment">// int Amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
        <span class="comment">// SupplySO Supplies: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
        <span class="keyword">public delegate void</span> <span class="class-name">GatherSuppliesEventChannelEventHandler</span>(<span class="class-name">GameObject</span> Self, <span class="keyword">int</span> Amount, <span class="class-name">SupplySO</span> Supplies);
        
        <span class="comment">// Event: ì‹¤ì œ ì´ë²¤íŠ¸ ë¸ë¦¬ê²Œì´íŠ¸ ì¸ìŠ¤í„´ìŠ¤</span>
        <span class="comment">// event: ì™¸ë¶€ì—ì„œ ì§ì ‘ í• ë‹¹í•  ìˆ˜ ì—†ë„ë¡ ë³´í˜¸</span>
        <span class="keyword">public event</span> <span class="class-name">GatherSuppliesEventChannelEventHandler</span> Event;

        <span class="comment">// SendEventMessage: ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ëŠ” public ë©”ì„œë“œ</span>
        <span class="comment">// ?.: null ì¡°ê±´ë¶€ ì—°ì‚°ì (Eventê°€ nullì´ ì•„ë‹ˆë©´ Invoke í˜¸ì¶œ)</span>
        <span class="keyword">public void</span> SendEventMessage(<span class="class-name">GameObject</span> Self, <span class="keyword">int</span> Amount, <span class="class-name">SupplySO</span> Supplies)
        {
            Event?.Invoke(Self, Amount, Supplies);
        }

        <span class="comment">// SendEventMessage: Behavior Treeì—ì„œ í˜¸ì¶œë˜ëŠ” ì˜¤ë²„ë¼ì´ë“œ ë©”ì„œë“œ</span>
        <span class="comment">// BlackboardVariable[]: Behavior Treeì˜ Blackboard ë³€ìˆ˜ ë°°ì—´</span>
        <span class="keyword">public override void</span> SendEventMessage(<span class="class-name">BlackboardVariable</span>[] messageData)
        {
            <span class="comment">// messageData[0]: Self (GameObject)</span>
            <span class="comment">// as: ì•ˆì „í•œ íƒ€ì… ìºìŠ¤íŒ… (ì‹¤íŒ¨ ì‹œ null ë°˜í™˜)</span>
            <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; SelfBlackboardVariable = messageData[<span class="number">0</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt;;
            <span class="comment">// ?: null ì¡°ê±´ë¶€ ì—°ì‚°ì</span>
            <span class="comment">// ??: null ë³‘í•© ì—°ì‚°ì (ì™¼ìª½ì´ nullì´ë©´ ì˜¤ë¥¸ìª½ ê°’ ì‚¬ìš©)</span>
            <span class="keyword">var</span> Self = SelfBlackboardVariable != <span class="keyword">null</span> ? SelfBlackboardVariable.Value : <span class="keyword">default</span>(<span class="class-name">GameObject</span>);

            <span class="comment">// messageData[1]: Amount (int)</span>
            <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; AmountBlackboardVariable = messageData[<span class="number">1</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt;;
            <span class="keyword">var</span> Amount = AmountBlackboardVariable != <span class="keyword">null</span> ? AmountBlackboardVariable.Value : <span class="keyword">default</span>(<span class="keyword">int</span>);

            <span class="comment">// messageData[2]: Supplies (SupplySO)</span>
            <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">SupplySO</span>&gt; SuppliesBlackboardVariable = messageData[<span class="number">2</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">SupplySO</span>&gt;;
            <span class="keyword">var</span> Supplies = SuppliesBlackboardVariable != <span class="keyword">null</span> ? SuppliesBlackboardVariable.Value : <span class="keyword">default</span>(<span class="class-name">SupplySO</span>);

            <span class="comment">// Event?.Invoke: ì´ë²¤íŠ¸ê°€ ë“±ë¡ë˜ì–´ ìˆìœ¼ë©´ í˜¸ì¶œ</span>
            Event?.Invoke(Self, Amount, Supplies);
        }

        <span class="comment">// CreateEventHandler: Behavior Treeì—ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ìƒì„±</span>
        <span class="comment">// callback: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜</span>
        <span class="keyword">public override</span> <span class="class-name">Delegate</span> CreateEventHandler(<span class="class-name">BlackboardVariable</span>[] vars, <span class="class-name">System.Action</span> callback)
        {
            <span class="comment">// ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë¸ë¦¬ê²Œì´íŠ¸ ìƒì„±</span>
            <span class="class-name">GatherSuppliesEventChannelEventHandler</span> del = (Self, Amount, Supplies) =>
            {
                <span class="comment">// vars[0]: Self ë³€ìˆ˜ì— ê°’ í• ë‹¹</span>
                <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt; var0 = vars[<span class="number">0</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GameObject</span>&gt;;
                <span class="keyword">if</span> (var0 != <span class="keyword">null</span>)
                    var0.Value = Self;

                <span class="comment">// vars[1]: Amount ë³€ìˆ˜ì— ê°’ í• ë‹¹</span>
                <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; var1 = vars[<span class="number">1</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt;;
                <span class="keyword">if</span> (var1 != <span class="keyword">null</span>)
                    var1.Value = Amount;

                <span class="comment">// vars[2]: Supplies ë³€ìˆ˜ì— ê°’ í• ë‹¹</span>
                <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">SupplySO</span>&gt; var2 = vars[<span class="number">2</span>] <span class="keyword">as</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">SupplySO</span>&gt;;
                <span class="keyword">if</span> (var2 != <span class="keyword">null</span>)
                    var2.Value = Supplies;

                <span class="comment">// callback: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì‹¤í–‰ë  ì½œë°±</span>
                callback();
            };
            <span class="keyword">return</span> del;
        }

        <span class="comment">// RegisterListener: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡</span>
        <span class="keyword">public override void</span> RegisterListener(<span class="class-name">Delegate</span> del)
        {
            <span class="comment">// +=: ì´ë²¤íŠ¸ì— ë¸ë¦¬ê²Œì´íŠ¸ ì¶”ê°€</span>
            Event += del <span class="keyword">as</span> <span class="class-name">GatherSuppliesEventChannelEventHandler</span>;
        }

        <span class="comment">// UnregisterListener: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í•´ì œ</span>
        <span class="keyword">public override void</span> UnregisterListener(<span class="class-name">Delegate</span> del)
        {
            <span class="comment">// -=: ì´ë²¤íŠ¸ì—ì„œ ë¸ë¦¬ê²Œì´íŠ¸ ì œê±°</span>
            Event -= del <span class="keyword">as</span> <span class="class-name">GatherSuppliesEventChannelEventHandler</span>;
        }
    }
}</div>
                
                <h4>2. SupplyEvent</h4>
                <p>Event Busë¥¼ í†µí•´ ì „ì†¡ë˜ëŠ” ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸:</p>
                
                <div class="code-block">
<span class="comment">// SupplyEvent.cs - ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸</span>
<span class="comment">// Event Busë¥¼ í†µí•´ ê²Œì„ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì— ìì› ìˆ˜ì§‘ ì•Œë¦¼</span>

<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.EventBus;

<span class="keyword">namespace</span> GameDevTV.RTS.Events
{
    <span class="comment">// SupplyEvent: ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸ êµ¬ì¡°ì²´</span>
    <span class="comment">// struct: ê°’ íƒ€ì…ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”</span>
    <span class="comment">// IEvent: Event Bus ì‹œìŠ¤í…œì˜ ì¸í„°í˜ì´ìŠ¤</span>
    <span class="keyword">public struct</span> <span class="class-name">SupplyEvent</span> : <span class="class-name">IEvent</span>
    {
        <span class="comment">// Amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
        <span class="comment">// { get; private set; }: ì½ê¸° ì „ìš© í”„ë¡œí¼í‹°</span>
        <span class="keyword">public int</span> <span class="property-name">Amount</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }
        
        <span class="comment">// Supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
        <span class="keyword">public</span> <span class="class-name">SupplySO</span> <span class="property-name">Supply</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }

        <span class="comment">// ìƒì„±ì: ì´ë²¤íŠ¸ ë°ì´í„° ì´ˆê¸°í™”</span>
        <span class="comment">// amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
        <span class="comment">// supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
        <span class="keyword">public</span> <span class="class-name">SupplyEvent</span>(<span class="keyword">int</span> amount, <span class="class-name">SupplySO</span> supply)
        {
            <span class="comment">// Amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘ ì €ì¥</span>
            Amount = amount;
            <span class="comment">// Supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì… ì €ì¥</span>
            Supply = supply;
        }
    }
}</div>
                
                <h4>3. Worker ì´ë²¤íŠ¸ ì²˜ë¦¬</h4>
                <p>Workerì—ì„œ Behavior Tree ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ Event Busë¡œ ì „ë‹¬:</p>
                
                <div class="code-block">
<span class="comment">// Worker.cs - Behavior Tree ì´ë²¤íŠ¸ ì²˜ë¦¬</span>
<span class="comment">// Behavior Treeì™€ Event Bus ê°„ì˜ ë¸Œë¦¬ì§€ ì—­í• </span>

<span class="keyword">using</span> GameDevTV.RTS.Behavior;
<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.EventBus;
<span class="keyword">using</span> GameDevTV.RTS.Events;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;

                <div class="code-block">
<span class="comment">// Worker.cs - Behavior Tree ì´ë²¤íŠ¸ ì²˜ë¦¬</span>
<span class="comment">// Behavior Treeì™€ Event Bus ê°„ì˜ ë¸Œë¦¬ì§€ ì—­í• </span>

<span class="keyword">using</span> GameDevTV.RTS.Behavior;
<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.EventBus;
<span class="keyword">using</span> GameDevTV.RTS.Events;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> GameDevTV.RTS.Units
{
    <span class="comment">// Worker: AbstractUnitì„ ìƒì†í•˜ê³  IGatherer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„</span>
    <span class="keyword">public class</span> <span class="class-name">Worker</span> : <span class="class-name">AbstractUnit</span>, <span class="class-name">IGatherer</span>
    {
        <span class="comment">// Start: Unity ìƒëª…ì£¼ê¸° ë©”ì„œë“œ</span>
        <span class="comment">// protected override: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜</span>
        <span class="keyword">protected override void</span> Start()
        {
            <span class="comment">// base.Start(): ìƒìœ„ í´ë˜ìŠ¤ì˜ Start ë©”ì„œë“œ í˜¸ì¶œ</span>
            <span class="comment">// AbstractUnitì˜ Startì—ì„œ Behavior Tree ì´ˆê¸°í™”</span>
            base.Start();
            
            <span class="comment">// GetVariable: Behavior Treeì˜ Blackboardì—ì„œ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°</span>
            <span class="comment">// "GatherSuppliesEvent": Blackboardì— ë“±ë¡ëœ ì´ë²¤íŠ¸ ì±„ë„ ì´ë¦„</span>
            <span class="comment">// out: ì¶œë ¥ ë§¤ê°œë³€ìˆ˜ë¡œ ë³€ìˆ˜ì— ê°’ í• ë‹¹</span>
            <span class="keyword">if</span> (graphAgent.GetVariable(<span class="string">"GatherSuppliesEvent"</span>, <span class="keyword">out</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherSuppliesEventChannel</span>&gt; eventChannelVariable))
            {
                <span class="comment">// Event +=: ì´ë²¤íŠ¸ì— í•¸ë“¤ëŸ¬ ë“±ë¡</span>
                <span class="comment">// HandleGatherSupplies: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í˜¸ì¶œë  ë©”ì„œë“œ</span>
                eventChannelVariable.Value.Event += HandleGatherSupplies;
            }
        }

        <span class="comment">// Gather: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GatherableSupply supply: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        <span class="keyword">public void</span> Gather(<span class="class-name">GatherableSupply</span> supply)
        {
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Supply": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply: ì„¤ì •í•  ê°’ (GatherableSupply ê°ì²´)</span>
            graphAgent.SetVariableValue(<span class="string">"Supply"</span>, supply);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "TargetGameObject": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply.gameObject: ìˆ˜ì§‘í•  ìì›ì˜ GameObject</span>
            graphAgent.SetVariableValue(<span class="string">"TargetGameObject"</span>, supply.gameObject);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Command": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// UnitCommands.Gather: ìˆ˜ì§‘ ëª…ë ¹</span>
            graphAgent.SetVariableValue(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.Gather);
        }

        <span class="comment">// HandleGatherSupplies: Behavior Tree ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GameObject self: ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ ê°ì²´</span>
        <span class="comment">// int amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
        <span class="comment">// SupplySO supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
        <span class="keyword">private void</span> HandleGatherSupplies(<span class="class-name">GameObject</span> self, <span class="keyword">int</span> amount, <span class="class-name">SupplySO</span> supply)
        {
            <span class="comment">// Bus<SupplyEvent>.Raise: Event Busë¥¼ í†µí•´ SupplyEvent ì „ì†¡</span>
            <span class="comment">// new SupplyEvent: ìƒˆë¡œìš´ SupplyEvent ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</span>
            <span class="comment">// amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
            <span class="comment">// supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
            <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.Raise(<span class="keyword">new</span> <span class="class-name">SupplyEvent</span>(amount, supply));
        }
    }
}</div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>ìì› ìˆ˜ì§‘ ì™„ë£Œ</strong>: `GatherSuppliesAction`ì—ì„œ ìì› ìˆ˜ì§‘ ì™„ë£Œ</li>
                    <li><strong>ì´ë²¤íŠ¸ ì „ì†¡</strong>: Behavior Treeì—ì„œ `GatherSuppliesEventChannel`ë¡œ ì´ë²¤íŠ¸ ì „ì†¡</li>
                    <li><strong>Worker ìˆ˜ì‹ </strong>: `Worker.HandleGatherSupplies`ì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹ </li>
                    <li><strong>Event Bus ì „ë‹¬</strong>: `SupplyEvent`ë¥¼ Event Busë¡œ ì „ì†¡</li>
                    <li><strong>ê²Œì„ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸</strong>: UI, ìì› ì €ì¥ì†Œ ë“±ì´ ì´ë²¤íŠ¸ ìˆ˜ì‹ í•˜ì—¬ ì—…ë°ì´íŠ¸</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ìì› ì „ë‹¬</strong>: Workerê°€ ìˆ˜ì§‘í•œ ìì›ì´ ì‹¤ì œë¡œ í”Œë ˆì´ì–´ì—ê²Œ ì „ë‹¬ë¨</li>
                    <li><strong>UI ì—…ë°ì´íŠ¸</strong>: ìì› ìˆ˜ì§‘ ì‹œ UIê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸</li>
                    <li><strong>ì‹œìŠ¤í…œ ì—°ê²°</strong>: Behavior Treeì™€ ê²Œì„ ì‹œìŠ¤í…œ ê°„ì˜ ì™„ì „í•œ ì—°ê²°</li>
                    <li><strong>í™•ì¥ì„±</strong>: ìƒˆë¡œìš´ ì´ë²¤íŠ¸ íƒ€ì…ì„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>ë¸ë¦¬ê²Œì´íŠ¸ ì‹œìŠ¤í…œ</strong>: Behavior Tree ë‚´ë¶€ì˜ ì´ë²¤íŠ¸ í†µì‹ </li>
                    <li><strong>Event Bus ì—°ë™</strong>: Behavior Treeì™€ ê²Œì„ ì‹œìŠ¤í…œ ê°„ì˜ ë¸Œë¦¬ì§€</li>
                    <li><strong>íƒ€ì… ì•ˆì „ì„±</strong>: ê°•íƒ€ì… ì´ë²¤íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ ë°©ì§€</li>
                    <li><strong>ë””ì»¤í”Œë§</strong>: Behavior Treeì™€ ê²Œì„ ë¡œì§ì˜ ì™„ì „í•œ ë¶„ë¦¬</li>
                    <li><strong>í™•ì¥ì„±</strong>: ìƒˆë¡œìš´ ì´ë²¤íŠ¸ ì±„ë„ì„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥</li>
                </ul>
                
                <h3>ğŸ“Š ì´ë²¤íŠ¸ íë¦„ë„</h3>
                <div class="info-box">
                    <h4>ğŸ”„ Behavior Tree â†’ Event Bus íë¦„</h4>
                    <ol>
                        <li><strong>GatherSuppliesAction</strong>: ìì› ìˆ˜ì§‘ ì™„ë£Œ</li>
                        <li><strong>Send Event Message</strong>: Behavior Treeì—ì„œ ì´ë²¤íŠ¸ ì „ì†¡</li>
                        <li><strong>GatherSuppliesEventChannel</strong>: ì´ë²¤íŠ¸ ì±„ë„ì„ í†µí•´ ì „ë‹¬</li>
                        <li><strong>Worker.HandleGatherSupplies</strong>: ì´ë²¤íŠ¸ ìˆ˜ì‹ </li>
                        <li><strong>SupplyEvent</strong>: Event Busë¡œ ì´ë²¤íŠ¸ ì „ì†¡</li>
                        <li><strong>ê²Œì„ ì‹œìŠ¤í…œ</strong>: UI, ìì› ì €ì¥ì†Œ ë“± ì—…ë°ì´íŠ¸</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <!-- Lecture 48: Player Supplies -->
        <div class="lecture-section">
            <h2 id="lecture-48">ê°•ì˜ 48: Player Supplies - í”Œë ˆì´ì–´ ìì› ì‹œìŠ¤í…œ</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>Workerê°€ ìì›ì„ ìˆ˜ì§‘í•´ë„ í”Œë ˆì´ì–´ê°€ ì‹¤ì œë¡œ ì–¼ë§ˆë‚˜ ê°€ì§€ê³  ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. UIì— ìì› ìˆ˜ëŸ‰ì„ í‘œì‹œí•˜ê³ , ê²Œì„ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œë„ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìì› ê´€ë¦¬ ì‹œìŠ¤í…œì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ì§€ê°‘ì— ëˆì´ ì–¼ë§ˆë‚˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒê³¼ ê°™ì•„ìš”! Workerê°€ ìì›ì„ ìˆ˜ì§‘í•˜ë©´ "ì§€ê°‘(Supplies)"ì— ìì›ì´ ìŒ“ì´ê³ , í™”ë©´ ìœ„ìª½ì— "ë¯¸ë„¤ë„: 50ê°œ, ê°€ìŠ¤: 30ê°œ"ì²˜ëŸ¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê²Œì„ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œë„ "ë¯¸ë„¤ë„ì´ ì¶©ë¶„í•œê°€?"ë¥¼ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. Supplies í´ë˜ìŠ¤</h4>
                <p>í”Œë ˆì´ì–´ì˜ ìì›ì„ ê´€ë¦¬í•˜ê³  UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” MonoBehaviour:</p>
                
                <div class="code-block">
<span class="comment">// Supplies.cs - í”Œë ˆì´ì–´ ìì› ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
<span class="comment">// ìì› ìˆ˜ëŸ‰ ê´€ë¦¬ ë° UI ì—…ë°ì´íŠ¸</span>

<span class="keyword">using</span> System;
<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.EventBus;
<span class="keyword">using</span> GameDevTV.RTS.Events;
<span class="keyword">using</span> TMPro;
<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> GameDevTV.RTS.Player
{
    <span class="comment">// Supplies: í”Œë ˆì´ì–´ì˜ ìì›ì„ ê´€ë¦¬í•˜ëŠ” MonoBehaviour</span>
    <span class="comment">// MonoBehaviour: Unityì˜ ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">Supplies</span> : <span class="class-name">MonoBehaviour</span>
    {
        <span class="comment">// UI í…ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤</span>
        <span class="comment">// [SerializeField]: Unity Inspectorì—ì„œ ì„¤ì • ê°€ëŠ¥</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥</span>
        <span class="comment">// TextMeshProUGUI: TextMeshPro UI í…ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸</span>
        [SerializeField] <span class="keyword">private</span> <span class="class-name">TextMeshProUGUI</span> mineralsText;
        [SerializeField] <span class="keyword">private</span> <span class="class-name">TextMeshProUGUI</span> gasText;
        [SerializeField] <span class="keyword">private</span> <span class="class-name">TextMeshProUGUI</span> populationText;

        <span class="comment">// ìì› íƒ€ì… ScriptableObject ì°¸ì¡°</span>
        <span class="comment">// SupplySO: ìì› íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ScriptableObject</span>
        [SerializeField] <span class="keyword">private</span> <span class="class-name">SupplySO</span> mineralsSO;
        [SerializeField] <span class="keyword">private</span> <span class="class-name">SupplySO</span> gasSO;

        <span class="comment">// ì •ì  ìì› ë³€ìˆ˜ë“¤</span>
        <span class="comment">// public static: ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥í•œ ì •ì  ë³€ìˆ˜</span>
        <span class="comment">// { get; private set; }: ì™¸ë¶€ì—ì„œëŠ” ì½ê¸°ë§Œ ê°€ëŠ¥, ë‚´ë¶€ì—ì„œë§Œ ìˆ˜ì • ê°€ëŠ¥</span>
        <span class="comment">// int: ì •ìˆ˜í˜• (ìì›ì˜ ê°œìˆ˜)</span>
        <span class="keyword">public static int</span> <span class="property-name">Minerals</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }
        <span class="keyword">public static int</span> <span class="property-name">Gas</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }
        <span class="keyword">public static int</span> <span class="property-name">Population</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }
        <span class="keyword">public static int</span> <span class="property-name">PopulationLimit</span> { <span class="keyword">get</span>; <span class="keyword">private set</span>; }

        <span class="comment">// Awake: Unity ìƒëª…ì£¼ê¸° ë©”ì„œë“œ (ê²Œì„ ì‹œì‘ ì‹œ í•œ ë²ˆ í˜¸ì¶œ)</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="keyword">private void</span> Awake()
        {
            <span class="comment">// Bus<SupplyEvent>.OnEvent: Event Busì˜ SupplyEvent ì´ë²¤íŠ¸</span>
            <span class="comment">// +=: ì´ë²¤íŠ¸ì— í•¸ë“¤ëŸ¬ ë“±ë¡</span>
            <span class="comment">// HandleSupplyEvent: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í˜¸ì¶œë  ë©”ì„œë“œ</span>
            <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent += HandleSupplyEvent;
        }

        <span class="comment">// OnDestroy: Unity ìƒëª…ì£¼ê¸° ë©”ì„œë“œ (ê°ì²´ íŒŒê´´ ì‹œ í˜¸ì¶œ)</span>
        <span class="keyword">private void</span> OnDestroy()
        {
            <span class="comment">// -=: ì´ë²¤íŠ¸ì—ì„œ í•¸ë“¤ëŸ¬ í•´ì œ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€)</span>
            <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent -= HandleSupplyEvent;
        }

        <span class="comment">// HandleSupplyEvent: ìì› ìˆ˜ì§‘ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>
        <span class="comment">// SupplyEvent evt: ìˆ˜ì§‘ëœ ìì› ì •ë³´</span>
        <span class="keyword">private void</span> HandleSupplyEvent(<span class="class-name">SupplyEvent</span> evt)
        {
            <span class="comment">// evt.Supply.Equals(mineralsSO): ìˆ˜ì§‘ëœ ìì›ì´ ë¯¸ë„¤ë„ì¸ì§€ í™•ì¸</span>
            <span class="comment">// Equals: ê°ì²´ ë¹„êµ ë©”ì„œë“œ</span>
            <span class="keyword">if</span> (evt.Supply.Equals(mineralsSO))
            {
                <span class="comment">// Minerals += evt.Amount: ë¯¸ë„¤ë„ ìˆ˜ëŸ‰ ì¦ê°€</span>
                <span class="comment">// +=: ë³µí•© í• ë‹¹ ì—°ì‚°ì (Minerals = Minerals + evt.Amount)</span>
                Minerals += evt.Amount;
                
                <span class="comment">// mineralsText.SetText: UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸</span>
                <span class="comment">// Minerals.ToString(): ì •ìˆ˜ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜</span>
                mineralsText.SetText(Minerals.ToString());
            }
            <span class="comment">// else if: ì²« ë²ˆì§¸ ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œë§Œ í™•ì¸</span>
            <span class="keyword">else if</span> (evt.Supply.Equals(gasSO))
            {
                <span class="comment">// Gas += evt.Amount: ê°€ìŠ¤ ìˆ˜ëŸ‰ ì¦ê°€</span>
                Gas += evt.Amount;
                
                <span class="comment">// gasText.SetText: ê°€ìŠ¤ UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸</span>
                gasText.SetText(Gas.ToString());
            }
        }
    }
}</div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>ìì› ìˆ˜ì§‘</strong>: Workerê°€ ìì›ì„ ìˆ˜ì§‘í•˜ì—¬ `SupplyEvent` ë°œìƒ</li>
                    <li><strong>ì´ë²¤íŠ¸ ìˆ˜ì‹ </strong>: `Supplies` í´ë˜ìŠ¤ê°€ Event Busì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹ </li>
                    <li><strong>ìì› íƒ€ì… í™•ì¸</strong>: ìˆ˜ì§‘ëœ ìì›ì´ ë¯¸ë„¤ë„ì¸ì§€ ê°€ìŠ¤ì¸ì§€ í™•ì¸</li>
                    <li><strong>ìˆ˜ëŸ‰ ì¦ê°€</strong>: í•´ë‹¹ ìì›ì˜ ì •ì  ë³€ìˆ˜ì— ìˆ˜ì§‘ëŸ‰ ì¶”ê°€</li>
                    <li><strong>UI ì—…ë°ì´íŠ¸</strong>: TextMeshPro UIì— ìƒˆë¡œìš´ ìˆ˜ëŸ‰ í‘œì‹œ</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ì‹¤ì‹œê°„ ìì› í‘œì‹œ</strong>: í™”ë©´ ìƒë‹¨ì— í˜„ì¬ ë³´ìœ  ìì› ìˆ˜ëŸ‰ í‘œì‹œ</li>
                    <li><strong>ì „ì—­ ì ‘ê·¼</strong>: ê²Œì„ì˜ ì–´ëŠ ê³³ì—ì„œë‚˜ `Supplies.Minerals`ë¡œ ìì› í™•ì¸ ê°€ëŠ¥</li>
                    <li><strong>UI ë™ê¸°í™”</strong>: ìì› ìˆ˜ì§‘ê³¼ UI ì—…ë°ì´íŠ¸ê°€ ìë™ìœ¼ë¡œ ë™ê¸°í™”</li>
                    <li><strong>í™•ì¥ì„±</strong>: ìƒˆë¡œìš´ ìì› íƒ€ì…ì„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>ì •ì  ë³€ìˆ˜</strong>: `static` í‚¤ì›Œë“œë¡œ ì „ì—­ ì ‘ê·¼ ê°€ëŠ¥</li>
                    <li><strong>ìº¡ìŠí™”</strong>: `{ get; private set; }`ë¡œ ì™¸ë¶€ì—ì„œ ìˆ˜ì • ë°©ì§€</li>
                    <li><strong>Event Bus ì—°ë™</strong>: Behavior Tree ì´ë²¤íŠ¸ì™€ ìë™ ì—°ê²°</li>
                    <li><strong>ë©”ëª¨ë¦¬ ê´€ë¦¬</strong>: `OnDestroy`ì—ì„œ ì´ë²¤íŠ¸ êµ¬ë… í•´ì œ</li>
                    <li><strong>íƒ€ì… ì•ˆì „ì„±</strong>: `SupplySO`ë¡œ ìì› íƒ€ì… êµ¬ë¶„</li>
                </ul>
                
                <h3>ğŸ“Š ì‹œìŠ¤í…œ êµ¬ì¡°</h3>
                <div class="info-box">
                    <h4>ğŸ”„ ìì› íë¦„ë„</h4>
                    <ol>
                        <li><strong>Worker ìˆ˜ì§‘</strong>: ìì› ìˆ˜ì§‘ ì™„ë£Œ</li>
                        <li><strong>SupplyEvent</strong>: Event Busë¡œ ì´ë²¤íŠ¸ ì „ì†¡</li>
                        <li><strong>Supplies ìˆ˜ì‹ </strong>: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ìˆ˜ì‹ </li>
                        <li><strong>ìì› íƒ€ì… í™•ì¸</strong>: ë¯¸ë„¤ë„/ê°€ìŠ¤ êµ¬ë¶„</li>
                        <li><strong>ì •ì  ë³€ìˆ˜ ì—…ë°ì´íŠ¸</strong>: Minerals/Gas ì¦ê°€</li>
                        <li><strong>UI í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸</strong>: í™”ë©´ì— ìƒˆë¡œìš´ ìˆ˜ëŸ‰ í‘œì‹œ</li>
                    </ol>
                </div>
                
                <h3>ğŸ¯ ì‚¬ìš© ì˜ˆì‹œ</h3>
                <div class="code-block">
<span class="comment">// ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìì› í™•ì¸ ì˜ˆì‹œ</span>

<span class="comment">// ê±´ë¬¼ ê±´ì„¤ ì‹œ ìì› í™•ì¸</span>
<span class="keyword">if</span> (<span class="class-name">Supplies</span>.Minerals >= <span class="number">100</span>)
{
    <span class="comment">// ê±´ë¬¼ ê±´ì„¤ ê°€ëŠ¥</span>
    BuildBuilding();
}

<span class="comment">// ìœ ë‹› ìƒì‚° ì‹œ ìì› í™•ì¸</span>
<span class="keyword">if</span> (<span class="class-name">Supplies</span>.Minerals >= <span class="number">50</span> && <span class="class-name">Supplies</span>.Gas >= <span class="number">25</span>)
{
    <span class="comment">// ìœ ë‹› ìƒì‚° ê°€ëŠ¥</span>
    ProduceUnit();
}</div>
            </div>
        </div>
        
        <!-- Lecture 49: Conditional Branches -->
        <div class="lecture-section">
            <h2 id="lecture-49">ê°•ì˜ 49: Conditional Branches - ì¡°ê±´ë¶€ ë¶„ê¸°</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>í˜„ì¬ WorkerëŠ” ìì›ì„ ìˆ˜ì§‘í•˜ë¼ëŠ” ëª…ë ¹ì„ ë°›ìœ¼ë©´ ë¬´ì¡°ê±´ ìˆ˜ì§‘ì„ ì‹œë„í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ StarCraft 2ì²˜ëŸ¼ ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆëŠ” WorkerëŠ” ë” ì´ìƒ ìˆ˜ì§‘í•˜ì§€ ì•Šê³  ë°”ë¡œ Command Postë¡œ ëŒì•„ê°€ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì¡°ê±´ë¶€ ë¶„ê¸°ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ê°€ë°©ì— ì´ë¯¸ ê³¼ìê°€ ìˆëŠ”ë° ë˜ ê³¼ìë¥¼ ì‚¬ëŸ¬ ê°€ëŠ” ê²ƒê³¼ ê°™ì•„ìš”! ë˜‘ë˜‘í•œ ì‚¬ëŒì€ "ì–´? ì´ë¯¸ ê³¼ìê°€ ìˆë„¤?"ë¼ê³  ìƒê°í•˜ê³  ë°”ë¡œ ì§‘ìœ¼ë¡œ ëŒì•„ê°€ì£ . Workerë„ ë§ˆì°¬ê°€ì§€ë¡œ ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ë” ìˆ˜ì§‘í•˜ì§€ ì•Šê³  ë°”ë¡œ Command Postë¡œ ëŒì•„ê°€ì•¼ í•´ìš”!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. Behavior Tree êµ¬ì¡° ê°œì„ </h4>
                <p>ê¸°ì¡´ì˜ ë‹¨ìˆœí•œ ìˆ˜ì§‘ ì‹œí€€ìŠ¤ë¥¼ ì¡°ê±´ë¶€ ë¶„ê¸°ë¡œ ê°œì„ :</p>
                
                <div class="info-box">
                    <h4>ğŸ”„ ê¸°ì¡´ êµ¬ì¡° (ë¬¸ì œì )</h4>
                    <ol>
                        <li><strong>SetAgentAvoidance</strong>: íšŒí”¼ í’ˆì§ˆ ì„¤ì •</li>
                        <li><strong>MoveToGatherableSupply</strong>: ìì›ìœ¼ë¡œ ì´ë™</li>
                        <li><strong>GatherSupplies</strong>: ìì› ìˆ˜ì§‘</li>
                        <li><strong>FindClosestCommandPost</strong>: Command Post ì°¾ê¸°</li>
                        <li><strong>MoveToTargetGameObject</strong>: Command Postë¡œ ì´ë™</li>
                        <li><strong>RaiseEvent</strong>: ì´ë²¤íŠ¸ ë°œìƒ</li>
                    </ol>
                    <p><strong>ë¬¸ì œ</strong>: ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆì–´ë„ ë¬´ì¡°ê±´ ìˆ˜ì§‘ ì‹œë„</p>
                </div>
                
                <div class="info-box">
                    <h4>âœ… ê°œì„ ëœ êµ¬ì¡° (ì¡°ê±´ë¶€ ë¶„ê¸°)</h4>
                    <ol>
                        <li><strong>SetAgentAvoidance</strong>: íšŒí”¼ í’ˆì§ˆ ì„¤ì •</li>
                        <li><strong>MoveToGatherableSupply</strong>: ìì›ìœ¼ë¡œ ì´ë™</li>
                        <li><strong>Conditional Branch</strong>: ì¡°ê±´ë¶€ ë¶„ê¸°</li>
                        <ul>
                            <li><strong>True (ìì› ì—†ìŒ)</strong>: ìˆ˜ì§‘ ì‹œí€€ìŠ¤ ì‹¤í–‰</li>
                            <li><strong>False (ìì› ìˆìŒ)</strong>: ë°”ë¡œ Command Postë¡œ ì´ë™</li>
                        </ul>
                        <li><strong>Wait For Any</strong>: ë‘ ê²½ë¡œ í•©ì¹˜ê¸°</li>
                        <li><strong>FindClosestCommandPost</strong>: Command Post ì°¾ê¸°</li>
                        <li><strong>MoveToTargetGameObject</strong>: Command Postë¡œ ì´ë™</li>
                        <li><strong>RaiseEvent</strong>: ì´ë²¤íŠ¸ ë°œìƒ</li>
                    </ol>
                </div>
                
                <h4>2. Conditional Branch ì„¤ì •</h4>
                <p>Behavior Treeì˜ ìƒˆë¡œìš´ ë…¸ë“œë“¤ì„ í™œìš©í•œ ì¡°ê±´ë¶€ ë¶„ê¸°:</p>
                
                <div class="code-block">
<span class="comment">// Conditional Branch ì„¤ì •</span>
<span class="comment">// Inspectorì—ì„œ ì¡°ê±´ ì„¤ì •</span>

<span class="comment">// Variable Condition: ë³€ìˆ˜ ì¡°ê±´</span>
<span class="comment">// Variable: SupplyAmountHeld (Blackboard ë³€ìˆ˜)</span>
<span class="comment">// Comparison: Equal To</span>
<span class="comment">// Value: 0</span>

<span class="comment">// ê²°ê³¼:</span>
<span class="comment">// - True: SupplyAmountHeld == 0 (ìì›ì´ ì—†ìŒ) â†’ ìˆ˜ì§‘ ì‹œí€€ìŠ¤ ì‹¤í–‰</span>
<span class="comment">// - False: SupplyAmountHeld != 0 (ìì›ì´ ìˆìŒ) â†’ ë°”ë¡œ Command Postë¡œ ì´ë™</span></div>
                
                <h4>3. Flow Control ë…¸ë“œë“¤</h4>
                <p>Behavior Treeì˜ ìƒˆë¡œìš´ íë¦„ ì œì–´ ë…¸ë“œë“¤:</p>
                
                <div class="code-block">
<span class="comment">// Flow Control ë…¸ë“œë“¤</span>

<span class="comment">// 1. Conditional Branch</span>
<span class="comment">// - ì¡°ê±´ì— ë”°ë¼ True/False ê²½ë¡œë¡œ ë¶„ê¸°</span>
<span class="comment">// - Variable Conditionìœ¼ë¡œ Blackboard ë³€ìˆ˜ í™•ì¸</span>

<span class="comment">// 2. Wait For All</span>
<span class="comment">// - ëª¨ë“  ë¶€ëª¨ ë…¸ë“œê°€ ì‹œì‘ë˜ë©´ ìì‹ ì‹¤í–‰</span>
<span class="comment">// - ë³‘ë ¬ ì‹¤í–‰ì— ì í•©</span>

<span class="comment">// 3. Wait For Any</span>
<span class="comment">// - í•˜ë‚˜ì˜ ë¶€ëª¨ ë…¸ë“œë¼ë„ ì‹œì‘ë˜ë©´ ìì‹ ì‹¤í–‰</span>
<span class="comment">// - ì¡°ê±´ë¶€ ë¶„ê¸° í›„ ê²½ë¡œ í•©ì¹˜ê¸°ì— ì í•©</span></div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>ìì› ìˆ˜ì§‘ ëª…ë ¹</strong>: Workerê°€ Gather ëª…ë ¹ì„ ë°›ìŒ</li>
                    <li><strong>íšŒí”¼ ì„¤ì •</strong>: SetAgentAvoidanceë¡œ ì´ë™ í’ˆì§ˆ ì„¤ì •</li>
                    <li><strong>ìì›ìœ¼ë¡œ ì´ë™</strong>: MoveToGatherableSupplyë¡œ ìì› ìœ„ì¹˜ë¡œ ì´ë™</li>
                    <li><strong>ì¡°ê±´ í™•ì¸</strong>: Conditional Branchì—ì„œ SupplyAmountHeld í™•ì¸</li>
                    <li><strong>ë¶„ê¸° ì‹¤í–‰</strong>:
                        <ul>
                            <li><strong>ìì› ì—†ìŒ (True)</strong>: GatherSuppliesë¡œ ìì› ìˆ˜ì§‘</li>
                            <li><strong>ìì› ìˆìŒ (False)</strong>: ìˆ˜ì§‘ ì—†ì´ ë°”ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¡œ</li>
                        </ul>
                    </li>
                    <li><strong>ê²½ë¡œ í•©ì¹˜ê¸°</strong>: Wait For Anyë¡œ ë‘ ê²½ë¡œ í•©ì¹˜ê¸°</li>
                    <li><strong>Command Postë¡œ ì´ë™</strong>: FindClosestCommandPost â†’ MoveToTargetGameObject</li>
                    <li><strong>ì´ë²¤íŠ¸ ë°œìƒ</strong>: RaiseEventë¡œ ìˆ˜ì§‘ ì™„ë£Œ ì•Œë¦¼</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ì§€ëŠ¥ì ì¸ Worker</strong>: ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŒ</li>
                    <li><strong>íš¨ìœ¨ì ì¸ ì´ë™</strong>: ë¶ˆí•„ìš”í•œ ìˆ˜ì§‘ ê³¼ì • ìƒëµ</li>
                    <li><strong>StarCraft 2ì™€ ìœ ì‚¬í•œ ë™ì‘</strong>: ì‹¤ì œ RTS ê²Œì„ê³¼ ê°™ì€ í–‰ë™ íŒ¨í„´</li>
                    <li><strong>ìì› ê´€ë¦¬ ìµœì í™”</strong>: Workerì˜ ìì› ìš´ë°˜ íš¨ìœ¨ì„± í–¥ìƒ</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>ì¡°ê±´ë¶€ ë¶„ê¸°</strong>: Conditional Branchë¡œ ìƒí™©ì— ë”°ë¥¸ ë¶„ê¸°</li>
                    <li><strong>Variable Condition</strong>: Blackboard ë³€ìˆ˜ ê¸°ë°˜ ì¡°ê±´ í™•ì¸</li>
                    <li><strong>Flow Control</strong>: Wait For Anyë¡œ ê²½ë¡œ í•©ì¹˜ê¸°</li>
                    <li><strong>ì½”ë“œ ë³€ê²½ ì—†ìŒ</strong>: Behavior Tree ì—ë””í„°ë§Œìœ¼ë¡œ êµ¬í˜„</li>
                    <li><strong>í™•ì¥ì„±</strong>: ë‹¤ë¥¸ ì¡°ê±´ë“¤ë„ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥</li>
                </ul>
                
                <h3>ğŸ“Š ì‹œìŠ¤í…œ êµ¬ì¡°</h3>
                <div class="info-box">
                    <h4>ğŸ”„ ì¡°ê±´ë¶€ ë¶„ê¸° íë¦„ë„</h4>
                    <ol>
                        <li><strong>Gather ëª…ë ¹</strong>: Workerê°€ ìˆ˜ì§‘ ëª…ë ¹ ìˆ˜ì‹ </li>
                        <li><strong>SetAgentAvoidance</strong>: ì´ë™ í’ˆì§ˆ ì„¤ì •</li>
                        <li><strong>MoveToGatherableSupply</strong>: ìì›ìœ¼ë¡œ ì´ë™</li>
                        <li><strong>Conditional Branch</strong>: SupplyAmountHeld í™•ì¸</li>
                        <li><strong>True ê²½ë¡œ</strong>: ìì› ì—†ìŒ â†’ ìˆ˜ì§‘ ì‹œí€€ìŠ¤</li>
                        <li><strong>False ê²½ë¡œ</strong>: ìì› ìˆìŒ â†’ ìˆ˜ì§‘ ìƒëµ</li>
                        <li><strong>Wait For Any</strong>: ë‘ ê²½ë¡œ í•©ì¹˜ê¸°</li>
                        <li><strong>Command Post ì´ë™</strong>: ìì› ë°˜í™˜</li>
                    </ol>
                </div>
                
                <h3>ğŸ¯ Behavior Tree ë…¸ë“œ í™œìš©</h3>
                <div class="code-block">
<span class="comment">// Behavior Tree ë…¸ë“œ í™œìš©ë²•</span>

<span class="comment">// 1. Conditional Branch</span>
<span class="comment">// - ì¡°ê±´: Variable Condition</span>
<span class="comment">// - ë³€ìˆ˜: SupplyAmountHeld</span>
<span class="comment">// - ë¹„êµ: Equal To 0</span>

<span class="comment">// 2. Wait For Any</span>
<span class="comment">// - ìš©ë„: ì¡°ê±´ë¶€ ë¶„ê¸° í›„ ê²½ë¡œ í•©ì¹˜ê¸°</span>
<span class="comment">// - ë™ì‘: í•˜ë‚˜ì˜ ë¶€ëª¨ë¼ë„ ì™„ë£Œë˜ë©´ ì‹¤í–‰</span>

<span class="comment">// 3. Sequence (True ê²½ë¡œ)</span>
<span class="comment">// - GatherSupplies: ìì› ìˆ˜ì§‘</span>
<span class="comment">// - ìˆ˜ì§‘ í›„ SupplyAmountHeld ì¦ê°€</span>

<span class="comment">// 4. Single Node (False ê²½ë¡œ)</span>
<span class="comment">// - ìˆ˜ì§‘ ì—†ì´ ë°”ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¡œ</span>
<span class="comment">// - ì´ë¯¸ ê°€ì§€ê³  ìˆëŠ” ìì› í™œìš©</span></div>
                
                <h3>ğŸ” StarCraft 2 ì°¸ê³ </h3>
                <div class="info-box">
                    <h4>ğŸ® StarCraft 2ì˜ Worker ë™ì‘</h4>
                    <ul>
                        <li><strong>ë“œë¡ (Drone)</strong>: Zergì˜ Worker ìœ ë‹›</li>
                        <li><strong>ì§€ëŠ¥ì ì¸ ìˆ˜ì§‘</strong>: ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŒ</li>
                        <li><strong>ì¦‰ì‹œ ë°˜í™˜</strong>: ìì›ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ë°”ë¡œ Hatcheryë¡œ ëŒì•„ê°</li>
                        <li><strong>íš¨ìœ¨ì„±</strong>: ë¶ˆí•„ìš”í•œ ìˆ˜ì§‘ ê³¼ì • ìƒëµ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
