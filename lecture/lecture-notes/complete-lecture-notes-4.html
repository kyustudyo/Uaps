<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URTS ê°•ì˜ ë…¸íŠ¸ 4 - ê°•ì˜ 50-59</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .lecture-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .lecture-section h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 20px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .lecture-content h3 {
            color: #34495e;
            font-size: 1.5rem;
            margin: 20px 0 15px 0;
        }

        .lecture-content h4 {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin: 15px 0 10px 0;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            margin: 20px 0;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        .code-block .keyword {
            color: #e74c3c;
            font-weight: bold;
        }

        .code-block .class-name {
            color: #f39c12;
            font-weight: bold;
        }

        .code-block .method-name {
            color: #9b59b6;
        }

        .code-block .property-name {
            color: #1abc9c;
        }

        .code-block .string {
            color: #2ecc71;
        }

        .code-block .number {
            color: #e67e22;
        }

        .code-block .comment {
            color: #95a5a6;
            font-style: italic;
        }

        .code-block .field-name {
            color: #3498db;
        }

        .info-box {
            background: #e8f4fd;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .info-box h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .content-list {
            list-style: none;
            padding-left: 0;
        }

        .content-list li {
            background: #ecf0f1;
            margin: 8px 0;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .content-list li:hover {
            background: #d5dbdb;
            transform: translateX(5px);
        }

        .content-list li strong {
            color: #2c3e50;
        }

        .flow-diagram {
            background: #f8f9fa;
            border: 2px solid #34495e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .flow-step {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            margin: 10px;
            display: inline-block;
            font-weight: bold;
        }

        .flow-arrow {
            color: #e74c3c;
            font-size: 1.5rem;
            margin: 0 10px;
        }

        .table-of-contents {
            background: #f8f9fa;
            border: 2px solid #34495e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .table-of-contents h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .table-of-contents ul {
            list-style: none;
            padding-left: 0;
        }

        .table-of-contents li {
            margin: 8px 0;
        }

        .table-of-contents a {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
        }

        .table-of-contents a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š URTS ê°•ì˜ ë…¸íŠ¸ 4</h1>
            <p>Unity Real-Time Strategy Game - ê°•ì˜ 50-59</p>
        </div>

        <!-- ëª©ì°¨ -->
        <div class="table-of-contents">
            <h3>ğŸ“‹ ëª©ì°¨</h3>
            <ul>
                <li><a href="#lecture-50">ê°•ì˜ 50: Return Supplies - ìì› ë°˜í™˜ ì‹œìŠ¤í…œ</a></li>
            </ul>
        </div>

        <!-- Lecture 50: Return Supplies -->
        <div class="lecture-section">
            <h2 id="lecture-50">ê°•ì˜ 50: Return Supplies - ìì› ë°˜í™˜ ì‹œìŠ¤í…œ</h2>
            
            <div class="lecture-content">
                <h3>ğŸ¯ ì™œ í•„ìš”í•œê°€?</h3>
                <p>í˜„ì¬ WorkerëŠ” ìì›ì„ ìˆ˜ì§‘í•œ í›„ ìë™ìœ¼ë¡œ Command Postë¡œ ëŒì•„ê°€ì§€ë§Œ, í”Œë ˆì´ì–´ê°€ ì§ì ‘ Command Postë¥¼ í´ë¦­í•´ì„œ ìì›ì„ ë°˜í™˜í•˜ë„ë¡ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. StarCraft 2ì²˜ëŸ¼ ì´ë¯¸ ìì›ì„ ê°€ì§€ê³  ìˆëŠ” Workerê°€ Command Postë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ìì›ì„ ë°˜í™˜í•˜ê³  ë‹¤ì‹œ ìˆ˜ì§‘í•˜ëŸ¬ ê°€ëŠ” ê¸°ëŠ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                
                <h3>ğŸ§  ì´ˆë”©ë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…</h3>
                <p>ë§ˆì¹˜ ê°€ë°©ì— ê³¼ìë¥¼ ë„£ê³  ì§‘ì— ê°€ì„œ ëƒ‰ì¥ê³ ì— ë„£ëŠ” ê²ƒê³¼ ê°™ì•„ìš”! Workerê°€ ìì›ì„ ìˆ˜ì§‘í•˜ë©´ ê°€ë°©(SupplyAmountHeld)ì— ë„£ê³ , Command Post(ëƒ‰ì¥ê³ )ë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ê°€ì„œ ìì›ì„ ë„£ê³  ë‹¤ì‹œ ìˆ˜ì§‘í•˜ëŸ¬ ê°€ëŠ” ê±°ì˜ˆìš”!</p>
                
                <h3>ğŸ”§ í•µì‹¬ êµ¬í˜„</h3>
                
                <h4>1. UnitCommands í™•ì¥</h4>
                <p>ìƒˆë¡œìš´ ëª…ë ¹ íƒ€ì… ì¶”ê°€:</p>
                
                <div class="code-block">
<span class="comment">// UnitCommands.cs - ìœ ë‹› ëª…ë ¹ ì—´ê±°í˜• í™•ì¥</span>
<span class="comment">// ReturnSupplies ëª…ë ¹ ì¶”ê°€</span>

<span class="keyword">using</span> Unity.Behavior;

<span class="keyword">namespace</span> GameDevTV.RTS.Units
{
    <span class="comment">// BlackboardEnum: Unity Behavior Treeì˜ Blackboardì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì†ì„±</span>
    [BlackboardEnum]
    
    <span class="comment">// UnitCommands: ìœ ë‹›ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ë“¤ì˜ ì—´ê±°í˜•</span>
    <span class="keyword">public enum</span> <span class="class-name">UnitCommands</span>
    {
        <span class="comment">// Stop: ìœ ë‹›ì„ ì •ì§€ì‹œí‚¤ëŠ” ëª…ë ¹</span>
        Stop,
        
        <span class="comment">// Move: ìœ ë‹›ì„ ì´ë™ì‹œí‚¤ëŠ” ëª…ë ¹</span>
        Move,
        
        <span class="comment">// Gather: ìì›ì„ ìˆ˜ì§‘í•˜ëŠ” ëª…ë ¹</span>
        Gather,
        
        <span class="comment">// ReturnSupplies: ìì›ì„ ë°˜í™˜í•˜ëŠ” ëª…ë ¹ (ìƒˆë¡œ ì¶”ê°€)</span>
        ReturnSupplies
    }
}</div>
                
                <h4>2. Worker í´ë˜ìŠ¤ í™•ì¥</h4>
                <p>ìì› ë°˜í™˜ ê¸°ëŠ¥ ë° ìì› ë³´ìœ  ìƒíƒœ í™•ì¸:</p>
                
                <div class="code-block">
<span class="comment">// Worker.cs - ìì› ë°˜í™˜ ê¸°ëŠ¥ ì¶”ê°€</span>
<span class="comment">// HasSupplies ì†ì„± ë° ReturnSupplies ë©”ì„œë“œ</span>

<span class="keyword">using</span> GameDevTV.RTS.Behavior;
<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.EventBus;
<span class="keyword">using</span> GameDevTV.RTS.Events;
<span class="keyword">using</span> Unity.Behavior;
<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> GameDevTV.RTS.Units
{
    <span class="comment">// Worker: AbstractUnitì„ ìƒì†í•˜ê³  IGatherer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„</span>
    <span class="keyword">public class</span> <span class="class-name">Worker</span> : <span class="class-name">AbstractUnit</span>, <span class="class-name">IGatherer</span>
    {
        <span class="comment">// HasSupplies: Workerê°€ ìì›ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê³„ì‚°ëœ ì†ì„±</span>
        <span class="comment">// public: ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥</span>
        <span class="comment">// bool: ë¶ˆë¦°í˜• (true/false)</span>
        <span class="comment">// { get; }: ì½ê¸° ì „ìš© ì†ì„±</span>
        <span class="keyword">public bool</span> <span class="property-name">HasSupplies</span> 
        {
            <span class="keyword">get</span> 
            {
                <span class="comment">// graphAgent != null: Behavior Tree ì—ì´ì „íŠ¸ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</span>
                <span class="comment">// GetVariable: Blackboardì—ì„œ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°</span>
                <span class="comment">// "SupplyAmountHeld": ìì› ë³´ìœ ëŸ‰ ë³€ìˆ˜ ì´ë¦„</span>
                <span class="comment">// out: ì¶œë ¥ ë§¤ê°œë³€ìˆ˜ë¡œ ë³€ìˆ˜ì— ê°’ í• ë‹¹</span>
                <span class="keyword">if</span> (<span class="field-name">graphAgent</span> != <span class="keyword">null</span> && 
                     <span class="field-name">graphAgent</span>.<span class="method-name">GetVariable</span>(<span class="string">"SupplyAmountHeld"</span>, 
                     <span class="keyword">out</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; <span class="field-name">heldVariable</span>))
                {
                    <span class="comment">// heldVariable.Value > 0: ë³´ìœ í•œ ìì›ëŸ‰ì´ 0ë³´ë‹¤ í°ì§€ í™•ì¸</span>
                    <span class="keyword">return</span> <span class="field-name">heldVariable</span>.<span class="property-name">Value</span> > <span class="number">0</span>;
                }

                <span class="comment">// false: Behavior Tree ì—ì´ì „íŠ¸ê°€ ì—†ê±°ë‚˜ ë³€ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</span>
                <span class="keyword">return false</span>;
            }
        }

        <span class="comment">// Start: Unity ìƒëª…ì£¼ê¸° ë©”ì„œë“œ</span>
        <span class="comment">// protected override: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜</span>
        <span class="keyword">protected override void</span> Start()
        {
            <span class="comment">// base.Start(): ìƒìœ„ í´ë˜ìŠ¤ì˜ Start ë©”ì„œë“œ í˜¸ì¶œ</span>
            <span class="keyword">base</span>.Start();
            
            <span class="comment">// GetVariable: Behavior Treeì˜ Blackboardì—ì„œ ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°</span>
            <span class="comment">// "GatherSuppliesEvent": Blackboardì— ë“±ë¡ëœ ì´ë²¤íŠ¸ ì±„ë„ ì´ë¦„</span>
            <span class="keyword">if</span> (<span class="field-name">graphAgent</span>.<span class="method-name">GetVariable</span>(<span class="string">"GatherSuppliesEvent"</span>, 
                 <span class="keyword">out</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherSuppliesEventChannel</span>&gt; <span class="field-name">eventChannelVariable</span>))
            {
                <span class="comment">// Event +=: ì´ë²¤íŠ¸ì— í•¸ë“¤ëŸ¬ ë“±ë¡</span>
                <span class="comment">// HandleGatherSupplies: ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í˜¸ì¶œë  ë©”ì„œë“œ</span>
                <span class="field-name">eventChannelVariable</span>.<span class="property-name">Value</span>.<span class="property-name">Event</span> += HandleGatherSupplies;
            }
        }

        <span class="comment">// Gather: ìì› ìˆ˜ì§‘ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GatherableSupply supply: ìˆ˜ì§‘í•  ìì› ê°ì²´</span>
        <span class="keyword">public void</span> <span class="method-name">Gather</span>(<span class="class-name">GatherableSupply</span> <span class="field-name">supply</span>)
        {
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Supply": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply: ì„¤ì •í•  ê°’ (GatherableSupply ê°ì²´)</span>
            <span class="field-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Supply"</span>, <span class="field-name">supply</span>);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "TargetGameObject": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// supply.gameObject: ìˆ˜ì§‘í•  ìì›ì˜ GameObject</span>
            <span class="field-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"TargetGameObject"</span>, <span class="field-name">supply</span>.<span class="property-name">gameObject</span>);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Command": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// UnitCommands.Gather: ìˆ˜ì§‘ ëª…ë ¹</span>
            <span class="field-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.<span class="property-name">Gather</span>);
        }

        <span class="comment">// ReturnSupplies: ìì› ë°˜í™˜ì„ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œ (ìƒˆë¡œ ì¶”ê°€)</span>
        <span class="comment">// public: ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GameObject commandPost: ìì›ì„ ë°˜í™˜í•  Command Post</span>
        <span class="keyword">public void</span> <span class="method-name">ReturnSupplies</span>(<span class="class-name">GameObject</span> <span class="field-name">commandPost</span>)
        {
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "CommandPost": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// commandPost: ì„¤ì •í•  ê°’ (Command Post GameObject)</span>
            <span class="field-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"CommandPost"</span>, <span class="field-name">commandPost</span>);
            
            <span class="comment">// SetVariableValue: Behavior Treeì˜ Blackboardì— ë³€ìˆ˜ ì„¤ì •</span>
            <span class="comment">// "Command": Blackboard ë³€ìˆ˜ ì´ë¦„</span>
            <span class="comment">// UnitCommands.ReturnSupplies: ìì› ë°˜í™˜ ëª…ë ¹</span>
            <span class="field-name">graphAgent</span>.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.<span class="property-name">ReturnSupplies</span>);
        }

        <span class="comment">// HandleGatherSupplies: Behavior Tree ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// GameObject self: ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ ê°ì²´</span>
        <span class="comment">// int amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
        <span class="comment">// SupplySO supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
        <span class="keyword">private void</span> <span class="method-name">HandleGatherSupplies</span>(<span class="class-name">GameObject</span> <span class="field-name">self</span>, <span class="keyword">int</span> <span class="field-name">amount</span>, <span class="class-name">SupplySO</span> <span class="field-name">supply</span>)
        {
            <span class="comment">// Bus<SupplyEvent>.Raise: Event Busë¥¼ í†µí•´ SupplyEvent ì „ì†¡</span>
            <span class="comment">// new SupplyEvent: ìƒˆë¡œìš´ SupplyEvent ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</span>
            <span class="comment">// amount: ìˆ˜ì§‘í•œ ìì›ì˜ ì–‘</span>
            <span class="comment">// supply: ìˆ˜ì§‘í•œ ìì›ì˜ íƒ€ì…</span>
            <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.<span class="method-name">Raise</span>(<span class="keyword">new</span> <span class="class-name">SupplyEvent</span>(<span class="field-name">amount</span>, <span class="field-name">supply</span>));
        }
    }
}</div>
                
                <h4>3. GatherCommand í™•ì¥</h4>
                <p>Command Post í´ë¦­ ì‹œ ìì› ë°˜í™˜ ì²˜ë¦¬:</p>
                
                <div class="code-block">
<span class="comment">// GatherCommand.cs - ìì› ìˆ˜ì§‘ ë° ë°˜í™˜ ëª…ë ¹ í™•ì¥</span>
<span class="comment">// Command Post í´ë¦­ ì‹œ ìì› ë°˜í™˜ ê¸°ëŠ¥ ì¶”ê°€</span>

<span class="keyword">using</span> GameDevTV.RTS.Environment;
<span class="keyword">using</span> GameDevTV.RTS.Units;
<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> GameDevTV.RTS.Commands
{
    <span class="comment">// CreateAssetMenu: Unity Inspectorì—ì„œ ScriptableObject ìƒì„± ë©”ë‰´ ì¶”ê°€</span>
    [CreateAssetMenu(fileName = <span class="string">"Gather Action"</span>, menuName = <span class="string">"AI/Commands/Gather"</span>, order = <span class="number">105</span>)]
    
    <span class="comment">// GatherCommand: ìì› ìˆ˜ì§‘ ë° ë°˜í™˜ì„ ì²˜ë¦¬í•˜ëŠ” ëª…ë ¹ í´ë˜ìŠ¤</span>
    <span class="comment">// ActionBase: ëª¨ë“  ëª…ë ¹ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
    <span class="keyword">public class</span> <span class="class-name">GatherCommand</span> : <span class="class-name">ActionBase</span>
    {
        <span class="comment">// commandPostSO: Command Post ìœ ë‹› íƒ€ì…</span>
        <span class="comment">// [SerializeField]: Unity Inspectorì—ì„œ ì„¤ì • ê°€ëŠ¥</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥</span>
        <span class="comment">// UnitSO: ìœ ë‹› íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ScriptableObject</span>
        [SerializeField] <span class="keyword">private</span> <span class="class-name">UnitSO</span> <span class="field-name">commandPostSO</span>;

        <span class="comment">// CanHandle: ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// public override: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜</span>
        <span class="comment">// bool: ë°˜í™˜ íƒ€ì… (ì²˜ë¦¬ ê°€ëŠ¥ ì—¬ë¶€)</span>
        <span class="comment">// CommandContext context: ëª…ë ¹ ì»¨í…ìŠ¤íŠ¸ (ìœ ë‹›, í´ë¦­ ìœ„ì¹˜ ë“±)</span>
        <span class="keyword">public override bool</span> <span class="method-name">CanHandle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// context.Commandable is Worker: ëª…ë ¹ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ê°ì²´ê°€ Workerì¸ì§€ í™•ì¸</span>
            <span class="comment">// context.Hit.collider != null: í´ë¦­í•œ ìœ„ì¹˜ì— Colliderê°€ ìˆëŠ”ì§€ í™•ì¸</span>
            <span class="comment">// IsGatherableSupplyOrCommandPost: ìì› ë˜ëŠ” Command Postì¸ì§€ í™•ì¸</span>
            <span class="keyword">return</span> <span class="field-name">context</span>.<span class="property-name">Commandable</span> <span class="keyword">is</span> <span class="class-name">Worker</span> 
                && <span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span> != <span class="keyword">null</span> 
                && <span class="method-name">IsGatherableSupplyOrCommandPost</span>(<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>);
        }

        <span class="comment">// Handle: ëª…ë ¹ì„ ì‹¤ì œë¡œ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œ</span>
        <span class="comment">// public override: ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì •ì˜</span>
        <span class="comment">// void: ë°˜í™˜ê°’ ì—†ìŒ</span>
        <span class="comment">// CommandContext context: ëª…ë ¹ ì»¨í…ìŠ¤íŠ¸</span>
        <span class="keyword">public override void</span> <span class="method-name">Handle</span>(<span class="class-name">CommandContext</span> <span class="field-name">context</span>)
        {
            <span class="comment">// Worker worker: ëª…ë ¹ì„ ë°›ì„ Worker ê°ì²´</span>
            <span class="comment">// as Worker: Commandableì„ Workerë¡œ ìºìŠ¤íŒ…</span>
            <span class="class-name">Worker</span> <span class="field-name">worker</span> = <span class="field-name">context</span>.<span class="property-name">Commandable</span> <span class="keyword">as</span> <span class="class-name">Worker</span>;
            
            <span class="comment">// TryGetComponent: Colliderì—ì„œ GatherableSupply ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì ¸ì˜´</span>
            <span class="comment">// out supply: ê°€ì ¸ì˜¨ GatherableSupplyë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
            <span class="keyword">if</span> (<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> <span class="field-name">supply</span>))
            {
                <span class="comment">// Gather: ìì› ìˆ˜ì§‘ ì‹œì‘</span>
                <span class="field-name">worker</span>.<span class="method-name">Gather</span>(<span class="field-name">supply</span>);
            }
            <span class="comment">// else if: ì²« ë²ˆì§¸ ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œë§Œ í™•ì¸</span>
            <span class="comment">// IsCommandPost: Command Postì¸ì§€ í™•ì¸</span>
            <span class="comment">// worker.HasSupplies: Workerê°€ ìì›ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸</span>
            <span class="keyword">else if</span> (<span class="method-name">IsCommandPost</span>(<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>) && <span class="field-name">worker</span>.<span class="property-name">HasSupplies</span>)
            {
                <span class="comment">// ReturnSupplies: ìì› ë°˜í™˜ ì‹œì‘</span>
                <span class="comment">// context.Hit.collider.gameObject: í´ë¦­í•œ Command Postì˜ GameObject</span>
                <span class="field-name">worker</span>.<span class="method-name">ReturnSupplies</span>(<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>.<span class="property-name">gameObject</span>);
            }
            <span class="comment">// else: ìœ„ì˜ ëª¨ë“  ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œ</span>
            <span class="keyword">else</span>
            {
                <span class="comment">// MoveTo: í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™</span>
                <span class="comment">// context.Hit.collider.gameObject.transform.position: í´ë¦­í•œ ê°ì²´ì˜ ìœ„ì¹˜</span>
                <span class="field-name">worker</span>.<span class="method-name">MoveTo</span>(<span class="field-name">context</span>.<span class="property-name">Hit</span>.<span class="property-name">collider</span>.<span class="property-name">gameObject</span>.<span class="property-name">transform</span>.<span class="property-name">position</span>);
            }
        }

        <span class="comment">// IsGatherableSupplyOrCommandPost: ìì› ë˜ëŠ” Command Postì¸ì§€ í™•ì¸í•˜ëŠ” private ë©”ì„œë“œ</span>
        <span class="comment">// private: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥</span>
        <span class="comment">// bool: ë°˜í™˜ íƒ€ì…</span>
        <span class="comment">// Collider collider: í™•ì¸í•  Collider</span>
        <span class="comment">// =>: ëŒë‹¤ í‘œí˜„ì‹ (ê°„ë‹¨í•œ ë©”ì„œë“œ ì •ì˜)</span>
        <span class="keyword">private bool</span> <span class="method-name">IsGatherableSupplyOrCommandPost</span>(<span class="class-name">Collider</span> <span class="field-name">collider</span>) => 
            <span class="field-name">collider</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> _) || 
            <span class="method-name">IsCommandPost</span>(<span class="field-name">collider</span>);
        
        <span class="comment">// IsCommandPost: Command Postì¸ì§€ í™•ì¸í•˜ëŠ” private ë©”ì„œë“œ</span>
        <span class="keyword">private bool</span> <span class="method-name">IsCommandPost</span>(<span class="class-name">Collider</span> <span class="field-name">collider</span>) => 
            <span class="field-name">collider</span>.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">BaseBuilding</span> <span class="field-name">building</span>) && 
            <span class="field-name">building</span>.<span class="property-name">UnitSO</span>.<span class="method-name">Equals</span>(<span class="field-name">commandPostSO</span>);
    }
}</div>
                
                <h3>ğŸ”„ ë™ì‘ ê³¼ì •</h3>
                <ol>
                    <li><strong>Command Post í´ë¦­</strong>: í”Œë ˆì´ì–´ê°€ ìì›ì„ ê°€ì§€ê³  ìˆëŠ” Workerë¡œ Command Post í´ë¦­</li>
                    <li><strong>ì¡°ê±´ í™•ì¸</strong>: GatherCommandì—ì„œ Workerê°€ ìì›ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸</li>
                    <li><strong>ìì› ë°˜í™˜ ëª…ë ¹</strong>: ReturnSupplies ë©”ì„œë“œ í˜¸ì¶œ</li>
                    <li><strong>Behavior Tree ì‹¤í–‰</strong>: ReturnSupplies ëª…ë ¹ìœ¼ë¡œ Behavior Tree ì‹¤í–‰</li>
                    <li><strong>Command Postë¡œ ì´ë™</strong>: SetAgentAvoidance â†’ MoveToTargetGameObject</li>
                    <li><strong>ìì› ë°˜í™˜</strong>: RaiseEventë¡œ ìì› ë°˜í™˜ ì´ë²¤íŠ¸ ë°œìƒ</li>
                    <li><strong>ë‹¤ì‹œ ìˆ˜ì§‘</strong>: ëª…ë ¹ì„ Gatherë¡œ ë³€ê²½í•˜ì—¬ ë‹¤ì‹œ ìˆ˜ì§‘ ì‹œì‘</li>
                </ol>
                
                <h3>ğŸ® ê²Œì„ì—ì„œì˜ íš¨ê³¼</h3>
                <ul>
                    <li><strong>ì§ê´€ì ì¸ ìƒí˜¸ì‘ìš©</strong>: Command Post í´ë¦­ìœ¼ë¡œ ìì› ë°˜í™˜ ê°€ëŠ¥</li>
                    <li><strong>StarCraft 2ì™€ ìœ ì‚¬í•œ ë™ì‘</strong>: ì‹¤ì œ RTS ê²Œì„ê³¼ ê°™ì€ í–‰ë™ íŒ¨í„´</li>
                    <li><strong>íš¨ìœ¨ì ì¸ ìì› ê´€ë¦¬</strong>: í”Œë ˆì´ì–´ê°€ ì§ì ‘ ìì› ë°˜í™˜ ì‹œì  ì œì–´</li>
                    <li><strong>ìë™ ìˆ˜ì§‘ ì¬ê°œ</strong>: ìì› ë°˜í™˜ í›„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ìˆ˜ì§‘ ì‹œì‘</li>
                </ul>
                
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    <li><strong>ê³„ì‚°ëœ ì†ì„±</strong>: HasSuppliesëŠ” Blackboard ë³€ìˆ˜ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸</li>
                    <li><strong>ì¡°ê±´ë¶€ ì²˜ë¦¬</strong>: ìì› ë³´ìœ  ìƒíƒœì— ë”°ë¥¸ ë‹¤ë¥¸ ë™ì‘</li>
                    <li><strong>ëª…ë ¹ ì²´ê³„ í™•ì¥</strong>: ìƒˆë¡œìš´ ReturnSupplies ëª…ë ¹ ì¶”ê°€</li>
                    <li><strong>Behavior Tree ì—°ë™</strong>: ëª…ë ¹ ë³€ê²½ìœ¼ë¡œ Behavior Tree íë¦„ ì œì–´</li>
                    <li><strong>ì•ˆì „í•œ ì ‘ê·¼</strong>: null ì²´í¬ ë° ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬</li>
                </ul>
                
                <h3>ğŸ“Š ì‹œìŠ¤í…œ êµ¬ì¡°</h3>
                <div class="info-box">
                    <h4>ğŸ”„ ìì› ë°˜í™˜ íë¦„ë„</h4>
                    <ol>
                        <li><strong>Command Post í´ë¦­</strong>: í”Œë ˆì´ì–´ê°€ Command Post ìš°í´ë¦­</li>
                        <li><strong>GatherCommand í™•ì¸</strong>: CanHandleì—ì„œ ì¡°ê±´ í™•ì¸</li>
                        <li><strong>ìì› ë³´ìœ  í™•ì¸</strong>: worker.HasSupplies í™•ì¸</li>
                        <li><strong>ReturnSupplies í˜¸ì¶œ</strong>: ìì› ë°˜í™˜ ëª…ë ¹ ì‹¤í–‰</li>
                        <li><strong>Behavior Tree ì‹¤í–‰</strong>: ReturnSupplies ëª…ë ¹ìœ¼ë¡œ íŠ¸ë¦¬ ì‹¤í–‰</li>
                        <li><strong>Command Post ì´ë™</strong>: ëª©í‘œ Command Postë¡œ ì´ë™</li>
                        <li><strong>ìì› ë°˜í™˜</strong>: ì´ë²¤íŠ¸ ë°œìƒ ë° ìì› ì „ë‹¬</li>
                        <li><strong>ìˆ˜ì§‘ ì¬ê°œ</strong>: ëª…ë ¹ì„ Gatherë¡œ ë³€ê²½í•˜ì—¬ ìˆ˜ì§‘ ì¬ì‹œì‘</li>
                    </ol>
                </div>
                
                <h3>ğŸ¯ Behavior Tree êµ¬ì¡°</h3>
                <div class="info-box">
                    <h4>ğŸŒ³ ReturnSupplies ë¸Œëœì¹˜</h4>
                    <ol>
                        <li><strong>SetAgentAvoidance</strong>: íšŒí”¼ í’ˆì§ˆì„ 0ìœ¼ë¡œ ì„¤ì • (ë‹¤ë¥¸ ìœ ë‹› í†µê³¼)</li>
                        <li><strong>MoveToTargetGameObject</strong>: Command Postë¡œ ì´ë™</li>
                        <li><strong>RaiseEvent</strong>: ìì› ë°˜í™˜ ì´ë²¤íŠ¸ ë°œìƒ</li>
                        <li><strong>SetVariableValue</strong>: ëª…ë ¹ì„ Gatherë¡œ ë³€ê²½</li>
                        <li><strong>Wait For Any</strong>: Gather ë¸Œëœì¹˜ì™€ í•©ì¹˜ê¸°</li>
                    </ol>
                </div>
                
                <h3>ğŸ” StarCraft 2 ì°¸ê³ </h3>
                <div class="info-box">
                    <h4>ğŸ® StarCraft 2ì˜ Worker ë™ì‘</h4>
                    <ul>
                        <li><strong>ë“œë¡ (Drone)</strong>: Zergì˜ Worker ìœ ë‹›</li>
                        <li><strong>Hatchery í´ë¦­</strong>: Hatcheryë¥¼ í´ë¦­í•˜ë©´ ìì› ë°˜í™˜</li>
                        <li><strong>ìë™ ìˆ˜ì§‘ ì¬ê°œ</strong>: ìì› ë°˜í™˜ í›„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ìˆ˜ì§‘</li>
                        <li><strong>íš¨ìœ¨ì ì¸ ì´ë™</strong>: ë‹¤ë¥¸ ìœ ë‹›ì„ í†µê³¼í•˜ë©° ì´ë™</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
