<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°•ì˜: Sensing Nearby Units (ê·¼ì²˜ ìœ ë‹› ê°ì§€)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #333;
            margin: 20px 0 15px 0;
            font-size: 1.3rem;
        }

        .concept-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .important-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .code-box {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            line-height: 1.5;
        }

        .code-box .keyword {
            color: #c678dd;
        }

        .code-box .type {
            color: #e5c07b;
        }

        .code-box .string {
            color: #98c379;
        }

        .code-box .comment {
            color: #5c6370;
            font-style: italic;
        }

        .flow-diagram {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .step:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:hover {
            background: #f8f9fa;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .emoji {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        ul, ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        li {
            margin: 8px 0;
        }

        strong {
            color: #667eea;
        }

        .visual-box {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .sensor-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px;
            gap: 30px;
        }

        .unit-circle {
            width: 80px;
            height: 80px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            position: relative;
        }

        .sensor-radius {
            width: 200px;
            height: 200px;
            border: 3px dashed #4facfe;
            border-radius: 50%;
            position: absolute;
            opacity: 0.5;
        }

        .nearby-unit {
            width: 50px;
            height: 50px;
            background: #ffc107;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Sensing Nearby Units</h1>
            <div class="subtitle">ê·¼ì²˜ ìœ ë‹›ì„ ê°ì§€í•˜ëŠ” Physics ê¸°ë°˜ ì„¼ì„œ ë§Œë“¤ê¸°</div>
        </div>

        <div class="content">
            <!-- AI ì´í•´ í”„ë ˆì„ì›Œí¬ -->
            <div class="section">
                <h2><span class="emoji">ğŸ§ </span>AIê°€ ì„¸ìƒì„ ì´í•´í•˜ëŠ” ë°©ë²•</h2>

                <div class="concept-box">
                    <h3>í•µì‹¬ ê°œë…: State & Sensors</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 15px;">
                        AIê°€ ë³µì¡í•œ ì„¸ìƒì„ ì´í•´í•˜ë ¤ë©´ <strong>êµ¬ì¡°í™”ëœ ë°©ë²•</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤.
                    </p>
                    <ul style="font-size: 1.05rem; line-height: 1.8;">
                        <li><strong>State (ìƒíƒœ)</strong> - AIê°€ ì•Œê³  ìˆëŠ” ë°ì´í„°</li>
                        <li><strong>Sensors (ì„¼ì„œ)</strong> - AIì—ê²Œ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜</li>
                    </ul>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>êµ¬ì„± ìš”ì†Œ</th>
                            <th>ì„¤ëª…</th>
                            <th>ì˜ˆì‹œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>State (ìƒíƒœ)</strong></td>
                            <td>AIê°€ í˜„ì¬ ì•Œê³  ìˆëŠ” ëª¨ë“  ì •ë³´</td>
                            <td>
                                â€¢ Blackboard ë°ì´í„°<br>
                                â€¢ í˜„ì¬ ëª…ë ¹ (Move, Attack ë“±)<br>
                                â€¢ íƒ€ê²Ÿ ìœ„ì¹˜
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Sensors (ì„¼ì„œ)</strong></td>
                            <td>ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” C# í´ë˜ìŠ¤/ë©”ì»¤ë‹ˆì¦˜</td>
                            <td>
                                â€¢ Physics ì„¼ì„œ (ì´ë²ˆ ê°•ì˜)<br>
                                â€¢ Raycast ì„¼ì„œ<br>
                                â€¢ ì‹œì•¼(Vision) ì„¼ì„œ
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-box">
                    <h3>ğŸ”‘ ì™œ ì´ë ‡ê²Œ í•´ì•¼ í• ê¹Œ?</h3>
                    <p style="font-size: 1.05rem;">
                        ëª¨ë“  ê±¸ ì¦‰í¥ì ìœ¼ë¡œ(ad hoc) ì²˜ë¦¬í•˜ë©´ <strong>ì½”ë“œê°€ ê¸ˆë°© ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ë¶ˆê°€ëŠ¥</strong>í•´ì§‘ë‹ˆë‹¤.
                        <br><br>
                        Stateì™€ Sensorsë¡œ ë‚˜ëˆ„ë©´:
                    </p>
                    <ul style="margin-top: 10px;">
                        <li>âœ… ì½”ë“œê°€ ì²´ê³„ì ì´ê³  í™•ì¥ ê°€ëŠ¥</li>
                        <li>âœ… AI ë¡œì§ê³¼ ë°ì´í„° ìˆ˜ì§‘ì´ ë¶„ë¦¬ë¨</li>
                        <li>âœ… ìƒˆë¡œìš´ ì„¼ì„œë¥¼ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥</li>
                    </ul>
                </div>
            </div>

            <!-- Physics ê¸°ë°˜ ì„¼ì„œ -->
            <div class="section">
                <h2><span class="emoji">âš¡</span>Physics ê¸°ë°˜ ì„¼ì„œ ë§Œë“¤ê¸°</h2>

                <div class="visual-box">
                    <h3 style="margin-bottom: 20px;">ì„¼ì„œ ì‘ë™ ë°©ì‹</h3>
                    <div class="sensor-visual">
                        <div style="position: relative;">
                            <div class="unit-circle">
                                ğŸ¤–
                                <div class="sensor-radius"></div>
                            </div>
                        </div>
                        <div style="font-size: 2rem;">â†’</div>
                        <div class="nearby-unit">ğŸ‘·</div>
                        <div class="nearby-unit">ğŸ‘·</div>
                    </div>
                    <p style="margin-top: 20px; color: #666;">
                        <strong>Sphere Collider (Trigger)</strong>ë¥¼ ì‚¬ìš©í•´ì„œ<br>
                        ë°˜ê²½ 8 ìœ ë‹› ë‚´ì˜ ëª¨ë“  IDamagebleì„ ê°ì§€
                    </p>
                </div>

                <h3>ğŸ“‹ êµ¬í˜„ ë‹¨ê³„</h3>
                <div class="flow-diagram">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>DamageableSensor GameObject ìƒì„±</strong><br>
                            Rifleman ì•„ë˜ì— ë¹ˆ GameObject ì¶”ê°€
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>Sphere Collider ì¶”ê°€</strong><br>
                            â€¢ Radius: 8<br>
                            â€¢ Is Trigger: âœ… (ì¶©ëŒí•˜ì§€ ì•Šê³  ê°ì§€ë§Œ)
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Rigidbody ì¶”ê°€ (Worker & Rifleman)</strong><br>
                            â€¢ Use Gravity: âŒ<br>
                            â€¢ Is Kinematic: âœ… (ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ OFF)
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <strong>DamageableSensor ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±</strong><br>
                            OnTriggerEnter/Exit ì´ë²¤íŠ¸ ì²˜ë¦¬
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <strong>Physics Layer ì„¤ì •</strong><br>
                            "DamageableSensors" ë ˆì´ì–´ ìƒì„± ë° ì¶©ëŒ ë§¤íŠ¸ë¦­ìŠ¤ ì„¤ì •
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rigidbody ì„¤ì • -->
            <div class="section">
                <h2><span class="emoji">ğŸ”§</span>Rigidbody ì„¤ì •</h2>

                <div class="important-box">
                    <h3>ì™œ Rigidbodyê°€ í•„ìš”í•œê°€?</h3>
                    <p>
                        Unityì—ì„œ <code>OnTriggerEnter</code>ì™€ <code>OnTriggerExit</code> ì´ë²¤íŠ¸ë¥¼ ë°›ìœ¼ë ¤ë©´,
                        <strong>Trigger Collider</strong>ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë¬¼ì²´ì— <strong>Rigidbody ë˜ëŠ” CharacterController</strong>ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
                    </p>
                </div>

                <h3>Worker/Riflemanì— Rigidbody ì¶”ê°€</h3>
                <div class="code-box">
<span class="comment">// Inspector ì„¤ì •</span>
<span class="type">Rigidbody</span> ì»´í¬ë„ŒíŠ¸:
  âœ… Is Kinematic: <span class="keyword">true</span>    <span class="comment">// ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ë¹„í™œì„±í™”</span>
  âŒ Use Gravity: <span class="keyword">false</span>     <span class="comment">// ì¤‘ë ¥ ì ìš© ì•ˆ í•¨</span>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>ì„¤ì •</th>
                            <th>ê°’</th>
                            <th>ì´ìœ </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Is Kinematic</strong></td>
                            <td>âœ… True</td>
                            <td>NavMesh Agentê°€ ì´ë™ì„ ì œì–´í•˜ë¯€ë¡œ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ë¶ˆí•„ìš”</td>
                        </tr>
                        <tr>
                            <td><strong>Use Gravity</strong></td>
                            <td>âŒ False</td>
                            <td>ìœ ë‹›ì´ ë°”ë‹¥ì„ ëš«ê³  ë–¨ì–´ì§€ëŠ” ê²ƒ ë°©ì§€</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- DamageableSensor ìŠ¤í¬ë¦½íŠ¸ -->
            <div class="section">
                <h2><span class="emoji">ğŸ“</span>DamageableSensor.cs ìŠ¤í¬ë¦½íŠ¸</h2>

                <h3>ì „ì²´ ì½”ë“œ</h3>
                <div class="code-box">
<span class="keyword">using</span> System.Collections.Generic;
<span class="keyword">using</span> System.Linq;
<span class="keyword">using</span> UnityEngine;

<span class="keyword">namespace</span> <span class="type">GameDevTV.RTS.Units</span>
{
    [<span class="type">RequireComponent</span>(<span class="keyword">typeof</span>(<span class="type">Collider</span>))]
    <span class="keyword">public class</span> <span class="type">DamageableSensor</span> : <span class="type">MonoBehaviour</span>
    {
        <span class="comment">// Delegate ì •ì˜: ìœ ë‹› ê°ì§€ ì´ë²¤íŠ¸</span>
        <span class="keyword">public delegate void</span> <span class="type">UnitDetectionEvent</span>(<span class="type">IDamageable</span> damageable);

        <span class="comment">// ì´ë²¤íŠ¸: ìœ ë‹›ì´ ì„¼ì„œ ë²”ìœ„ì— ë“¤ì–´ì™”ì„ ë•Œ</span>
        <span class="keyword">public event</span> <span class="type">UnitDetectionEvent</span> OnUnitEnter;

        <span class="comment">// ì´ë²¤íŠ¸: ìœ ë‹›ì´ ì„¼ì„œ ë²”ìœ„ì—ì„œ ë‚˜ê°”ì„ ë•Œ</span>
        <span class="keyword">public event</span> <span class="type">UnitDetectionEvent</span> OnUnitExit;

        <span class="comment">// í˜„ì¬ ê°ì§€ëœ ëª¨ë“  IDamageable ì €ì¥</span>
        <span class="keyword">private</span> <span class="type">HashSet</span>&lt;<span class="type">IDamageable</span>&gt; damageables = <span class="keyword">new</span> <span class="type">HashSet</span>&lt;<span class="type">IDamageable</span>&gt;();

        <span class="comment">// ì™¸ë¶€ì—ì„œ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥ (List ë³µì‚¬ë³¸ ë°˜í™˜)</span>
        <span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">IDamageable</span>&gt; Damageables => damageables.ToList();

        <span class="comment">// Unity ì´ë²¤íŠ¸: Triggerì— ë­”ê°€ ë“¤ì–´ì™”ì„ ë•Œ</span>
        <span class="keyword">private void</span> <span class="type">OnTriggerEnter</span>(<span class="type">Collider</span> collider)
        {
            <span class="comment">// IDamageable ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸</span>
            <span class="keyword">if</span> (collider.TryGetComponent&lt;<span class="type">IDamageable</span>&gt;(<span class="keyword">out</span> <span class="keyword">var</span> damageable))
            {
                <span class="comment">// HashSetì— ì¶”ê°€</span>
                damageables.Add(damageable);

                <span class="comment">// ì´ë²¤íŠ¸ ë°œìƒ (null ì²´í¬)</span>
                OnUnitEnter?.Invoke(damageable);
            }
        }

        <span class="comment">// Unity ì´ë²¤íŠ¸: Triggerì—ì„œ ë­”ê°€ ë‚˜ê°”ì„ ë•Œ</span>
        <span class="keyword">private void</span> <span class="type">OnTriggerExit</span>(<span class="type">Collider</span> collider)
        {
            <span class="comment">// IDamageable ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸</span>
            <span class="keyword">if</span> (collider.TryGetComponent&lt;<span class="type">IDamageable</span>&gt;(<span class="keyword">out</span> <span class="keyword">var</span> damageable))
            {
                <span class="comment">// HashSetì—ì„œ ì œê±°</span>
                damageables.Remove(damageable);

                <span class="comment">// ì´ë²¤íŠ¸ ë°œìƒ (null ì²´í¬)</span>
                OnUnitExit?.Invoke(damageable);
            }
        }
    }
}
                </div>

                <h3>ì½”ë“œ ì„¤ëª…</h3>

                <div class="concept-box">
                    <h4>1ï¸âƒ£ Delegateì™€ Event</h4>
                    <div class="code-box">
<span class="keyword">public delegate void</span> <span class="type">UnitDetectionEvent</span>(<span class="type">IDamageable</span> damageable);
<span class="keyword">public event</span> <span class="type">UnitDetectionEvent</span> OnUnitEnter;
<span class="keyword">public event</span> <span class="type">UnitDetectionEvent</span> OnUnitExit;
                    </div>
                    <p style="margin-top: 10px;">
                        <strong>Delegate</strong>: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ì •ì˜<br>
                        <strong>Event</strong>: ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ êµ¬ë…í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸
                    </p>
                </div>

                <div class="concept-box">
                    <h4>2ï¸âƒ£ HashSetìœ¼ë¡œ ì¤‘ë³µ ë°©ì§€</h4>
                    <div class="code-box">
<span class="keyword">private</span> <span class="type">HashSet</span>&lt;<span class="type">IDamageable</span>&gt; damageables = <span class="keyword">new</span> <span class="type">HashSet</span>&lt;<span class="type">IDamageable</span>&gt;();
                    </div>
                    <p style="margin-top: 10px;">
                        HashSetì€ <strong>ì¤‘ë³µì„ ìë™ìœ¼ë¡œ ë°©ì§€</strong>í•˜ë¯€ë¡œ ê°™ì€ ìœ ë‹›ì´ ì—¬ëŸ¬ ë²ˆ ì¶”ê°€ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                    </p>
                </div>

                <div class="concept-box">
                    <h4>3ï¸âƒ£ ì½ê¸° ì „ìš© List ë°˜í™˜</h4>
                    <div class="code-box">
<span class="keyword">public</span> <span class="type">List</span>&lt;<span class="type">IDamageable</span>&gt; Damageables => damageables.ToList();
                    </div>
                    <p style="margin-top: 10px;">
                        <strong>ì™œ ToList()ë¥¼ í• ê¹Œ?</strong><br>
                        ì™¸ë¶€ì—ì„œ <code>Damageables.Add()</code>ë¥¼ í•´ë„ <strong>ë³µì‚¬ë³¸</strong>ë§Œ ë³€ê²½ë˜ë¯€ë¡œ ì›ë³¸ HashSetì€ ì•ˆì „í•©ë‹ˆë‹¤.
                    </p>
                </div>

                <div class="important-box">
                    <h4>âš ï¸ ë§Œì•½ ì´ë ‡ê²Œ í–ˆë‹¤ë©´?</h4>
                    <div class="code-box">
<span class="comment">// âŒ ì˜ëª»ëœ ë°©ë²•</span>
<span class="keyword">public</span> <span class="type">HashSet</span>&lt;<span class="type">IDamageable</span>&gt; Damageables { <span class="keyword">get</span>; <span class="keyword">private set</span>; }
                    </div>
                    <p style="margin-top: 10px;">
                        ì™¸ë¶€ì—ì„œ <code>sensor.Damageables.Add(something)</code>ì„ í•˜ë©´ ì›ë³¸ HashSetì´ ë³€ê²½ë©ë‹ˆë‹¤! ğŸš¨<br>
                        <code>private set</code>ì€ <strong>ì°¸ì¡° êµì²´</strong>ë§Œ ë§‰ê³ , <strong>ë‚´ìš© ë³€ê²½</strong>ì€ ë§‰ì§€ ëª»í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- AbstractUnit í†µí•© -->
            <div class="section">
                <h2><span class="emoji">ğŸ”—</span>AbstractUnit.cs í†µí•©</h2>

                <h3>DamageableSensor ì—°ê²°</h3>
                <div class="code-box">
<span class="keyword">using</span> GameDevTV.RTS.Units;

<span class="keyword">public abstract class</span> <span class="type">AbstractUnit</span> : <span class="type">AbstractCommandable</span>, <span class="type">IMoveable</span>, <span class="type">IDamageable</span>
{
    [<span class="type">SerializeField</span>] <span class="keyword">private</span> <span class="type">DamageableSensor</span> damageableSensor;

    <span class="keyword">protected override void</span> <span class="type">Start</span>()
    {
        <span class="keyword">base</span>.Start();

        <span class="comment">// DamageableSensor ì´ë²¤íŠ¸ êµ¬ë…</span>
        <span class="keyword">if</span> (damageableSensor != <span class="keyword">null</span>)
        {
            damageableSensor.OnUnitEnter += HandleUnitEnter;
            damageableSensor.OnUnitExit += HandleUnitExit;
        }
    }

    <span class="keyword">private void</span> <span class="type">HandleUnitEnter</span>(<span class="type">IDamageable</span> damageable)
    {
        <span class="type">Debug</span>.Log(<span class="string">$"Detected unit ENTER - </span>{damageableSensor.Damageables.Count}<span class="string"> nearby damageables"</span>);

        <span class="comment">// TODO: Blackboardì— ì—…ë°ì´íŠ¸</span>
        <span class="comment">// graphAgent.SetVariableValue("NearbyEnemies", damageableSensor.Damageables);</span>
    }

    <span class="keyword">private void</span> <span class="type">HandleUnitExit</span>(<span class="type">IDamageable</span> damageable)
    {
        <span class="type">Debug</span>.Log(<span class="string">$"Detected unit EXIT - </span>{damageableSensor.Damageables.Count}<span class="string"> nearby damageables"</span>);

        <span class="comment">// TODO: Blackboardì— ì—…ë°ì´íŠ¸</span>
    }
}
                </div>

                <div class="concept-box">
                    <h3>Awake vs Start íŒ¨í„´</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>ë©”ì„œë“œ</th>
                                <th>ìš©ë„</th>
                                <th>ì˜ˆì‹œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Awake()</strong></td>
                                <td>ìê¸° ìì‹  ì´ˆê¸°í™”</td>
                                <td>
                                    â€¢ ì»´í¬ë„ŒíŠ¸ GetComponent<br>
                                    â€¢ ë‚´ë¶€ ë³€ìˆ˜ ì´ˆê¸°í™”
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Start()</strong></td>
                                <td>ì˜ì¡´ì„± ì„¤ì •</td>
                                <td>
                                    â€¢ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ì´ë²¤íŠ¸ êµ¬ë…<br>
                                    â€¢ ë‹¤ë¥¸ ì˜¤ë¸Œì íŠ¸ ì°¸ì¡°
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 10px;">
                        ì´ë ‡ê²Œ í•˜ë©´ <strong>Start()ì—ì„œ ì˜ì¡´ì„±ì„ ì„¤ì •í•  ë•Œ</strong> ë‹¤ë¥¸ ì˜¤ë¸Œì íŠ¸ì˜ Awake()ê°€ ì´ë¯¸ ì‹¤í–‰ëœ ìƒíƒœë¼ ì•ˆì „í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- Physics Layer ì„¤ì • -->
            <div class="section">
                <h2><span class="emoji">ğŸ®</span>Physics Layer ì„¤ì •</h2>

                <h3>1ï¸âƒ£ ìƒˆ ë ˆì´ì–´ ìƒì„±</h3>
                <div class="flow-diagram">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Inspector â†’ Layer â†’ Add Layer</strong><br>
                            Layer 10ì— "DamageableSensors" ì¶”ê°€
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>DamageableSensor GameObject</strong><br>
                            Layerë¥¼ "DamageableSensors"ë¡œ ë³€ê²½
                        </div>
                    </div>
                </div>

                <h3>2ï¸âƒ£ Layer Collision Matrix ì„¤ì •</h3>
                <div class="important-box">
                    <p><strong>Edit â†’ Project Settings â†’ Physics â†’ Layer Collision Matrix</strong></p>
                    <p style="margin-top: 10px;">
                        <code>DamageableSensors</code> ë ˆì´ì–´ê°€ ì¶©ëŒí•  ëŒ€ìƒ:
                    </p>
                    <ul style="margin-top: 10px;">
                        <li>âœ… <strong>Units</strong> - ìœ ë‹›ê³¼ ì¶©ëŒ</li>
                        <li>âœ… <strong>Buildings</strong> - ê±´ë¬¼ê³¼ ì¶©ëŒ</li>
                        <li>âŒ <strong>Default, UI, Floor ë“±</strong> - ë‚˜ë¨¸ì§€ëŠ” ì¶©ëŒ ì•ˆ í•¨</li>
                    </ul>
                </div>

                <div class="visual-box">
                    <h3>Collision Matrix ì‹œê°í™”</h3>
                    <table class="comparison-table" style="margin-top: 15px;">
                        <thead>
                            <tr>
                                <th>ë ˆì´ì–´</th>
                                <th>DamageableSensorsì™€ ì¶©ëŒ?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Units</td>
                                <td style="background: #d4edda;">âœ… ì¶©ëŒí•¨</td>
                            </tr>
                            <tr>
                                <td>Buildings</td>
                                <td style="background: #d4edda;">âœ… ì¶©ëŒí•¨</td>
                            </tr>
                            <tr>
                                <td>Default</td>
                                <td style="background: #f8d7da;">âŒ ì¶©ëŒ ì•ˆ í•¨</td>
                            </tr>
                            <tr>
                                <td>Floor</td>
                                <td style="background: #f8d7da;">âŒ ì¶©ëŒ ì•ˆ í•¨</td>
                            </tr>
                            <tr>
                                <td>UI</td>
                                <td style="background: #f8d7da;">âŒ ì¶©ëŒ ì•ˆ í•¨</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- í…ŒìŠ¤íŠ¸ -->
            <div class="section">
                <h2><span class="emoji">ğŸ§ª</span>í…ŒìŠ¤íŠ¸</h2>

                <h3>í…ŒìŠ¤íŠ¸ ì ˆì°¨</h3>
                <div class="flow-diagram">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong>Rifleman í”„ë¦¬íŒ¹ ì„¤ì •</strong><br>
                            â€¢ DamageableSensor ì¶”ê°€<br>
                            â€¢ Sphere Collider (Radius: 8, Is Trigger: âœ…)<br>
                            â€¢ DamageableSensor ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€<br>
                            â€¢ Layer: DamageableSensors
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong>AbstractUnitì— ì°¸ì¡° ì—°ê²°</strong><br>
                            Inspectorì—ì„œ DamageableSensor ë“œë˜ê·¸
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong>Play Mode í…ŒìŠ¤íŠ¸</strong><br>
                            Riflemanì„ Worker ê·¼ì²˜ë¡œ ì´ë™ì‹œí‚¤ë©´ì„œ Console í™•ì¸
                        </div>
                    </div>
                </div>

                <h3>ì˜ˆìƒ ì¶œë ¥</h3>
                <div class="code-box">
<span class="comment">// Riflemanì´ Workerì—ê²Œ ë‹¤ê°€ê°ˆ ë•Œ</span>
Detected unit ENTER - 1 nearby damageables
Detected unit ENTER - 2 nearby damageables
Detected unit ENTER - 3 nearby damageables

<span class="comment">// Riflemanì´ Workerì—ê²Œì„œ ë©€ì–´ì§ˆ ë•Œ</span>
Detected unit EXIT - 2 nearby damageables
Detected unit EXIT - 1 nearby damageables
Detected unit EXIT - 0 nearby damageables
                </div>
            </div>

            <!-- ë°°ìš´ ë‚´ìš© -->
            <div class="section">
                <h2><span class="emoji">ğŸ“š</span>ì´ ê°•ì˜ì—ì„œ ë°°ìš´ ë‚´ìš©</h2>

                <div class="concept-box">
                    <h3>1ï¸âƒ£ AI ì•„í‚¤í…ì²˜ íŒ¨í„´</h3>
                    <ul>
                        <li><strong>State</strong> - AIê°€ ì•Œê³  ìˆëŠ” ë°ì´í„° (Blackboard)</li>
                        <li><strong>Sensors</strong> - ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜</li>
                        <li>ë³µì¡ë„ë¥¼ ê´€ë¦¬í•˜ëŠ” êµ¬ì¡°í™”ëœ ì ‘ê·¼ ë°©ì‹</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>2ï¸âƒ£ Unity Physics Trigger</h3>
                    <ul>
                        <li><code>OnTriggerEnter</code> / <code>OnTriggerExit</code> ì´ë²¤íŠ¸</li>
                        <li>Sphere Collider + Is Trigger = ì¶©ëŒ ì—†ì´ ê°ì§€ë§Œ</li>
                        <li>Rigidbody (Is Kinematic) í•„ìˆ˜</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>3ï¸âƒ£ Delegateì™€ Event</h3>
                    <ul>
                        <li>í´ë˜ìŠ¤ ê°„ ëŠìŠ¨í•œ ê²°í•© (Loose Coupling)</li>
                        <li>ì´ë²¤íŠ¸ êµ¬ë…/êµ¬ë… í•´ì œ íŒ¨í„´</li>
                        <li><code>?.Invoke()</code> - Null-conditional ì—°ì‚°ì</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>4ï¸âƒ£ ì»¬ë ‰ì…˜ê³¼ ìº¡ìŠí™”</h3>
                    <ul>
                        <li>HashSetìœ¼ë¡œ ì¤‘ë³µ ë°©ì§€</li>
                        <li><code>ToList()</code>ë¡œ ë³µì‚¬ë³¸ ë°˜í™˜í•´ì„œ ì›ë³¸ ë³´í˜¸</li>
                        <li><code>private set</code>ì€ ì°¸ì¡°ë§Œ ë§‰ê³  ë‚´ìš©ì€ ëª» ë§‰ìŒ</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>5ï¸âƒ£ Physics Layer System</h3>
                    <ul>
                        <li>Layerë¡œ ì¶©ëŒ ëŒ€ìƒ í•„í„°ë§</li>
                        <li>Layer Collision Matrixë¡œ ì„±ëŠ¥ ìµœì í™”</li>
                        <li>ë¶ˆí•„ìš”í•œ ì¶©ëŒ ê³„ì‚° ì œê±°</li>
                    </ul>
                </div>
            </div>

            <!-- ìš”ì•½ -->
            <div class="section">
                <h2><span class="emoji">ğŸ¯</span>í•µì‹¬ ìš”ì•½</h2>

                <div style="background: white; padding: 25px; border-radius: 12px; border: 3px solid #667eea;">
                    <h3 style="color: #667eea; margin-top: 0;">DamageableSensor ì™„ì„±!</h3>

                    <table class="comparison-table" style="margin-top: 15px;">
                        <thead>
                            <tr>
                                <th>ì»´í¬ë„ŒíŠ¸</th>
                                <th>ì—­í• </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Sphere Collider</strong></td>
                                <td>ë°˜ê²½ 8 ìœ ë‹› ë‚´ ê°ì§€ ì˜ì—­</td>
                            </tr>
                            <tr>
                                <td><strong>DamageableSensor.cs</strong></td>
                                <td>OnTriggerEnter/Exit ì²˜ë¦¬ ë° ì´ë²¤íŠ¸ ë°œìƒ</td>
                            </tr>
                            <tr>
                                <td><strong>HashSet&lt;IDamageable&gt;</strong></td>
                                <td>í˜„ì¬ ê°ì§€ëœ ìœ ë‹› ì €ì¥ (ì¤‘ë³µ ë°©ì§€)</td>
                            </tr>
                            <tr>
                                <td><strong>OnUnitEnter/Exit ì´ë²¤íŠ¸</strong></td>
                                <td>AbstractUnitì— ì•Œë¦¼</td>
                            </tr>
                            <tr>
                                <td><strong>AbstractUnit</strong></td>
                                <td>ì´ë²¤íŠ¸ êµ¬ë… ë° Blackboard ì—…ë°ì´íŠ¸ (í–¥í›„)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: #667eea; margin-top: 25px;">ë‹¤ìŒ ë‹¨ê³„</h3>
                    <ul style="font-size: 1.1rem; margin-top: 10px;">
                        <li>ğŸ¯ Behavior Treeì—ì„œ <code>NearbyEnemies</code> ë°ì´í„° í™œìš©</li>
                        <li>âš”ï¸ ìë™ ê³µê²© ë¡œì§ êµ¬í˜„</li>
                        <li>ğŸ‘ï¸ ì‹œì•¼(Vision) ì„¼ì„œ ì¶”ê°€ (ì„ íƒì )</li>
                    </ul>
                </div>
            </div>

            <!-- ë§ˆë¬´ë¦¬ -->
            <div class="section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                <h2 style="color: white;">ğŸ‰ ì™„ë£Œ!</h2>
                <p style="font-size: 1.2rem; line-height: 1.8;">
                    ì´ì œ ìœ ë‹›ì´ <strong>ì£¼ë³€ 8 ìœ ë‹› ë°˜ê²½ ë‚´ì˜ ëª¨ë“  IDamageableì„ ê°ì§€</strong>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!<br><br>
                    Physics ê¸°ë°˜ ì„¼ì„œë¥¼ ë§Œë“¤ì–´ì„œ AIê°€ <strong>ì„¸ìƒì„ ì´í•´í•˜ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„</strong>ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.
                </p>
                <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                    <strong>State & Sensors íŒ¨í„´</strong>ìœ¼ë¡œ ë” ë³µì¡í•œ AIë„ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
                </div>
            </div>
        </div>
    </div>
</body>
</html>
