<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unity RTS í”„ë¡œì íŠ¸ ì™„ë²½ ê°€ì´ë“œ (Lecture 15 ì‹œì ) | ê¸¸ ê°€ë©´ì„œ ì½ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            line-height: 1.8;
            color: #191F28;
            background: linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
            padding: 60px;
        }

        h1 {
            font-size: 48px;
            font-weight: 800;
            color: #0064FF;
            margin-bottom: 16px;
            line-height: 1.2;
        }

        h2 {
            font-size: 36px;
            font-weight: 700;
            color: #191F28;
            margin: 60px 0 24px;
            padding-bottom: 16px;
            border-bottom: 3px solid #0064FF;
        }

        h3 {
            font-size: 28px;
            font-weight: 600;
            color: #333D4B;
            margin: 40px 0 16px;
        }

        h4 {
            font-size: 22px;
            font-weight: 600;
            color: #4E5968;
            margin: 24px 0 12px;
        }

        p {
            font-size: 17px;
            color: #4E5968;
            margin-bottom: 16px;
        }

        .subtitle {
            font-size: 20px;
            color: #6B7684;
            margin-bottom: 40px;
            font-weight: 400;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 32px;
            border-radius: 16px;
            margin: 32px 0;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
        }

        .highlight-box h3 {
            color: white;
            margin-top: 0;
        }

        .info-box {
            background: #F7F8FA;
            border-left: 4px solid #0064FF;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }

        .warning-box {
            background: #FFF4E5;
            border-left: 4px solid #FF9500;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }

        .success-box {
            background: #E8F5E9;
            border-left: 4px solid #34C759;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }

        code {
            background: #F7F8FA;
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 15px;
            color: #E91E63;
        }

        pre {
            background: #1E1E1E;
            color: #D4D4D4;
            padding: 24px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 24px 0;
            font-family: 'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        }

        pre code {
            background: transparent;
            padding: 0;
            color: inherit;
        }

        .folder-structure {
            background: #F7F8FA;
            padding: 24px;
            border-radius: 12px;
            font-family: 'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            margin: 24px 0;
        }

        .file-path {
            background: #0064FF;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-family: 'SF Mono', monospace;
            font-size: 14px;
            margin: 16px 0;
            display: inline-block;
        }

        ul {
            margin: 16px 0 16px 24px;
        }

        li {
            margin: 12px 0;
            color: #4E5968;
            font-size: 17px;
        }

        strong {
            color: #191F28;
            font-weight: 600;
        }

        .emoji {
            font-size: 24px;
            margin-right: 8px;
        }

        .comment {
            color: #6A9955;
        }

        .keyword {
            color: #569CD6;
        }

        .class-name {
            color: #4EC9B0;
        }

        .method-name {
            color: #DCDCAA;
        }

        .string {
            color: #CE9178;
        }

        .number {
            color: #B5CEA8;
        }

        .reading-path {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 32px;
            border-radius: 16px;
            margin: 32px 0;
        }

        .reading-path ol {
            margin-left: 24px;
        }

        .reading-path li {
            color: white;
            font-size: 18px;
            margin: 16px 0;
        }

        .toc {
            background: #F7F8FA;
            padding: 32px;
            border-radius: 16px;
            margin: 32px 0;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc li {
            margin: 12px 0;
        }

        .toc a {
            color: #0064FF;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: all 0.2s;
        }

        .toc a:hover {
            color: #004FC4;
            text-decoration: underline;
        }

        .badge {
            display: inline-block;
            padding: 6px 12px;
            background: #0064FF;
            color: white;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            margin: 0 4px;
        }

        .badge.new {
            background: #34C759;
        }

        .badge.important {
            background: #FF3B30;
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 32px;
            }

            h2 {
                font-size: 28px;
            }

            h3 {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® Unity RTS í”„ë¡œì íŠ¸ ì™„ë²½ ê°€ì´ë“œ</h1>
        <p class="subtitle">Lecture 15: Returning Supplies ì‹œì  (ì»¤ë°‹: 4a4845e) | ê¸¸ ê°€ë©´ì„œ ì½ê¸° ğŸ“š</p>

        <div class="highlight-box">
            <h3>ğŸŒŸ ì´ ë¬¸ì„œì˜ ëª©ì </h3>
            <p style="color: white; margin: 0;">Unityì™€ C#ì„ ì˜ ëª¨ë¥´ëŠ” ì‚¬ëŒë„ ê¸¸ ê°€ë©´ì„œ í¸í•˜ê²Œ ì½ì„ ìˆ˜ ìˆë„ë¡, í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ì½”ë“œë¥¼ ì‰½ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤. ê° íŒŒì¼ì˜ ì½”ë“œê°€ ë¬´ìŠ¨ ì˜ë¯¸ì¸ì§€, ì™œ í•„ìš”í•œì§€ë¥¼ ì´ˆë“±í•™ìƒë„ ì´í•´í•  ìˆ˜ ìˆê²Œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="toc">
            <h3>ğŸ“‹ ëª©ì°¨</h3>
            <ul>
                <li><a href="#overview">1. í”„ë¡œì íŠ¸ ê°œìš”</a></li>
                <li><a href="#structure">2. í´ë” êµ¬ì¡°</a></li>
                <li><a href="#eventbus">3. Event Bus ì‹œìŠ¤í…œ (í•µì‹¬!)</a></li>
                <li><a href="#units">4. ìœ ë‹› ì‹œìŠ¤í…œ</a></li>
                <li><a href="#commands">5. Commands ì‹œìŠ¤í…œ</a></li>
                <li><a href="#player">6. í”Œë ˆì´ì–´ ì…ë ¥ & ìì›</a></li>
                <li><a href="#behavior">7. Behavior Tree ì‹œìŠ¤í…œ</a></li>
                <li><a href="#path">8. í•™ìŠµ ê²½ë¡œ ì¶”ì²œ</a></li>
            </ul>
        </div>

        <!-- 1. í”„ë¡œì íŠ¸ ê°œìš” -->
        <h2 id="overview">ğŸ“– 1. í”„ë¡œì íŠ¸ ê°œìš”</h2>

        <p>ì´ í”„ë¡œì íŠ¸ëŠ” <strong>Unity Behavior Tree</strong>ë¥¼ ì‚¬ìš©í•œ RTS (Real-Time Strategy) ê²Œì„ì…ë‹ˆë‹¤. StarCraftì²˜ëŸ¼ ìœ ë‹›ì„ ì„ íƒí•˜ê³ , ìì›ì„ ì±„ì·¨í•˜ê³ , ê±´ë¬¼ì„ ì§“ëŠ” ê²Œì„ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.</p>

        <div class="info-box">
            <h4>âœ¨ í˜„ì¬ê¹Œì§€ ì™„ì„±ëœ ê¸°ëŠ¥ (Lecture 15ê¹Œì§€)</h4>
            <ul>
                <li><strong>ìœ ë‹› ì„ íƒ</strong>: ë§ˆìš°ìŠ¤ë¡œ ìœ ë‹›ì„ í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸ë¡œ ì—¬ëŸ¬ ìœ ë‹› ì„ íƒ</li>
                <li><strong>ì´ë™ ëª…ë ¹</strong>: ìš°í´ë¦­ìœ¼ë¡œ ìœ ë‹›ì„ ì´ë™ì‹œí‚´</li>
                <li><strong>ìì› ì±„ì·¨</strong>: Worker ìœ ë‹›ì´ í¬ë¦¬ìŠ¤íƒˆì„ ì±„ì·¨</li>
                <li><strong>ìì› ë°˜ë‚©</strong>: Workerê°€ ì±„ì·¨í•œ ìì›ì„ Command Postì— ë°˜ë‚©</li>
                <li><strong>UI ì‹œìŠ¤í…œ</strong>: ìì› í‘œì‹œ, ìœ ë‹› ìƒì‚° ë²„íŠ¼</li>
                <li><strong>Event Bus</strong>: ëª¨ë“  ì‹œìŠ¤í…œì´ ëŠìŠ¨í•˜ê²Œ ì—°ê²°ë¨ (ì¤‘ìš”!)</li>
            </ul>
        </div>

        <h3>ğŸ¯ ê°•ì˜ ì—¬ì •</h3>
        <p>ì´ í”„ë¡œì íŠ¸ëŠ” 15ê°œì˜ ê°•ì˜ë¥¼ ê±°ì³ì„œ ì—¬ê¸°ê¹Œì§€ ì™”ìŠµë‹ˆë‹¤:</p>
        <ul>
            <li><strong>Lecture 1-3</strong>: Unity Behavior Tree ê¸°ì´ˆ</li>
            <li><strong>Lecture 4-5</strong>: ìœ ë‹› ì´ë™ê³¼ Command ì‹œìŠ¤í…œ</li>
            <li><strong>Lecture 6-11</strong>: ìì› ì±„ì·¨ ì‹œìŠ¤í…œ</li>
            <li><strong>Lecture 12-15</strong>: ìì› ë°˜ë‚©ê³¼ í”Œë ˆì´ì–´ ìì› ê´€ë¦¬ <span class="badge new">í˜„ì¬ ìœ„ì¹˜</span></li>
        </ul>

        <!-- 2. í´ë” êµ¬ì¡° -->
        <h2 id="structure">ğŸ“‚ 2. í´ë” êµ¬ì¡°</h2>

        <p>í”„ë¡œì íŠ¸ëŠ” ëª…í™•í•˜ê²Œ ì—­í• ë³„ë¡œ ë‚˜ë‰˜ì–´ ìˆìŠµë‹ˆë‹¤. <strong>ê° í´ë”ëŠ” í•œ ê°€ì§€ ì¼ë§Œ í•©ë‹ˆë‹¤</strong> (ë‹¨ì¼ ì±…ì„ ì›ì¹™).</p>

        <div class="folder-structure">
Assets/Scripts/
â”œâ”€â”€ <strong style="color: #0064FF;">Behavior/</strong>          # Behavior Tree ì»¤ìŠ¤í…€ ì•¡ì…˜ë“¤
â”‚   â”œâ”€â”€ MoveToTargetLocationAction.cs
â”‚   â”œâ”€â”€ GatherSuppliesAction.cs
â”‚   â””â”€â”€ FindClosestCommandPostAction.cs
â”‚
â”œâ”€â”€ <strong style="color: #0064FF;">Commands/</strong>          # ìœ ì € ëª…ë ¹ ì²˜ë¦¬ (ìš°í´ë¦­ ë“±)
â”‚   â”œâ”€â”€ MoveCommand.cs
â”‚   â”œâ”€â”€ GatherCommand.cs
â”‚   â””â”€â”€ StopCommand.cs
â”‚
â”œâ”€â”€ <strong style="color: #0064FF;">Environment/</strong>       # ê²Œì„ í™˜ê²½ (ìì› ë“±)
â”‚   â”œâ”€â”€ GatherableSupply.cs
â”‚   â””â”€â”€ SupplySO.cs
â”‚
â”œâ”€â”€ <strong style="color: #FF3B30;">EventBus/</strong>          # ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ (í•µì‹¬!)
â”‚   â”œâ”€â”€ Bus.cs
â”‚   â””â”€â”€ IEvent.cs
â”‚
â”œâ”€â”€ <strong style="color: #0064FF;">Events/</strong>            # ì´ë²¤íŠ¸ ì •ì˜ë“¤
â”‚   â”œâ”€â”€ UnitSelectedEvent.cs
â”‚   â”œâ”€â”€ UnitSpawnEvent.cs
â”‚   â””â”€â”€ SupplyEvent.cs
â”‚
â”œâ”€â”€ <strong style="color: #0064FF;">Player/</strong>            # í”Œë ˆì´ì–´ ì…ë ¥ê³¼ ìì›
â”‚   â”œâ”€â”€ PlayerInput.cs
â”‚   â””â”€â”€ Supplies.cs
â”‚
â”œâ”€â”€ <strong style="color: #0064FF;">UI/</strong>                # UI ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ RuntimeUI.cs
â”‚   â””â”€â”€ ActionsUI.cs
â”‚
â””â”€â”€ <strong style="color: #0064FF;">Units/</strong>             # ìœ ë‹›ë“¤ (Worker, Building ë“±)
    â”œâ”€â”€ AbstractUnit.cs
    â”œâ”€â”€ Worker.cs
    â””â”€â”€ UnitCommands.cs
        </div>

        <div class="warning-box">
            <h4>âš ï¸ ì™œ ì´ë ‡ê²Œ ë‚˜ëˆ´ë‚˜ìš”?</h4>
            <p><strong>ë‚˜ì¤‘ì— ì„œë²„ë¥¼ ì¶”ê°€í•  ë•Œ</strong> ì‰½ê²Œ ë°”ê¾¸ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:</p>
            <ul>
                <li><code>Commands/</code>: í”Œë ˆì´ì–´ ëª…ë ¹ë§Œ ì²˜ë¦¬</li>
                <li><code>EventBus/</code>: ì‹œìŠ¤í…œ ê°„ í†µì‹ ë§Œ ì²˜ë¦¬</li>
                <li><code>Units/</code>: ìœ ë‹› ë¡œì§ë§Œ ì²˜ë¦¬</li>
            </ul>
            <p>ì´ë ‡ê²Œ ë‚˜ëˆ„ë©´ <strong>í•œ ë¶€ë¶„ì„ ë°”ê¿”ë„ ë‹¤ë¥¸ ë¶€ë¶„ì€ ì•ˆì „</strong>í•©ë‹ˆë‹¤! ğŸ›¡ï¸</p>
        </div>

        <!-- 3. Event Bus ì‹œìŠ¤í…œ -->
        <h2 id="eventbus">ğŸšŒ 3. Event Bus ì‹œìŠ¤í…œ (ê°€ì¥ ì¤‘ìš”!)</h2>

        <div class="highlight-box">
            <h3>ğŸ’¡ ì´ˆë”©ë„ ì´í•´í•˜ëŠ” Event Bus</h3>
            <p style="color: white;"><strong>Event Bus</strong>ëŠ” í•™êµ ë°©ì†¡ì‹¤ ê°™ì€ ê²ë‹ˆë‹¤.</p>
            <p style="color: white;">ì„ ìƒë‹˜ì´ "ì˜¤ëŠ˜ ì²´ìœ¡ëŒ€íšŒì…ë‹ˆë‹¤!"ë¼ê³  ë°©ì†¡í•˜ë©´, ëª¨ë“  êµì‹¤ì—ì„œ ë™ì‹œì— ë“¤ì„ ìˆ˜ ìˆì£ . ëˆ„ê°€ ë“£ëŠ”ì§€ ì„ ìƒë‹˜ì€ ëª°ë¼ë„ ë©ë‹ˆë‹¤. Event Busë„ ë˜‘ê°™ìŠµë‹ˆë‹¤!</p>
            <ul style="color: white;">
                <li><strong>Publisher (ë°©ì†¡í•˜ëŠ” ì‚¬ëŒ)</strong>: "ìì›ì„ ì±„ì·¨í–ˆì–´!" ë¼ê³  ë°©ì†¡</li>
                <li><strong>Subscriber (ë“£ëŠ” ì‚¬ëŒ)</strong>: "ì•„, ìì›ì´ ëŠ˜ì–´ë‚¬êµ¬ë‚˜" í•˜ê³  UI ì—…ë°ì´íŠ¸</li>
            </ul>
            <p style="color: white; margin-top: 16px;">PublisherëŠ” Subscriberê°€ ëˆ„êµ°ì§€ ëª°ë¼ë„ ë©ë‹ˆë‹¤. <strong>ì´ê²Œ ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)</strong>ì…ë‹ˆë‹¤!</p>
        </div>

        <h3>ğŸ“„ Bus.cs (í•µì‹¬ ì½”ë“œ - ë‹¨ 10ì¤„!)</h3>
        <div class="file-path">Assets/Scripts/EventBus/Bus.cs</div>

        <pre><code><span class="comment">// ì´ ì½”ë“œëŠ” Generic Typeì„ ì‚¬ìš©í•œ Event Busì…ë‹ˆë‹¤</span>
<span class="keyword">namespace</span> GameDevTV.RTS.EventBus
{
    <span class="keyword">public static class</span> <span class="class-name">Bus</span>&lt;T&gt; <span class="keyword">where</span> T : <span class="class-name">IEvent</span>  <span class="comment">// TëŠ” ë°˜ë“œì‹œ IEventì—¬ì•¼ í•¨</span>
    {
        <span class="comment">// Delegate: í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì €ì¥í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ</span>
        <span class="keyword">public delegate void</span> <span class="method-name">Event</span>(T args);

        <span class="comment">// OnEventì— í•¨ìˆ˜ë“¤ì„ += ë¡œ ë“±ë¡í•˜ë©´ êµ¬ë… ì™„ë£Œ!</span>
        <span class="keyword">public static event</span> Event OnEvent;

        <span class="comment">// Raise()ë¥¼ í˜¸ì¶œí•˜ë©´ ë“±ë¡ëœ ëª¨ë“  í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨</span>
        <span class="keyword">public static void</span> <span class="method-name">Raise</span>(T evt) =&gt; OnEvent?.<span class="method-name">Invoke</span>(evt);
    }
}</code></pre>

        <div class="success-box">
            <h4>âœ… ì½”ë“œ ì„¤ëª…</h4>
            <p><strong>1. Generic Type (<code>&lt;T&gt;</code>)</strong></p>
            <ul>
                <li><code>Bus&lt;SupplyEvent&gt;</code>: ìì› ì´ë²¤íŠ¸ìš© Bus</li>
                <li><code>Bus&lt;UnitSelectedEvent&gt;</code>: ìœ ë‹› ì„ íƒ ì´ë²¤íŠ¸ìš© Bus</li>
                <li>íƒ€ì…ë³„ë¡œ ë…ë¦½ëœ Busê°€ ìƒì„±ë©ë‹ˆë‹¤!</li>
            </ul>

            <p><strong>2. Delegate</strong></p>
            <ul>
                <li>í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥</li>
                <li><code>OnEvent += MyFunction</code> ì´ë ‡ê²Œ ë“±ë¡</li>
                <li><code>OnEvent -= MyFunction</code> ì´ë ‡ê²Œ í•´ì œ</li>
            </ul>

            <p><strong>3. Null-conditional ì—°ì‚°ì (<code>?.</code>)</strong></p>
            <ul>
                <li><code>OnEvent?.Invoke(evt)</code>: OnEventê°€ nullì´ ì•„ë‹ˆë©´ ì‹¤í–‰</li>
                <li>Null ì²´í¬ë¥¼ ìë™ìœ¼ë¡œ í•´ì¤ë‹ˆë‹¤!</li>
            </ul>
        </div>

        <h3>ğŸ”” Event Bus ì‚¬ìš© ì˜ˆì‹œ</h3>

        <p><strong>1ë‹¨ê³„: ì´ë²¤íŠ¸ ì •ì˜</strong></p>
        <pre><code><span class="comment">// SupplyEvent.cs - ìì› ì´ë²¤íŠ¸</span>
<span class="keyword">public readonly struct</span> <span class="class-name">SupplyEvent</span> : <span class="class-name">IEvent</span>
{
    <span class="keyword">public readonly</span> <span class="keyword">int</span> Amount;           <span class="comment">// ì±„ì·¨í•œ ì–‘</span>
    <span class="keyword">public readonly</span> <span class="class-name">SupplySO</span> Supply;       <span class="comment">// ì–´ë–¤ ìì›ì¸ì§€</span>

    <span class="keyword">public</span> <span class="method-name">SupplyEvent</span>(<span class="keyword">int</span> amount, <span class="class-name">SupplySO</span> supply)
    {
        Amount = amount;
        Supply = supply;
    }
}</code></pre>

        <p><strong>2ë‹¨ê³„: ì´ë²¤íŠ¸ ë°œí–‰ (Publisher)</strong></p>
        <pre><code><span class="comment">// Worker.csì—ì„œ ìì›ì„ ì±„ì·¨í•œ í›„</span>
<span class="keyword">private void</span> <span class="method-name">HandleGatherSupplies</span>(<span class="class-name">GameObject</span> self, <span class="keyword">int</span> amount, <span class="class-name">SupplySO</span> supply)
{
    <span class="comment">// "ìì›ì„ ì±„ì·¨í–ˆì–´!" ë¼ê³  ë°©ì†¡</span>
    <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.<span class="method-name">Raise</span>(<span class="keyword">new</span> <span class="class-name">SupplyEvent</span>(amount, supply));
}</code></pre>

        <p><strong>3ë‹¨ê³„: ì´ë²¤íŠ¸ êµ¬ë… (Subscriber)</strong></p>
        <pre><code><span class="comment">// Supplies.csì—ì„œ ìì› ì—…ë°ì´íŠ¸</span>
<span class="keyword">private void</span> <span class="method-name">Awake</span>()
{
    <span class="comment">// ìì› ì´ë²¤íŠ¸ë¥¼ ë“£ê² ë‹¤ê³  ë“±ë¡</span>
    <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent += <span class="method-name">HandleSupplyEvent</span>;
}

<span class="keyword">private void</span> <span class="method-name">OnDestroy</span>()
{
    <span class="comment">// âš ï¸ ì¤‘ìš”! ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ ë°˜ë“œì‹œ í•´ì œ</span>
    <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent -= <span class="method-name">HandleSupplyEvent</span>;
}

<span class="keyword">private void</span> <span class="method-name">HandleSupplyEvent</span>(<span class="class-name">SupplyEvent</span> evt)
{
    <span class="comment">// ìì›ì´ ëŠ˜ì–´ë‚¬ìœ¼ë‹ˆ UI ì—…ë°ì´íŠ¸!</span>
    Minerals += evt.Amount;
    mineralsText.<span class="method-name">SetText</span>(Minerals.<span class="method-name">ToString</span>());
}</code></pre>

        <div class="warning-box">
            <h4>âš ï¸ ì™œ OnDestroy()ì—ì„œ êµ¬ë… í•´ì œë¥¼ í•´ì•¼ í•˜ë‚˜ìš”?</h4>
            <p><strong>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜</strong>ë¥¼ ë§‰ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤!</p>
            <p>GameObjectê°€ íŒŒê´´ë˜ì–´ë„ BusëŠ” ì—¬ì „íˆ ê·¸ í•¨ìˆ˜ë¥¼ ê¸°ì–µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´:</p>
            <ul>
                <li>íŒŒê´´ëœ ì˜¤ë¸Œì íŠ¸ë¥¼ ê³„ì† ì°¸ì¡° â†’ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜</li>
                <li>ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì—ëŸ¬ ë°œìƒ</li>
            </ul>
            <p>ë°˜ë“œì‹œ <code>-=</code>ë¡œ êµ¬ë…ì„ í•´ì œí•´ì•¼ í•©ë‹ˆë‹¤!</p>
        </div>

        <!-- 4. ìœ ë‹› ì‹œìŠ¤í…œ -->
        <h2 id="units">ğŸ¤– 4. ìœ ë‹› ì‹œìŠ¤í…œ</h2>

        <p>ìœ ë‹› ì‹œìŠ¤í…œì€ <strong>ìƒì† êµ¬ì¡°</strong>ë¡œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë§ˆì¹˜ ê°€ì¡± ê´€ê³„ì²˜ëŸ¼!</p>

        <pre><code><span class="comment">// ìƒì† êµ¬ì¡°</span>
AbstractCommandable          <span class="comment">// í• ì•„ë²„ì§€: ì„ íƒ ê°€ëŠ¥í•œ ëª¨ë“  ê²ƒ</span>
    â†“
AbstractUnit                 <span class="comment">// ì•„ë¹ : ì´ë™ ê°€ëŠ¥í•œ ìœ ë‹›</span>
    â†“
Worker                       <span class="comment">// ì•„ë“¤: ìì› ì±„ì·¨í•˜ëŠ” ìœ ë‹›</span></code></pre>

        <h3>ğŸ“„ AbstractUnit.cs (ëª¨ë“  ìœ ë‹›ì˜ ê¸°ë³¸)</h3>
        <div class="file-path">Assets/Scripts/Units/AbstractUnit.cs</div>

        <pre><code><span class="comment">// AbstractUnit.cs - ëª¨ë“  ìœ ë‹›ì˜ ê¸°ë³¸ í´ë˜ìŠ¤</span>
[<span class="class-name">RequireComponent</span>(<span class="keyword">typeof</span>(<span class="class-name">NavMeshAgent</span>), <span class="keyword">typeof</span>(<span class="class-name">BehaviorGraphAgent</span>))]
<span class="keyword">public abstract class</span> <span class="class-name">AbstractUnit</span> : <span class="class-name">AbstractCommandable</span>, <span class="class-name">IMoveable</span>
{
    <span class="comment">// ìœ ë‹›ì˜ ë°˜ì§€ë¦„ (ë‹¤ë¥¸ ìœ ë‹›ê³¼ ê²¹ì¹˜ì§€ ì•Šê²Œ)</span>
    <span class="keyword">public float</span> AgentRadius =&gt; agent.radius;

    <span class="comment">// NavMeshAgent: Unityì˜ ê¸¸ì°¾ê¸° ì‹œìŠ¤í…œ</span>
    <span class="keyword">private</span> <span class="class-name">NavMeshAgent</span> agent;

    <span class="comment">// BehaviorGraphAgent: Behavior Treeë¥¼ ì‹¤í–‰í•˜ëŠ” ì»´í¬ë„ŒíŠ¸</span>
    <span class="keyword">protected</span> <span class="class-name">BehaviorGraphAgent</span> graphAgent;

    <span class="keyword">private void</span> <span class="method-name">Awake</span>()
    {
        <span class="comment">// ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜¤ê¸° (ìºì‹±)</span>
        agent = <span class="method-name">GetComponent</span>&lt;<span class="class-name">NavMeshAgent</span>&gt;();
        graphAgent = <span class="method-name">GetComponent</span>&lt;<span class="class-name">BehaviorGraphAgent</span>&gt;();

        <span class="comment">// ì²˜ìŒì—ëŠ” ì •ì§€ ìƒíƒœ</span>
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.Stop);
    }

    <span class="keyword">protected override void</span> <span class="method-name">Start</span>()
    {
        <span class="keyword">base</span>.<span class="method-name">Start</span>();
        <span class="comment">// "ìœ ë‹›ì´ ìƒì„±ëì–´!" ë¼ê³  ë°©ì†¡</span>
        <span class="class-name">Bus</span>&lt;<span class="class-name">UnitSpawnEvent</span>&gt;.<span class="method-name">Raise</span>(<span class="keyword">new</span> <span class="class-name">UnitSpawnEvent</span>(<span class="keyword">this</span>));
    }

    <span class="comment">// íŠ¹ì • ìœ„ì¹˜ë¡œ ì´ë™</span>
    <span class="keyword">public void</span> <span class="method-name">MoveTo</span>(<span class="class-name">Vector3</span> position)
    {
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"TargetLocation"</span>, position);
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.Move);
    }

    <span class="comment">// ì •ì§€</span>
    <span class="keyword">public void</span> <span class="method-name">Stop</span>()
    {
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.Stop);
    }
}</code></pre>

        <div class="info-box">
            <h4>ğŸ’¡ ì£¼ìš” ê°œë… ì„¤ëª…</h4>
            <p><strong>1. RequireComponent ì†ì„±</strong></p>
            <ul>
                <li>ì´ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ NavMeshAgentì™€ BehaviorGraphAgentë„ ì¶”ê°€ë¨</li>
                <li>ì‹¤ìˆ˜ë¡œ ë¹ ëœ¨ë¦¬ëŠ” ê²ƒì„ ë°©ì§€!</li>
            </ul>

            <p><strong>2. Awake()ì—ì„œ GetComponent() ìºì‹±</strong></p>
            <ul>
                <li>GetComponent()ëŠ” ëŠë¦° í•¨ìˆ˜</li>
                <li>Awake()ì—ì„œ í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ê³  ë³€ìˆ˜ì— ì €ì¥</li>
                <li>Update()ì—ì„œ ë§¤ í”„ë ˆì„ í˜¸ì¶œí•˜ë©´ ì„±ëŠ¥ ì €í•˜!</li>
            </ul>

            <p><strong>3. Behavior Tree Variable ì„¤ì •</strong></p>
            <ul>
                <li><code>SetVariableValue("Command", UnitCommands.Move)</code></li>
                <li>Behavior Treeì˜ ë³€ìˆ˜ë¥¼ C# ì½”ë“œì—ì„œ ë³€ê²½</li>
                <li>Behavior Treeê°€ ì´ ë³€ìˆ˜ë¥¼ ë³´ê³  í–‰ë™ì„ ê²°ì •</li>
            </ul>
        </div>

        <h3>ğŸ“„ Worker.cs (ìì› ì±„ì·¨ ìœ ë‹›)</h3>
        <div class="file-path">Assets/Scripts/Units/Worker.cs</div>

        <pre><code><span class="comment">// Worker.cs - AbstractUnitë¥¼ ìƒì†ë°›ì•„ ìì› ì±„ì·¨ ê¸°ëŠ¥ ì¶”ê°€</span>
<span class="keyword">public class</span> <span class="class-name">Worker</span> : <span class="class-name">AbstractUnit</span>
{
    <span class="comment">// ìì›ì„ ë“¤ê³  ìˆëŠ”ì§€ í™•ì¸ (Behavior Tree ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜´)</span>
    <span class="keyword">public bool</span> HasSupplies
    {
        <span class="keyword">get</span>
        {
            <span class="keyword">if</span> (graphAgent != <span class="keyword">null</span> && graphAgent.<span class="method-name">GetVariable</span>(<span class="string">"SupplyAmountHeld"</span>, <span class="keyword">out</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="keyword">int</span>&gt; heldVariable))
            {
                <span class="keyword">return</span> heldVariable.Value &gt; <span class="number">0</span>;
            }
            <span class="keyword">return false</span>;
        }
    }

    <span class="keyword">protected override void</span> <span class="method-name">Start</span>()
    {
        <span class="keyword">base</span>.<span class="method-name">Start</span>();

        <span class="comment">// GatherSuppliesEventì— êµ¬ë… (Behavior Treeì—ì„œ ë°œí–‰í•˜ëŠ” ì´ë²¤íŠ¸)</span>
        <span class="keyword">if</span> (graphAgent.<span class="method-name">GetVariable</span>(<span class="string">"GatherSuppliesEvent"</span>, <span class="keyword">out</span> <span class="class-name">BlackboardVariable</span>&lt;<span class="class-name">GatherSuppliesEventChannel</span>&gt; eventChannelVariable))
        {
            eventChannelVariable.Value.Event += <span class="method-name">HandleGatherSupplies</span>;
        }
    }

    <span class="comment">// ìì› ì±„ì·¨ ëª…ë ¹</span>
    <span class="keyword">public void</span> <span class="method-name">Gather</span>(<span class="class-name">GatherableSupply</span> supply)
    {
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Supply"</span>, supply);
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"TargetGameObject"</span>, supply.gameObject);
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.Gather);
    }

    <span class="comment">// ìì› ë°˜ë‚© ëª…ë ¹ (Command Postë¡œ)</span>
    <span class="keyword">public void</span> <span class="method-name">ReturnSupplies</span>(<span class="class-name">GameObject</span> commandPost)
    {
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"CommandPost"</span>, commandPost);
        graphAgent.<span class="method-name">SetVariableValue</span>(<span class="string">"Command"</span>, <span class="class-name">UnitCommands</span>.ReturnSupplies);
    }

    <span class="comment">// Behavior Treeì—ì„œ ìì› ì±„ì·¨ê°€ ì™„ë£Œë˜ë©´ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë¨</span>
    <span class="keyword">private void</span> <span class="method-name">HandleGatherSupplies</span>(<span class="class-name">GameObject</span> self, <span class="keyword">int</span> amount, <span class="class-name">SupplySO</span> supply)
    {
        <span class="comment">// "ìì›ì„ ì±„ì·¨í–ˆì–´!" ë¼ê³  ë°©ì†¡</span>
        <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.<span class="method-name">Raise</span>(<span class="keyword">new</span> <span class="class-name">SupplyEvent</span>(amount, supply));
    }
}</code></pre>

        <div class="success-box">
            <h4>âœ… Workerì˜ ì‘ë™ ì›ë¦¬</h4>
            <ol>
                <li><strong>í”Œë ˆì´ì–´ê°€ ìì›ì„ ìš°í´ë¦­</strong> â†’ <code>GatherCommand</code>ê°€ <code>Worker.Gather()</code> í˜¸ì¶œ</li>
                <li><strong>Behavior Treeê°€ ì‘ë™</strong> â†’ ìì›ìœ¼ë¡œ ì´ë™, ì±„ì·¨ ì• ë‹ˆë©”ì´ì…˜, ìì› íšë“</li>
                <li><strong>ì±„ì·¨ ì™„ë£Œ ì‹œ</strong> â†’ <code>HandleGatherSupplies()</code> í˜¸ì¶œ â†’ <code>SupplyEvent</code> ë°œí–‰</li>
                <li><strong>Supplies í´ë˜ìŠ¤ê°€ ë“£ê³ </strong> â†’ UI ì—…ë°ì´íŠ¸</li>
            </ol>
            <p>WorkerëŠ” Supplies í´ë˜ìŠ¤ë¥¼ ëª¨ë¦…ë‹ˆë‹¤. Event Busë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œë§Œ ì†Œí†µí•©ë‹ˆë‹¤!</p>
        </div>

        <h3>ğŸ“„ UnitCommands.cs (ìœ ë‹› ëª…ë ¹ì–´ ì—´ê±°í˜•)</h3>
        <div class="file-path">Assets/Scripts/Units/UnitCommands.cs</div>

        <pre><code><span class="comment">// UnitCommands.cs - Behavior Treeì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´</span>
[<span class="class-name">BlackboardEnum</span>]  <span class="comment">// Behavior Tree Blackboardì—ì„œ ì‚¬ìš© ê°€ëŠ¥</span>
<span class="keyword">public enum</span> <span class="class-name">UnitCommands</span>
{
    Stop,            <span class="comment">// ì •ì§€</span>
    Move,            <span class="comment">// ì´ë™</span>
    Gather,          <span class="comment">// ìì› ì±„ì·¨</span>
    ReturnSupplies   <span class="comment">// ìì› ë°˜ë‚©</span>
}</code></pre>

        <!-- 5. Commands ì‹œìŠ¤í…œ -->
        <h2 id="commands">âš¡ 5. Commands ì‹œìŠ¤í…œ</h2>

        <p><strong>Commands</strong>ëŠ” í”Œë ˆì´ì–´ì˜ ì…ë ¥ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ìš°í´ë¦­í–ˆì„ ë•Œ ë¬´ì—‡ì„ í•´ì•¼ í• ì§€ ê²°ì •í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>

        <div class="info-box">
            <h4>ğŸ’¡ Command íŒ¨í„´ì´ë€?</h4>
            <p><strong>Command íŒ¨í„´</strong>ì€ "í–‰ë™ì„ ê°ì²´ë¡œ ë§Œë“œëŠ” ë””ìì¸ íŒ¨í„´"ì…ë‹ˆë‹¤.</p>
            <p>ì˜ˆë¥¼ ë“¤ì–´:</p>
            <ul>
                <li>ë•…ì„ ìš°í´ë¦­ â†’ <code>MoveCommand</code> ì‹¤í–‰ â†’ ìœ ë‹› ì´ë™</li>
                <li>ìì›ì„ ìš°í´ë¦­ â†’ <code>GatherCommand</code> ì‹¤í–‰ â†’ ìì› ì±„ì·¨</li>
                <li>ì ì„ ìš°í´ë¦­ â†’ <code>AttackCommand</code> ì‹¤í–‰ â†’ ê³µê²©</li>
            </ul>
            <p>ê° í–‰ë™ì´ ë…ë¦½ëœ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆì–´ì„œ ì‰½ê²Œ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>
        </div>

        <h3>ğŸ“„ MoveCommand.cs (ì´ë™ ëª…ë ¹)</h3>
        <div class="file-path">Assets/Scripts/Commands/MoveCommand.cs</div>

        <pre><code><span class="comment">// MoveCommand.cs - ìœ ë‹›ì„ ì´ë™ì‹œí‚¤ëŠ” ëª…ë ¹</span>
[<span class="class-name">CreateAssetMenu</span>(fileName = <span class="string">"Move Action"</span>, menuName = <span class="string">"AI/Commands/Move"</span>, order = <span class="number">100</span>)]
<span class="keyword">public class</span> <span class="class-name">MoveCommand</span> : <span class="class-name">ActionBase</span>
{
    <span class="comment">// ì›í˜• ëŒ€í˜•ì„ ìœ„í•œ ë°˜ì§€ë¦„ ë°°ìˆ˜</span>
    [<span class="class-name">SerializeField</span>] <span class="keyword">private float</span> radiusMultiplier = <span class="number">3.5f</span>;

    <span class="comment">// ì—¬ëŸ¬ ìœ ë‹›ì„ ì„ íƒí–ˆì„ ë•Œ ì›í˜•ìœ¼ë¡œ ë°°ì¹˜í•˜ê¸° ìœ„í•œ ë³€ìˆ˜ë“¤</span>
    <span class="keyword">private int</span> unitsOnLayer = <span class="number">0</span>;          <span class="comment">// í˜„ì¬ ì¸µì— ë°°ì¹˜ëœ ìœ ë‹› ìˆ˜</span>
    <span class="keyword">private int</span> maxUnitsOnLayer = <span class="number">1</span>;        <span class="comment">// í˜„ì¬ ì¸µì˜ ìµœëŒ€ ìœ ë‹› ìˆ˜</span>
    <span class="keyword">private float</span> circleRadius = <span class="number">0</span>;          <span class="comment">// í˜„ì¬ ì›ì˜ ë°˜ì§€ë¦„</span>
    <span class="keyword">private float</span> radialOffset = <span class="number">0</span>;          <span class="comment">// ê° ìœ ë‹› ê°„ ê°ë„</span>

    <span class="comment">// ì´ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸</span>
    <span class="keyword">public override bool</span> <span class="method-name">CanHandle</span>(<span class="class-name">CommandContext</span> context)
    {
        <span class="keyword">return</span> context.Commandable <span class="keyword">is</span> <span class="class-name">AbstractUnit</span>;
    }

    <span class="comment">// ì‹¤ì œë¡œ ëª…ë ¹ì„ ì‹¤í–‰</span>
    <span class="keyword">public override void</span> <span class="method-name">Handle</span>(<span class="class-name">CommandContext</span> context)
    {
        <span class="class-name">AbstractUnit</span> unit = (<span class="class-name">AbstractUnit</span>)context.Commandable;

        <span class="comment">// ì²« ë²ˆì§¸ ìœ ë‹›ì´ë©´ ë³€ìˆ˜ ì´ˆê¸°í™”</span>
        <span class="keyword">if</span> (context.UnitIndex == <span class="number">0</span>)
        {
            unitsOnLayer = <span class="number">0</span>;
            maxUnitsOnLayer = <span class="number">1</span>;
            circleRadius = <span class="number">0</span>;
            radialOffset = <span class="number">0</span>;
        }

        <span class="comment">// ì›í˜• ëŒ€í˜•ìœ¼ë¡œ ìœ„ì¹˜ ê³„ì‚° (ê·¹ì¢Œí‘œ â†’ ì§êµì¢Œí‘œ ë³€í™˜)</span>
        <span class="class-name">Vector3</span> targetPosition = <span class="keyword">new</span>(
            context.Hit.point.x + circleRadius * <span class="class-name">Mathf</span>.<span class="method-name">Cos</span>(radialOffset * unitsOnLayer),
            context.Hit.point.y,
            context.Hit.point.z + circleRadius * <span class="class-name">Mathf</span>.<span class="method-name">Sin</span>(radialOffset * unitsOnLayer)
        );

        <span class="comment">// ìœ ë‹› ì´ë™!</span>
        unit.<span class="method-name">MoveTo</span>(targetPosition);
        unitsOnLayer++;

        <span class="comment">// í˜„ì¬ ì¸µì´ ë‹¤ ì°¼ìœ¼ë©´ ë‹¤ìŒ ì¸µìœ¼ë¡œ</span>
        <span class="keyword">if</span> (unitsOnLayer &gt;= maxUnitsOnLayer)
        {
            unitsOnLayer = <span class="number">0</span>;
            circleRadius += unit.AgentRadius * radiusMultiplier;
            maxUnitsOnLayer = <span class="class-name">Mathf</span>.<span class="method-name">FloorToInt</span>(<span class="number">2</span> * <span class="class-name">Mathf</span>.PI * circleRadius / (unit.AgentRadius * <span class="number">2</span>));
            radialOffset = <span class="number">2</span> * <span class="class-name">Mathf</span>.PI / maxUnitsOnLayer;
        }
    }
}</code></pre>

        <div class="success-box">
            <h4>âœ… ì›í˜• ëŒ€í˜• ì•Œê³ ë¦¬ì¦˜ ì„¤ëª…</h4>
            <p><strong>ì™œ ì›í˜• ëŒ€í˜•ìœ¼ë¡œ ë°°ì¹˜í•˜ë‚˜ìš”?</strong></p>
            <ul>
                <li>10ê°œ ìœ ë‹›ì„ í•œ ì ì— ëª¨ìœ¼ë©´ ê²¹ì³ì„œ ë³´ê¸° ì•ˆ ì¢‹ìŒ</li>
                <li>ì›í˜•ìœ¼ë¡œ ë°°ì¹˜í•˜ë©´ ë³´ê¸° ì¢‹ê³ , ì´ë™ë„ ìì—°ìŠ¤ëŸ¬ì›€</li>
            </ul>
            <p><strong>ì•Œê³ ë¦¬ì¦˜:</strong></p>
            <ol>
                <li>ì²« ë²ˆì§¸ ìœ ë‹›: í´ë¦­í•œ ìœ„ì¹˜ ì •í™•íˆ</li>
                <li>ë‘ ë²ˆì§¸ë¶€í„°: í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì›ì„ ê·¸ë¦¬ë©° ë°°ì¹˜</li>
                <li>í•œ ì¸µì´ ë‹¤ ì°¨ë©´ ë°˜ì§€ë¦„ì„ ëŠ˜ë ¤ì„œ ë‹¤ìŒ ì¸µ</li>
            </ol>
        </div>

        <h3>ğŸ“„ GatherCommand.cs (ìì› ì±„ì·¨ ëª…ë ¹)</h3>
        <div class="file-path">Assets/Scripts/Commands/GatherCommand.cs</div>

        <pre><code><span class="comment">// GatherCommand.cs - ìì› ì±„ì·¨ ë˜ëŠ” ë°˜ë‚© ëª…ë ¹</span>
[<span class="class-name">CreateAssetMenu</span>(fileName = <span class="string">"Gather Action"</span>, menuName = <span class="string">"AI/Commands/Gather"</span>, order = <span class="number">105</span>)]
<span class="keyword">public class</span> <span class="class-name">GatherCommand</span> : <span class="class-name">ActionBase</span>
{
    [<span class="class-name">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">UnitSO</span> commandPostSO;  <span class="comment">// Command Post ì •ë³´</span>

    <span class="comment">// Workerë§Œ ì²˜ë¦¬ ê°€ëŠ¥, ê·¸ë¦¬ê³  ìì›ì´ë‚˜ Command Postë¥¼ í´ë¦­í–ˆì„ ë•Œë§Œ</span>
    <span class="keyword">public override bool</span> <span class="method-name">CanHandle</span>(<span class="class-name">CommandContext</span> context)
    {
        <span class="keyword">return</span> context.Commandable <span class="keyword">is</span> <span class="class-name">Worker</span>
            && context.Hit.collider != <span class="keyword">null</span>
            && <span class="method-name">IsGatherableSupplyOrCommandPost</span>(context.Hit.collider);
    }

    <span class="keyword">public override void</span> <span class="method-name">Handle</span>(<span class="class-name">CommandContext</span> context)
    {
        <span class="class-name">Worker</span> worker = context.Commandable <span class="keyword">as</span> <span class="class-name">Worker</span>;

        <span class="comment">// ìì›ì„ í´ë¦­í–ˆìœ¼ë©´ â†’ ì±„ì·¨</span>
        <span class="keyword">if</span> (context.Hit.collider.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> supply))
        {
            worker.<span class="method-name">Gather</span>(supply);
        }
        <span class="comment">// Command Postë¥¼ í´ë¦­í–ˆê³  ìì›ì„ ë“¤ê³  ìˆìœ¼ë©´ â†’ ë°˜ë‚©</span>
        <span class="keyword">else if</span> (<span class="method-name">IsCommandPost</span>(context.Hit.collider) && worker.HasSupplies)
        {
            worker.<span class="method-name">ReturnSupplies</span>(context.Hit.collider.gameObject);
        }
        <span class="comment">// ê·¸ ì™¸ â†’ ê·¸ëƒ¥ ì´ë™</span>
        <span class="keyword">else</span>
        {
            worker.<span class="method-name">MoveTo</span>(context.Hit.collider.gameObject.transform.position);
        }
    }

    <span class="keyword">private bool</span> <span class="method-name">IsGatherableSupplyOrCommandPost</span>(<span class="class-name">Collider</span> collider)
        =&gt; collider.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">GatherableSupply</span> _) || <span class="method-name">IsCommandPost</span>(collider);

    <span class="keyword">private bool</span> <span class="method-name">IsCommandPost</span>(<span class="class-name">Collider</span> collider)
        =&gt; collider.<span class="method-name">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">BaseBuilding</span> building) && building.UnitSO.<span class="method-name">Equals</span>(commandPostSO);
}</code></pre>

        <div class="info-box">
            <h4>ğŸ’¡ Command Priority (ìš°ì„ ìˆœìœ„)</h4>
            <p>ì—¬ëŸ¬ Commandê°€ ìˆì„ ë•Œ ì–´ë–¤ ê²ƒì„ ë¨¼ì € ì‹¤í–‰í• ê¹Œìš”?</p>
            <p><strong>PlayerInput.cs</strong>ì—ì„œ ìˆœì„œëŒ€ë¡œ <code>CanHandle()</code>ì„ í˜¸ì¶œí•˜ê³ , ì²« ë²ˆì§¸ë¡œ trueë¥¼ ë°˜í™˜í•˜ëŠ” Commandë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
            <pre><code><span class="keyword">foreach</span>(<span class="class-name">ICommand</span> command <span class="keyword">in</span> abstractUnits[i].AvailableCommands)
{
    <span class="keyword">if</span> (command.<span class="method-name">CanHandle</span>(context))
    {
        command.<span class="method-name">Handle</span>(context);
        <span class="keyword">break</span>;  <span class="comment">// ì²« ë²ˆì§¸ë§Œ ì‹¤í–‰!</span>
    }
}</code></pre>
            <p>ê·¸ë˜ì„œ <code>AvailableCommands</code> ë¦¬ìŠ¤íŠ¸ì˜ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤!</p>
        </div>

        <!-- 6. í”Œë ˆì´ì–´ ì…ë ¥ & ìì› -->
        <h2 id="player">ğŸ® 6. í”Œë ˆì´ì–´ ì…ë ¥ & ìì›</h2>

        <h3>ğŸ“„ PlayerInput.cs (í”Œë ˆì´ì–´ ì…ë ¥ ì²˜ë¦¬)</h3>
        <div class="file-path">Assets/Scripts/Player/PlayerInput.cs</div>

        <p><strong>PlayerInput.cs</strong>ëŠ” ì´ í”„ë¡œì íŠ¸ì—ì„œ ê°€ì¥ ë³µì¡í•œ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. 390ì¤„ì´ë‚˜ ë˜ëŠ” ê±°ëŒ€í•œ í´ë˜ìŠ¤ì…ë‹ˆë‹¤!</p>

        <p><strong>ì£¼ìš” ê¸°ëŠ¥:</strong></p>
        <ul>
            <li>âœ… <strong>ìœ ë‹› ì„ íƒ</strong>: ì¢Œí´ë¦­, ë“œë˜ê·¸ ë°•ìŠ¤ ì„ íƒ</li>
            <li>âœ… <strong>ìœ ë‹› ëª…ë ¹</strong>: ìš°í´ë¦­ìœ¼ë¡œ ì´ë™/ì±„ì·¨</li>
            <li>âœ… <strong>ì¹´ë©”ë¼ ì»¨íŠ¸ë¡¤</strong>: íŒ¬, ì¤Œ, íšŒì „</li>
            <li>âœ… <strong>Event Bus êµ¬ë…</strong>: UnitSelectedEvent, UnitSpawnEvent ë“±</li>
        </ul>

        <h4>í•µì‹¬ ì½”ë“œ ë°œì·Œ: ìš°í´ë¦­ ì²˜ë¦¬</h4>
        <pre><code><span class="comment">// PlayerInput.cs - ìš°í´ë¦­ìœ¼ë¡œ ëª…ë ¹ ì‹¤í–‰</span>
<span class="keyword">private void</span> <span class="method-name">HandleRightClick</span>()
{
    <span class="keyword">if</span> (selectedUnits.Count == <span class="number">0</span>) { <span class="keyword">return</span>; }  <span class="comment">// ì„ íƒëœ ìœ ë‹› ì—†ìœ¼ë©´ ë¬´ì‹œ</span>

    <span class="class-name">Ray</span> cameraRay = camera.<span class="method-name">ScreenPointToRay</span>(<span class="class-name">Mouse</span>.current.position.<span class="method-name">ReadValue</span>());

    <span class="comment">// ìš°í´ë¦­í–ˆê³ , Raycastê°€ Hití–ˆìœ¼ë©´</span>
    <span class="keyword">if</span> (<span class="class-name">Mouse</span>.current.rightButton.wasReleasedThisFrame
        && <span class="class-name">Physics</span>.<span class="method-name">Raycast</span>(cameraRay, <span class="keyword">out</span> <span class="class-name">RaycastHit</span> hit, <span class="keyword">float</span>.MaxValue, interactableLayers | floorLayers))
    {
        <span class="comment">// ì„ íƒëœ ìœ ë‹›ë“¤ì„ AbstractUnit ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜</span>
        <span class="class-name">List</span>&lt;<span class="class-name">AbstractUnit</span>&gt; abstractUnits = <span class="keyword">new</span> (selectedUnits.Count);
        <span class="keyword">foreach</span>(<span class="class-name">ISelectable</span> selectable <span class="keyword">in</span> selectedUnits)
        {
            <span class="keyword">if</span> (selectable <span class="keyword">is</span> <span class="class-name">AbstractUnit</span> unit)
            {
                abstractUnits.<span class="method-name">Add</span>(unit);
            }
        }

        <span class="comment">// ê° ìœ ë‹›ë§ˆë‹¤ ì ì ˆí•œ Command ì°¾ì•„ì„œ ì‹¤í–‰</span>
        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; abstractUnits.Count; i++)
        {
            <span class="class-name">CommandContext</span> context = <span class="keyword">new</span>(abstractUnits[i], hit, i);

            <span class="keyword">foreach</span>(<span class="class-name">ICommand</span> command <span class="keyword">in</span> abstractUnits[i].AvailableCommands)
            {
                <span class="keyword">if</span> (command.<span class="method-name">CanHandle</span>(context))
                {
                    command.<span class="method-name">Handle</span>(context);
                    <span class="keyword">break</span>;  <span class="comment">// ì²« ë²ˆì§¸ Commandë§Œ ì‹¤í–‰</span>
                }
            }
        }
    }
}</code></pre>

        <h4>í•µì‹¬ ì½”ë“œ ë°œì·Œ: Event Bus êµ¬ë…</h4>
        <pre><code><span class="comment">// PlayerInput.cs - Event Bus êµ¬ë…/í•´ì œ</span>
<span class="keyword">private void</span> <span class="method-name">Awake</span>()
{
    <span class="comment">// Event êµ¬ë…</span>
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitSelectedEvent</span>&gt;.OnEvent += <span class="method-name">HandleUnitSelected</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitDeselectedEvent</span>&gt;.OnEvent += <span class="method-name">HandleUnitDeselected</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitSpawnEvent</span>&gt;.OnEvent += <span class="method-name">HandleUnitSpawn</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">ActionSelectedEvent</span>&gt;.OnEvent += <span class="method-name">HandleActionSelected</span>;
}

<span class="keyword">private void</span> <span class="method-name">OnDestroy</span>()
{
    <span class="comment">// âš ï¸ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€: ë°˜ë“œì‹œ êµ¬ë… í•´ì œ!</span>
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitSelectedEvent</span>&gt;.OnEvent -= <span class="method-name">HandleUnitSelected</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitDeselectedEvent</span>&gt;.OnEvent -= <span class="method-name">HandleUnitDeselected</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">UnitSpawnEvent</span>&gt;.OnEvent -= <span class="method-name">HandleUnitSpawn</span>;
    <span class="class-name">Bus</span>&lt;<span class="class-name">ActionSelectedEvent</span>&gt;.OnEvent -= <span class="method-name">HandleActionSelected</span>;
}

<span class="comment">// Expression-bodied function (ê°„ê²°í•œ í•¨ìˆ˜ ë¬¸ë²•)</span>
<span class="keyword">private void</span> <span class="method-name">HandleUnitSelected</span>(<span class="class-name">UnitSelectedEvent</span> evt) =&gt; selectedUnits.<span class="method-name">Add</span>(evt.Unit);
<span class="keyword">private void</span> <span class="method-name">HandleUnitDeselected</span>(<span class="class-name">UnitDeselectedEvent</span> evt) =&gt; selectedUnits.<span class="method-name">Remove</span>(evt.Unit);
<span class="keyword">private void</span> <span class="method-name">HandleUnitSpawn</span>(<span class="class-name">UnitSpawnEvent</span> evt) =&gt; aliveUnits.<span class="method-name">Add</span>(evt.Unit);</code></pre>

        <div class="warning-box">
            <h4>âš ï¸ ì„±ëŠ¥ ìµœì í™” í¬ì¸íŠ¸</h4>
            <p><strong>HashSet vs List</strong></p>
            <ul>
                <li><code>HashSet&lt;AbstractUnit&gt; aliveUnits</code>: ìœ ë‹›ì´ 50ê°œ ì´ìƒì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ HashSet ì‚¬ìš©</li>
                <li><code>List&lt;ISelectable&gt; selectedUnits</code>: ì„ íƒëœ ìœ ë‹›ì€ ë³´í†µ 12ê°œ ì´í•˜ì´ë¯€ë¡œ List ì‚¬ìš©</li>
            </ul>
            <p><strong>HashSetì˜ ì¥ì :</strong></p>
            <ul>
                <li>Contains() ê²€ìƒ‰: O(1) vs O(n)</li>
                <li>Add/Remove: O(1) vs O(n)</li>
                <li>50ê°œ ì´ìƒì¼ ë•Œ í° ì°¨ì´!</li>
            </ul>
        </div>

        <h3>ğŸ“„ Supplies.cs (í”Œë ˆì´ì–´ ìì› ê´€ë¦¬)</h3>
        <div class="file-path">Assets/Scripts/Player/Supplies.cs</div>

        <pre><code><span class="comment">// Supplies.cs - í”Œë ˆì´ì–´ì˜ ìì›ì„ ê´€ë¦¬</span>
<span class="keyword">public class</span> <span class="class-name">Supplies</span> : <span class="class-name">MonoBehaviour</span>
{
    [<span class="class-name">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">TextMeshProUGUI</span> mineralsText;  <span class="comment">// ë¯¸ë„¤ë„ UI</span>
    [<span class="class-name">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">TextMeshProUGUI</span> gasText;        <span class="comment">// ê°€ìŠ¤ UI</span>

    [<span class="class-name">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">SupplySO</span> mineralsSO;           <span class="comment">// ë¯¸ë„¤ë„ ë°ì´í„°</span>
    [<span class="class-name">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">SupplySO</span> gasSO;                <span class="comment">// ê°€ìŠ¤ ë°ì´í„°</span>

    <span class="comment">// static: ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥ (ì˜ˆ: Supplies.Minerals)</span>
    <span class="keyword">public static int</span> Minerals { <span class="keyword">private set</span>; }
    <span class="keyword">public static int</span> Gas { <span class="keyword">private set</span>; }
    <span class="keyword">public static int</span> Population { <span class="keyword">private set</span>; }
    <span class="keyword">public static int</span> PopulationLimit { <span class="keyword">private set</span>; }

    <span class="keyword">private void</span> <span class="method-name">Awake</span>()
    {
        <span class="comment">// SupplyEvent êµ¬ë…</span>
        <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent += <span class="method-name">HandleSupplyEvent</span>;
    }

    <span class="keyword">private void</span> <span class="method-name">OnDestroy</span>()
    {
        <span class="comment">// âš ï¸ êµ¬ë… í•´ì œ</span>
        <span class="class-name">Bus</span>&lt;<span class="class-name">SupplyEvent</span>&gt;.OnEvent -= <span class="method-name">HandleSupplyEvent</span>;
    }

    <span class="keyword">private void</span> <span class="method-name">HandleSupplyEvent</span>(<span class="class-name">SupplyEvent</span> evt)
    {
        <span class="comment">// ë¯¸ë„¤ë„ì´ë©´</span>
        <span class="keyword">if</span> (evt.Supply.<span class="method-name">Equals</span>(mineralsSO))
        {
            Minerals += evt.Amount;
            mineralsText.<span class="method-name">SetText</span>(Minerals.<span class="method-name">ToString</span>());
        }
        <span class="comment">// ê°€ìŠ¤ë©´</span>
        <span class="keyword">else if</span> (evt.Supply.<span class="method-name">Equals</span>(gasSO))
        {
            Gas += evt.Amount;
            gasText.<span class="method-name">SetText</span>(Gas.<span class="method-name">ToString</span>());
        }
    }
}</code></pre>

        <div class="success-box">
            <h4>âœ… Suppliesì˜ ì‘ë™ íë¦„</h4>
            <ol>
                <li><strong>Workerê°€ ìì› ì±„ì·¨ ì™„ë£Œ</strong> â†’ <code>SupplyEvent</code> ë°œí–‰</li>
                <li><strong>Suppliesê°€ ì´ë²¤íŠ¸ ìˆ˜ì‹ </strong> â†’ <code>HandleSupplyEvent()</code> í˜¸ì¶œ</li>
                <li><strong>ìì› ì¢…ë¥˜ í™•ì¸</strong> â†’ Mineralsì¸ì§€ Gasì¸ì§€ ì²´í¬</li>
                <li><strong>ìì› ì¦ê°€ & UI ì—…ë°ì´íŠ¸</strong> â†’ <code>SetText()</code>ë¡œ í™”ë©´ì— í‘œì‹œ</li>
            </ol>
            <p>WorkerëŠ” Suppliesë¥¼ ëª¨ë¦…ë‹ˆë‹¤. Event Bus ë•ë¶„ì— ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤!</p>
        </div>

        <!-- 7. Behavior Tree ì‹œìŠ¤í…œ -->
        <h2 id="behavior">ğŸŒ² 7. Behavior Tree ì‹œìŠ¤í…œ</h2>

        <p><strong>Behavior Tree</strong>ëŠ” Unityì˜ ê³µì‹ AI ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë…¸ë“œë¥¼ ì—°ê²°í•´ì„œ ì‹œê°ì ìœ¼ë¡œ AIë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <div class="info-box">
            <h4>ğŸ’¡ Behavior Treeë€?</h4>
            <p><strong>Behavior Tree</strong>ëŠ” "í–‰ë™ì„ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ í‘œí˜„í•˜ëŠ” AI ì‹œìŠ¤í…œ"ì…ë‹ˆë‹¤.</p>
            <p>ë§ˆì¹˜ í”Œë¡œìš°ì°¨íŠ¸ì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤:</p>
            <pre><code>Root
â”œâ”€â”€ Sequence (ìˆœì°¨ ì‹¤í–‰)
â”‚   â”œâ”€â”€ Condition: Command == Gather?
â”‚   â”œâ”€â”€ Action: ìì›ìœ¼ë¡œ ì´ë™
â”‚   â”œâ”€â”€ Action: ì±„ì·¨ ì• ë‹ˆë©”ì´ì…˜
â”‚   â””â”€â”€ Action: ìì› íšë“
â””â”€â”€ Sequence
    â”œâ”€â”€ Condition: Command == Move?
    â””â”€â”€ Action: ëª©í‘œ ìœ„ì¹˜ë¡œ ì´ë™</code></pre>
        </div>

        <h3>ì»¤ìŠ¤í…€ Behavior Tree ì•¡ì…˜ë“¤</h3>

        <p>ì´ í”„ë¡œì íŠ¸ì—ëŠ” 18ê°œì˜ ì»¤ìŠ¤í…€ Behavior Tree ì•¡ì…˜ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ ì¤‘ìš”í•œ ê²ƒë“¤:</p>

        <ul>
            <li><code>MoveToTargetLocationAction.cs</code>: ëª©í‘œ ìœ„ì¹˜ë¡œ ì´ë™</li>
            <li><code>MoveToGatherableSupplyAction.cs</code>: ìì›ìœ¼ë¡œ ì´ë™</li>
            <li><code>GatherSuppliesAction.cs</code>: ìì› ì±„ì·¨</li>
            <li><code>FindClosestCommandPostAction.cs</code>: ê°€ì¥ ê°€ê¹Œìš´ Command Post ì°¾ê¸°</li>
            <li><code>StopAgentAction.cs</code>: ìœ ë‹› ì •ì§€</li>
        </div>

        <h4>ğŸ“„ GatherSuppliesAction.cs ì˜ˆì‹œ</h4>
        <div class="file-path">Assets/Scripts/Behavior/GatherSuppliesAction.cs</div>

        <pre><code><span class="comment">// GatherSuppliesAction.cs - Behavior Treeì—ì„œ ìì›ì„ ì±„ì·¨í•˜ëŠ” ì•¡ì…˜</span>
<span class="comment">// (ì‹¤ì œ ì½”ë“œëŠ” ë” ë³µì¡í•˜ì§€ë§Œ í•µì‹¬ë§Œ ë°œì·Œ)</span>

<span class="keyword">protected override</span> <span class="class-name">Status</span> <span class="method-name">OnUpdate</span>()
{
    <span class="comment">// 1. ìì› ê°ì²´ ê°€ì ¸ì˜¤ê¸°</span>
    <span class="class-name">GatherableSupply</span> supply = <span class="class-name">Supply</span>.Value;

    <span class="comment">// 2. ì±„ì·¨ ì§„í–‰ (ì‹œê°„ ê²½ê³¼)</span>
    gatheringTimer += <span class="class-name">Time</span>.deltaTime;

    <span class="comment">// 3. ì±„ì·¨ ì™„ë£Œë˜ë©´</span>
    <span class="keyword">if</span> (gatheringTimer &gt;= gatherTime)
    {
        <span class="comment">// 4. ì´ë²¤íŠ¸ ë°œí–‰ (C# ì½”ë“œë¡œ ì „ë‹¬)</span>
        GatherSuppliesEvent.Value.Event?.<span class="method-name">Invoke</span>(
            Self.Value,
            supply.AmountPerGather,
            supply.Supply
        );

        <span class="comment">// 5. Blackboard ë³€ìˆ˜ ì—…ë°ì´íŠ¸</span>
        SupplyAmountHeld.Value += supply.AmountPerGather;

        <span class="comment">// 6. ì™„ë£Œ!</span>
        <span class="keyword">return</span> <span class="class-name">Status</span>.Success;
    }

    <span class="comment">// ì•„ì§ ì§„í–‰ ì¤‘</span>
    <span class="keyword">return</span> <span class="class-name">Status</span>.Running;
}</code></pre>

        <div class="success-box">
            <h4>âœ… Behavior Treeì™€ C# ì½”ë“œì˜ ì—°ê²°</h4>
            <p><strong>Behavior Tree â†’ C# ì½”ë“œ</strong></p>
            <ul>
                <li>Behavior Treeì—ì„œ <code>GatherSuppliesEventChannel</code>ì„ í†µí•´ C# í•¨ìˆ˜ í˜¸ì¶œ</li>
                <li><code>Worker.cs</code>ì˜ <code>HandleGatherSupplies()</code>ê°€ í˜¸ì¶œë¨</li>
                <li>C# ì½”ë“œì—ì„œ Event Busë¡œ ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ì•Œë¦¼</li>
            </ul>
            <p><strong>C# ì½”ë“œ â†’ Behavior Tree</strong></p>
            <ul>
                <li><code>graphAgent.SetVariableValue("Command", UnitCommands.Gather)</code></li>
                <li>Behavior Treeê°€ ì´ ë³€ìˆ˜ë¥¼ ë³´ê³  Gather Sequence ì‹¤í–‰</li>
            </ul>
        </div>

        <!-- 8. í•™ìŠµ ê²½ë¡œ -->
        <h2 id="path">ğŸš€ 8. í•™ìŠµ ê²½ë¡œ ì¶”ì²œ (ê¸¸ ê°€ë©´ì„œ ì½ê¸°)</h2>

        <div class="reading-path">
            <h3>ğŸ“š ì¶”ì²œ ì½ê¸° ìˆœì„œ (ì´ 60ë¶„)</h3>
            <p style="color: white; margin-bottom: 20px;">ì²˜ìŒë¶€í„° ë‹¤ ì½ì„ í•„ìš” ì—†ìŠµë‹ˆë‹¤! ì´ ìˆœì„œëŒ€ë¡œ ì²œì²œíˆ ì½ì–´ë³´ì„¸ìš”.</p>

            <ol>
                <li><strong>Event Bus ì‹œìŠ¤í…œ (5ë¶„)</strong> - ê°€ì¥ ì¤‘ìš”!
                    <ul>
                        <li><code>Bus.cs</code> (10ì¤„) - í•µì‹¬ ì¤‘ì˜ í•µì‹¬</li>
                        <li><code>IEvent.cs</code> (3ì¤„) - ë§ˆì»¤ ì¸í„°í˜ì´ìŠ¤</li>
                        <li><code>SupplyEvent.cs</code> - ì‹¤ì œ ì´ë²¤íŠ¸ ì˜ˆì‹œ</li>
                    </ul>
                </li>

                <li><strong>ìœ ë‹› êµ¬ì¡° (10ë¶„)</strong>
                    <ul>
                        <li><code>UnitCommands.cs</code> (13ì¤„) - ëª…ë ¹ì–´ ì—´ê±°í˜•</li>
                        <li><code>AbstractUnit.cs</code> (40ì¤„) - ëª¨ë“  ìœ ë‹›ì˜ ê¸°ë³¸</li>
                        <li><code>Worker.cs</code> (52ì¤„) - êµ¬ì²´ì ì¸ ìœ ë‹›</li>
                    </ul>
                </li>

                <li><strong>Commands ì‹œìŠ¤í…œ (15ë¶„)</strong>
                    <ul>
                        <li><code>MoveCommand.cs</code> - ì›í˜• ëŒ€í˜• ì•Œê³ ë¦¬ì¦˜</li>
                        <li><code>GatherCommand.cs</code> - ìì› ì±„ì·¨/ë°˜ë‚© ë¡œì§</li>
                    </ul>
                </li>

                <li><strong>í”Œë ˆì´ì–´ ì…ë ¥ (10ë¶„)</strong>
                    <ul>
                        <li><code>PlayerInput.cs</code> - í•µì‹¬ ë¶€ë¶„ë§Œ ë°œì·Œí•´ì„œ ì½ê¸°</li>
                        <li><code>Supplies.cs</code> - ìì› ê´€ë¦¬</li>
                    </ul>
                </li>

                <li><strong>Behavior Tree (10ë¶„)</strong>
                    <ul>
                        <li>Unity Editorì—ì„œ Worker BT.asset ì—´ì–´ì„œ êµ¬ì¡° ë³´ê¸°</li>
                        <li><code>GatherSuppliesAction.cs</code> - ìì› ì±„ì·¨ ì•¡ì…˜</li>
                    </ul>
                </li>

                <li><strong>ê°•ì˜ ë…¸íŠ¸ ì½ê¸° (10ë¶„)</strong>
                    <ul>
                        <li><code>complete-lecture-notes-4.html</code></li>
                        <li>Lecture 14: Event Bus ì„¤ëª…</li>
                        <li>Lecture 15: ReturnSupplies ì„¤ëª…</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="highlight-box">
            <h3>ğŸ¯ í•µì‹¬ ê°œë… ì •ë¦¬</h3>
            <ul style="color: white;">
                <li><strong>Event Bus</strong>: ì‹œìŠ¤í…œ ê°„ ëŠìŠ¨í•œ ê²°í•© (ê°€ì¥ ì¤‘ìš”!)</li>
                <li><strong>Behavior Tree</strong>: Unityì˜ ê³µì‹ AI ì‹œìŠ¤í…œ (ì‹œê°ì )</li>
                <li><strong>Commands íŒ¨í„´</strong>: í”Œë ˆì´ì–´ ëª…ë ¹ì„ ê°ì²´ë¡œ (í™•ì¥ ìš©ì´)</li>
                <li><strong>ìƒì† êµ¬ì¡°</strong>: AbstractCommandable â†’ AbstractUnit â†’ Worker</li>
                <li><strong>HashSet vs List</strong>: ì„±ëŠ¥ ìµœì í™” (50+ ìœ ë‹› ëŒ€ë¹„)</li>
                <li><strong>êµ¬ë…/í•´ì œ íŒ¨í„´</strong>: ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (+=, -=)</li>
            </ul>
        </div>

        <div class="success-box">
            <h4>âœ… ë‹¤ìŒ ë‹¨ê³„</h4>
            <p><strong>Lecture 16ë¶€í„° ê³„ì† ì§„í–‰í•˜ê¸°:</strong></p>
            <ul>
                <li>Lecture 16-20: ê±´ë¬¼ ê±´ì„¤ ì‹œìŠ¤í…œ</li>
                <li>Lecture 21-25: ì „íˆ¬ ì‹œìŠ¤í…œ</li>
                <li>Lecture 26-30: AI ì êµ°</li>
            </ul>
            <p><strong>ì»¤ìŠ¤í…€ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°:</strong></p>
            <ul>
                <li>3-íŒŒíŠ¸ ë¡œë´‡ ì‹œìŠ¤í…œ (WorkerThreeRobot) - ì´ë¯¸ êµ¬í˜„ë¨!</li>
                <li>ìƒˆë¡œìš´ ìœ ë‹› íƒ€ì… ì¶”ê°€</li>
                <li>ìƒˆë¡œìš´ ìì› íƒ€ì… ì¶”ê°€</li>
            </ul>
        </div>

        <div class="warning-box">
            <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
            <ul>
                <li>Event Bus êµ¬ë…ì€ ë°˜ë“œì‹œ í•´ì œí•˜ì„¸ìš” (<code>OnDestroy()</code>)</li>
                <li><code>GetComponent()</code>ëŠ” <code>Awake()</code>ì—ì„œë§Œ (ìºì‹±)</li>
                <li>50+ ìœ ë‹›ì„ ê³ ë ¤í•œ ì„±ëŠ¥ ìµœì í™” í•„ìˆ˜</li>
                <li>Behavior Tree ë³€ìˆ˜ëŠ” íƒ€ì… ì•ˆì „í•˜ê²Œ ì‚¬ìš© (<code>BlackboardVariable&lt;T&gt;</code>)</li>
            </ul>
        </div>

        <hr style="margin: 60px 0; border: none; border-top: 2px solid #E5E8EB;">

        <div class="info-box">
            <h4>ğŸ“– ê´€ë ¨ ë¬¸ì„œ</h4>
            <ul>
                <li><strong>RULE_12_PROJECT_FILE_LOCATIONS.md</strong>: ëª¨ë“  íŒŒì¼ ìœ„ì¹˜ ì •ë¦¬</li>
                <li><strong>complete-lecture-notes-4.html</strong>: ì „ì²´ ê°•ì˜ ë…¸íŠ¸ (Lecture 1-15)</li>
                <li><strong>ARCHITECTURE_KR.html</strong>: í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨</li>
            </ul>
        </div>

        <p style="text-align: center; margin-top: 60px; color: #6B7684; font-size: 14px;">
            ì‘ì„±ì¼: 2025-10-18 | ì»¤ë°‹: 4a4845e (Lecture 15: Returning Supplies)<br>
            ë¬¸ì„œ ë²„ì „: 1.0
        </p>
    </div>
</body>
</html>
